<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>ServingXML Element Reference</title><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="d4e1"></a>ServingXML Element Reference</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Daniel</span> <span class="surname">Parker</span></h3></div></div><div><div class="legalnotice"><a name="d4e7"></a>
<p>
Licensed under the Apache License, Version 2.0 (the "License"); 
you may not use this file except in compliance with the License. 
You may obtain a copy of the License at <a class="ulink" href="http://www.apache.org/licenses/LICENSE-2.0/" target="_top">Apache License, Version 2.0</a>
</p>
<p>
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, 
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
See the License for the specific language governing permissions and 
limitations under the License. 
</p>
</div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="reference"><a href="#ref-config-components">I. Configuration Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:cacheSettings">sx:cacheSettings</a></span><span class="refpurpose"> &#8212; Cache settings</span></dt><dt><span class="refentrytitle"><a href="#sx:escapeSubstitutions">sx:escapeSubstitutions</a></span><span class="refpurpose"> &#8212; Define escape rules for special characters in evaluations of <a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></span></dt><dt><span class="refentrytitle"><a href="#sx:escapeVariables">sx:escapeVariables</a></span><span class="refpurpose"> &#8212; Deprecated in 1.0, replaced by <a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a></span></dt><dt><span class="refentrytitle"><a href="#sx:expiryOptions">sx:expiryOptions</a></span><span class="refpurpose"> &#8212; Expiry options</span></dt><dt><span class="refentrytitle"><a href="#sx:patternMatcher">sx:patternMatcher</a></span><span class="refpurpose"> &#8212; Regular expression pattern matcher</span></dt><dt><span class="refentrytitle"><a href="#sx:xsltConfiguration">sx:xsltConfiguration</a></span><span class="refpurpose"> &#8212; XSLT configuration</span></dt></dl></dd><dt><span class="reference"><a href="#ref-common-elements">II. Common Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#idref-attributes">id ref attributes</a></span><span class="refpurpose"> &#8212; Common id ref attributes for referencing top level elements</span></dt><dt><span class="refentrytitle"><a href="#sx:defaultValue">sx:defaultValue</a></span><span class="refpurpose"> &#8212; Defines a default value for a parameter or field</span></dt><dt><span class="refentrytitle"><a href="#sx:documentation">sx:documentation</a></span><span class="refpurpose"> &#8212; To annotate scripts with human readable 
    documentation.  sx:documentation elements may appear anywhere in resources
    scripts, and are ignored by the processor.</span></dt><dt><span class="refentrytitle"><a href="#sx:parameter">sx:parameter</a></span><span class="refpurpose"> &#8212; Parameter</span></dt><dt><span class="refentrytitle"><a href="#sx:property">sx:property</a></span><span class="refpurpose"> &#8212; Property</span></dt><dt><span class="refentrytitle"><a href="#sx:systemProperty">sx:systemProperty</a></span><span class="refpurpose"> &#8212; System property</span></dt><dt><span class="refentrytitle"><a href="#sx:validator">sx:validator</a></span><span class="refpurpose"> &#8212; Abstract element standing for a validator</span></dt><dt><span class="refentrytitle"><a href="#sx:removeEmptyElementFilter">sx:removeEmptyElementFilter</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a></span></dt><dt><span class="refentrytitle"><a href="#sx:withParameters">sx:withParameters</a></span><span class="refpurpose"> &#8212; Declare the parameters that need to be passed to an XSLT processor</span></dt></dl></dd><dt><span class="reference"><a href="#ref-resourcesref">III. Resources, Service and Task Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:choose">sx:choose</a></span><span class="refpurpose"> &#8212; Choose from alternatives with XPATH test conditions</span></dt><dt><span class="refentrytitle"><a href="#sx:include">sx:include</a></span><span class="refpurpose"> &#8212; Include another resources script</span></dt><dt><span class="refentrytitle"><a href="#sx:onError">sx:onError</a></span><span class="refpurpose"> &#8212; Catches an exception raised by a <a class="xref" href="#sx:task" title="sx:task">sx:task</a> element, to be revisited</span></dt><dt><span class="refentrytitle"><a href="#sx:raiseError">sx:raiseError</a></span><span class="refpurpose"> &#8212; Raises an exception inside an <a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a>, to be revisited</span></dt><dt><span class="refentrytitle"><a href="#sx:resources">sx:resources</a></span><span class="refpurpose"> &#8212; The root element of a resources script</span></dt><dt><span class="refentrytitle"><a href="#sx:runService">sx:runService</a></span><span class="refpurpose"> &#8212; Runs another service from within a resources script</span></dt><dt><span class="refentrytitle"><a href="#sx:service">sx:service</a></span><span class="refpurpose"> &#8212; Service</span></dt><dt><span class="refentrytitle"><a href="#sx:task">sx:task</a></span><span class="refpurpose"> &#8212; Abstract element standing for a task</span></dt></dl></dd><dt><span class="reference"><a href="#ref-string-elements">IV. String Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:concat">sx:concat</a></span><span class="refpurpose"> &#8212; Common attributes for elements</span></dt><dt><span class="refentrytitle"><a href="#sx:convertDate">sx:convertDate</a></span><span class="refpurpose"> &#8212; Convert date</span></dt><dt><span class="refentrytitle"><a href="#sx:convertToDateTime">sx:convertToDateTime</a></span><span class="refpurpose"> &#8212; Convert to datetime</span></dt><dt><span class="refentrytitle"><a href="#sx:currentDate">sx:currentDate</a></span><span class="refpurpose"> &#8212; Current date</span></dt><dt><span class="refentrytitle"><a href="#sx:currentDateTime">sx:currentDateTime</a></span><span class="refpurpose"> &#8212; Current datetime</span></dt><dt><span class="refentrytitle"><a href="#sx:currentTime">sx:currentTime</a></span><span class="refpurpose"> &#8212; Current time</span></dt><dt><span class="refentrytitle"><a href="#sx:date">sx:date</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:currentDateTime" title="sx:currentDateTime">sx:currentDateTime</a> and <a class="xref" href="#sx:formatDateTime" title="sx:formatDateTime">sx:formatDateTime</a></span></dt><dt><span class="refentrytitle"><a href="#sx:escapeMarkup">sx:escapeMarkup</a></span><span class="refpurpose"> &#8212; Evaluate children as a string, escaping XML tags</span></dt><dt><span class="refentrytitle"><a href="#sx:findAndReplace">sx:findAndReplace</a></span><span class="refpurpose"> &#8212; Find and replace in a string using regular expressions</span></dt><dt><span class="refentrytitle"><a href="#sx:formatDateTime">sx:formatDateTime</a></span><span class="refpurpose"> &#8212; Format datetime</span></dt><dt><span class="refentrytitle"><a href="#sx:lineNumber">sx:lineNumber</a></span><span class="refpurpose"> &#8212; Output current line number</span></dt><dt><span class="refentrytitle"><a href="#sx:preserveMarkup">sx:preserveMarkup</a></span><span class="refpurpose"> &#8212; Evaluate children as a string, preserving XML tags without escaping them</span></dt><dt><span class="refentrytitle"><a href="#sx:replace">sx:replace</a></span><span class="refpurpose"> &#8212; Deprecated, replaced in 0.9.2 by <a class="xref" href="#sx:findAndReplace" title="sx:findAndReplace">sx:findAndReplace</a></span></dt><dt><span class="refentrytitle"><a href="#sx:string">sx:string</a></span><span class="refpurpose"> &#8212; Abstract element standing for any string element, e.g. <a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a></span></dt><dt><span class="refentrytitle"><a href="#sx:stringable">sx:stringable</a></span><span class="refpurpose"> &#8212; Abstract element standing for any element that can render itself as a string, e.g. <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a></span></dt><dt><span class="refentrytitle"><a href="#sx:toString">sx:toString</a></span><span class="refpurpose"> &#8212; Ouput a string</span></dt></dl></dd><dt><span class="reference"><a href="#chap-sourcesink-elements">V. Stream Source and Sink Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:command">sx:command</a></span><span class="refpurpose"> &#8212; Command</span></dt><dt><span class="refentrytitle"><a href="#sx:commandArg">sx:commandArg</a></span><span class="refpurpose"> &#8212; Command argument</span></dt><dt><span class="refentrytitle"><a href="#sx:commandSink">sx:commandSink</a></span><span class="refpurpose"> &#8212; Command sink</span></dt><dt><span class="refentrytitle"><a href="#sx:commandSource">sx:commandSource</a></span><span class="refpurpose"> &#8212; Command source</span></dt><dt><span class="refentrytitle"><a href="#sx:defaultStreamSink">sx:defaultStreamSink</a></span><span class="refpurpose"> &#8212; Default stream sink</span></dt><dt><span class="refentrytitle"><a href="#sx:defaultStreamSource">sx:defaultStreamSource</a></span><span class="refpurpose"> &#8212; Default stream source</span></dt><dt><span class="refentrytitle"><a href="#sx:envVariable">sx:envVariable</a></span><span class="refpurpose"> &#8212; Environment variable</span></dt><dt><span class="refentrytitle"><a href="#sx:fileSink">sx:fileSink</a></span><span class="refpurpose"> &#8212; File sink</span></dt><dt><span class="refentrytitle"><a href="#sx:fileSource">sx:fileSource</a></span><span class="refpurpose"> &#8212; File source</span></dt><dt><span class="refentrytitle"><a href="#sx:inlineSource">sx:inlineSource</a></span><span class="refpurpose"> &#8212; Inline source</span></dt><dt><span class="refentrytitle"><a href="#sx:streamSink">sx:streamSink</a></span><span class="refpurpose"> &#8212; Abstract element standing for a stream sink</span></dt><dt><span class="refentrytitle"><a href="#sx:streamSource">sx:streamSource</a></span><span class="refpurpose"> &#8212; Abstract element standing for a stream source</span></dt><dt><span class="refentrytitle"><a href="#sx:stringSource">sx:stringSource</a></span><span class="refpurpose"> &#8212; String source</span></dt><dt><span class="refentrytitle"><a href="#sx:urlSource">sx:urlSource</a></span><span class="refpurpose"> &#8212; URL source</span></dt></dl></dd><dt><span class="reference"><a href="#chap-xml-elements">VI. XML Content Producing and Transforming Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:assert">sx:assert</a></span><span class="refpurpose"> &#8212; Assert</span></dt><dt><span class="refentrytitle"><a href="#sx:attribute">sx:attribute</a></span><span class="refpurpose"> &#8212; Add an attribute to wrapping elements inside a <a class="xref" href="#sx:wrap" title="sx:wrap">sx:wrap</a> element</span></dt><dt><span class="refentrytitle"><a href="#sx:batchedSerializer">sx:batchedSerializer</a></span><span class="refpurpose"> &#8212; Batched serializer</span></dt><dt><span class="refentrytitle"><a href="#sx:cachedContent">sx:cachedContent</a></span><span class="refpurpose"> &#8212; Cached content</span></dt><dt><span class="refentrytitle"><a href="#sx:content">sx:content</a></span><span class="refpurpose"> &#8212; Abstract element standing for XML content</span></dt><dt><span class="refentrytitle"><a href="#sx:customEmitter">sx:customEmitter</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:customSerializer" title="sx:customSerializer">sx:customSerializer</a></span></dt><dt><span class="refentrytitle"><a href="#sx:customSerializer">sx:customSerializer</a></span><span class="refpurpose"> &#8212; Custom serializer</span></dt><dt><span class="refentrytitle"><a href="#sx:document">sx:document</a></span><span class="refpurpose"> &#8212; XML document</span></dt><dt><span class="refentrytitle"><a href="#sx:documentSequence">sx:documentSequence</a></span><span class="refpurpose"> &#8212; Document sequence</span></dt><dt><span class="refentrytitle"><a href="#sx:dynamicContent">sx:dynamicContent</a></span><span class="refpurpose"> &#8212; Dynamic content</span></dt><dt><span class="refentrytitle"><a href="#sx:saxSink">sx:saxSink</a></span><span class="refpurpose"> &#8212; Abstract element standing for a sink of SAX events</span></dt><dt><span class="refentrytitle"><a href="#sx:emptyDocument">sx:emptyDocument</a></span><span class="refpurpose"> &#8212; Empty XML document</span></dt><dt><span class="refentrytitle"><a href="#sx:filter">sx:filter</a></span><span class="refpurpose"> &#8212; Deprecated in 1.0.0, use <a class="xref" href="#sx:content" title="sx:content">sx:content</a> instead</span></dt><dt><span class="refentrytitle"><a href="#sx:key">sx:key</a></span><span class="refpurpose"> &#8212; Key for XML content</span></dt><dt><span class="refentrytitle"><a href="#sx:keyField">sx:keyField</a></span><span class="refpurpose"> &#8212; Key field</span></dt><dt><span class="refentrytitle"><a href="#sx:outputProperty">sx:outputProperty</a></span><span class="refpurpose"> &#8212; Output property for XML serializer</span></dt><dt><span class="refentrytitle"><a href="#sx:processSubtree">sx:processSubtree</a></span><span class="refpurpose"> &#8212; Perform tasks on subtrees of an XML document</span></dt><dt><span class="refentrytitle"><a href="#sx:recordContent">sx:recordContent</a></span><span class="refpurpose"> &#8212; XML content from records</span></dt><dt><span class="refentrytitle"><a href="#sx:removeEmptyAttributes">sx:removeEmptyAttributes</a></span><span class="refpurpose"> &#8212; Remove empty attributes from XML elements</span></dt><dt><span class="refentrytitle"><a href="#sx:removeEmptyElementFilter">sx:removeEmptyElementFilter</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a></span></dt><dt><span class="refentrytitle"><a href="#sx:removeEmptyElements">sx:removeEmptyElements</a></span><span class="refpurpose"> &#8212; Remove empty elements from XML content</span></dt><dt><span class="refentrytitle"><a href="#sx:saxFilter">sx:saxFilter</a></span><span class="refpurpose"> &#8212; SAX filter</span></dt><dt><span class="refentrytitle"><a href="#sx:saxReader">sx:saxReader</a></span><span class="refpurpose"> &#8212; SAX reader</span></dt><dt><span class="refentrytitle"><a href="#sx:saxSource">sx:saxSource</a></span><span class="refpurpose"> &#8212; Abstract element standing for a source of SAX events</span></dt><dt><span class="refentrytitle"><a href="#sx:serialize">sx:serialize</a></span><span class="refpurpose"> &#8212; Serialize XML content</span></dt><dt><span class="refentrytitle"><a href="#sx:style">sx:style</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a></span></dt><dt><span class="refentrytitle"><a href="#sx:tagTee">sx:tagTee</a></span><span class="refpurpose"> &#8212; Splits the stream of SAX events</span></dt><dt><span class="refentrytitle"><a href="#sx:subtreeFilter">sx:subtreeFilter</a></span><span class="refpurpose"> &#8212; Apply XML filters to subtrees of XML</span></dt><dt><span class="refentrytitle"><a href="#sx:transform">sx:transform</a></span><span class="refpurpose"> &#8212; Transform XML content</span></dt><dt><span class="refentrytitle"><a href="#sx:wrap">sx:wrap</a></span><span class="refpurpose"> &#8212; Wrap XML content with surrounding elements</span></dt><dt><span class="refentrytitle"><a href="#sx:xmlEmitter">sx:xmlEmitter</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a></span></dt><dt><span class="refentrytitle"><a href="#sx:xslt">sx:xslt</a></span><span class="refpurpose"> &#8212; XSLT stylesheet</span></dt><dt><span class="refentrytitle"><a href="#sx:xsltSerializer">sx:xsltSerializer</a></span><span class="refpurpose"> &#8212; XML serializer of XSLT processor</span></dt></dl></dd><dt><span class="reference"><a href="#ref-recordio">VII. Record Readers, Writers and Filters</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:aggregateRecords">sx:aggregateRecords</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a></span></dt><dt><span class="refentrytitle"><a href="#sx:and">sx:and</a></span><span class="refpurpose"> &#8212; And operator</span></dt><dt><span class="refentrytitle"><a href="#sx:batchRecords">sx:batchRecords</a></span><span class="refpurpose"> &#8212; Batch records</span></dt><dt><span class="refentrytitle"><a href="#sx:batchedRecordWriter">sx:batchedRecordWriter</a></span><span class="refpurpose"> &#8212; Write records in batches</span></dt><dt><span class="refentrytitle"><a href="#sx:combineRecords">sx:combineRecords</a></span><span class="refpurpose"> &#8212; Compose a composite record</span></dt><dt><span class="refentrytitle"><a href="#sx:composeRecord">sx:composeRecord</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.1.2, aliased to <a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a></span></dt><dt><span class="refentrytitle"><a href="#sx:customRecordFilter">sx:customRecordFilter</a></span><span class="refpurpose"> &#8212; Custom record filter</span></dt><dt><span class="refentrytitle"><a href="#sx:customRecordReader">sx:customRecordReader</a></span><span class="refpurpose"> &#8212; Custom record reader</span></dt><dt><span class="refentrytitle"><a href="#sx:decomposeRecord">sx:decomposeRecord</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.1.2, aliased to <a class="xref" href="#sx:decomposeRecord" title="sx:decomposeRecord">sx:decomposeRecord</a></span></dt><dt><span class="refentrytitle"><a href="#sx:discard">sx:discard</a></span><span class="refpurpose"> &#8212; Discard a record</span></dt><dt><span class="refentrytitle"><a href="#sx:discardFilter">sx:discardFilter</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:discardHandler" title="sx:discardHandler">sx:discardHandler</a></span></dt><dt><span class="refentrytitle"><a href="#sx:discardHandler">sx:discardHandler</a></span><span class="refpurpose"> &#8212; Discard record handler</span></dt><dt><span class="refentrytitle"><a href="#sx:fieldRestriction">sx:fieldRestriction</a></span><span class="refpurpose"> &#8212; Restrict field</span></dt><dt><span class="refentrytitle"><a href="#sx:fieldValidator">sx:fieldValidator</a></span><span class="refpurpose"> &#8212; Field validator</span></dt><dt><span class="refentrytitle"><a href="#sx:fileFilter">sx:fileFilter</a></span><span class="refpurpose"> &#8212; File filter</span></dt><dt><span class="refentrytitle"><a href="#sx:log">sx:log</a></span><span class="refpurpose"> &#8212; Log</span></dt><dt><span class="refentrytitle"><a href="#sx:modifyRecord">sx:modifyRecord</a></span><span class="refpurpose"> &#8212; Modify a record</span></dt><dt><span class="refentrytitle"><a href="#sx:newField">sx:newField</a></span><span class="refpurpose"> &#8212; Add a field to a record</span></dt><dt><span class="refentrytitle"><a href="#sx:newRecord">sx:newRecord</a></span><span class="refpurpose"> &#8212; Create a new record</span></dt><dt><span class="refentrytitle"><a href="#sx:or">sx:or</a></span><span class="refpurpose"> &#8212; Or condition</span></dt><dt><span class="refentrytitle"><a href="#sx:parameterReader">sx:parameterReader</a></span><span class="refpurpose"> &#8212; Read parameters as record</span></dt><dt><span class="refentrytitle"><a href="#sx:processRecord">sx:processRecord</a></span><span class="refpurpose"> &#8212; Perform tasks on individual record</span></dt><dt><span class="refentrytitle"><a href="#sx:processRecordFilter">sx:processRecordFilter</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></span></dt><dt><span class="refentrytitle"><a href="#sx:processRecords">sx:processRecords</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a></span></dt><dt><span class="refentrytitle"><a href="#sx:regexFieldCriteria">sx:regexFieldCriteria</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a></span></dt><dt><span class="refentrytitle"><a href="#sx:quoteSymbol">sx:quoteSymbol</a></span><span class="refpurpose"> &#8212; Quote symbol</span></dt><dt><span class="refentrytitle"><a href="#sx:recordAggregator">sx:recordAggregator</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a></span></dt><dt><span class="refentrytitle"><a href="#sx:recordProjection">sx:recordProjection</a></span><span class="refpurpose"> &#8212; Project a subset of fields</span></dt><dt><span class="refentrytitle"><a href="#sx:recordFilter">sx:recordFilter</a></span><span class="refpurpose"> &#8212; Abstract element standing for a record filter</span></dt><dt><span class="refentrytitle"><a href="#sx:recordReader">sx:recordReader</a></span><span class="refpurpose"> &#8212; Abstract element standing for a record reader</span></dt><dt><span class="refentrytitle"><a href="#sx:recordRestriction">sx:recordRestriction</a></span><span class="refpurpose"> &#8212; Restriction on a record</span></dt><dt><span class="refentrytitle"><a href="#sx:recordWriter">sx:recordWriter</a></span><span class="refpurpose"> &#8212; Abstract element standing for a record writer</span></dt><dt><span class="refentrytitle"><a href="#sx:recordStream">sx:recordStream</a></span><span class="refpurpose"> &#8212; A record stream</span></dt><dt><span class="refentrytitle"><a href="#sx:recordTee">sx:recordTee</a></span><span class="refpurpose"> &#8212; Split record stream</span></dt><dt><span class="refentrytitle"><a href="#sx:recordTest">sx:recordTest</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a></span></dt><dt><span class="refentrytitle"><a href="#sx:recordValidator">sx:recordValidator</a></span><span class="refpurpose"> &#8212; Validate record</span></dt><dt><span class="refentrytitle"><a href="#sx:replaceRecord">sx:replaceRecord</a></span><span class="refpurpose"> &#8212; Replace record with one or more other records</span></dt><dt><span class="refentrytitle"><a href="#sx:replaceRecordFilter">sx:replaceRecordFilter</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.0.2, replaced by <a class="xref" href="#sx:replaceRecord" title="sx:replaceRecord">sx:replaceRecord</a></span></dt><dt><span class="refentrytitle"><a href="#sx:restrictRecordType">sx:restrictRecordType</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a></span></dt><dt><span class="refentrytitle"><a href="#sx:restriction">sx:restriction</a></span><span class="refpurpose"> &#8212; Abstract element standing for a restriction</span></dt><dt><span class="refentrytitle"><a href="#sx:restrictField">sx:restrictField</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a></span></dt><dt><span class="refentrytitle"><a href="#sx:restrictRecordFilter">sx:restrictRecordFilter</a></span><span class="refpurpose"> &#8212; Restrict records</span></dt><dt><span class="refentrytitle"><a href="#sx:restrictRecordType">sx:restrictRecordType</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a></span></dt><dt><span class="refentrytitle"><a href="#sx:splitRecord">sx:splitRecord</a></span><span class="refpurpose"> &#8212; Decompose a composite record into its constituent subrecords</span></dt><dt><span class="refentrytitle"><a href="#sx:directoryReader">sx:directoryReader</a></span><span class="refpurpose"> &#8212; Read a directory</span></dt><dt><span class="refentrytitle"><a href="#sx:subtreeRecordReader">sx:subtreeRecordReader</a></span><span class="refpurpose"> &#8212; Read subtrees of XML document as records</span></dt><dt><span class="refentrytitle"><a href="#sx:validateField">sx:validateField</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.0, replaced by <a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a></span></dt><dt><span class="refentrytitle"><a href="#sx:validateRecord">sx:validateRecord</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.0, replaced by <a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a></span></dt><dt><span class="refentrytitle"><a href="#sx:valueRestriction">sx:valueRestriction</a></span><span class="refpurpose"> &#8212; Restrict value</span></dt><dt><span class="refentrytitle"><a href="#sx:writeRecords">sx:writeRecords</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a></span></dt><dt><span class="refentrytitle"><a href="#sx:xmlRecordReader">sx:xmlRecordReader</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.0, replaced by <a class="xref" href="#sx:subtreeRecordReader" title="sx:subtreeRecordReader">sx:subtreeRecordReader</a></span></dt></dl></dd><dt><span class="reference"><a href="#ref-recordmapping">VIII. Record Mapping Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#record-mapping-grouping-element">Grouping Element</a></span><span class="refpurpose"> &#8212; Grouping Element</span></dt><dt><span class="refentrytitle"><a href="#record-mapping-literal-element">Literal Element</a></span><span class="refpurpose"> &#8212; Literal Element</span></dt><dt><span class="refentrytitle"><a href="#sx:cdata">sx:cdata</a></span><span class="refpurpose"> &#8212; CDATA output</span></dt><dt><span class="refentrytitle"><a href="#sx:defaultFieldAttributeMap">sx:defaultFieldAttributeMap</a></span><span class="refpurpose"> &#8212; Default field attribute map</span></dt><dt><span class="refentrytitle"><a href="#sx:defaultFieldElementMap">sx:defaultFieldElementMap</a></span><span class="refpurpose"> &#8212; Default field element map</span></dt><dt><span class="refentrytitle"><a href="#sx:defaultFieldMapping">sx:defaultFieldMapping</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.0, aliased to <a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a></span></dt><dt><span class="refentrytitle"><a href="#sx:documentFragment">sx:documentFragment</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a></span></dt><dt><span class="refentrytitle"><a href="#sx:elementMap">sx:elementMap</a></span><span class="refpurpose"> &#8212; Element map</span></dt><dt><span class="refentrytitle"><a href="#sx:fieldAttributeMap">sx:fieldAttributeMap</a></span><span class="refpurpose"> &#8212; Map field to attribute</span></dt><dt><span class="refentrytitle"><a href="#sx:fieldElementMap">sx:fieldElementMap</a></span><span class="refpurpose"> &#8212; Map field to element</span></dt><dt><span class="refentrytitle"><a href="#sx:fieldElementSequenceMap">sx:fieldElementSequenceMap</a></span><span class="refpurpose"> &#8212; Map field to element sequence</span></dt><dt><span class="refentrytitle"><a href="#sx:groupBy">sx:groupBy</a></span><span class="refpurpose"> &#8212; Group by fields</span></dt><dt><span class="refentrytitle"><a href="#sx:groupChoice">sx:groupChoice</a></span><span class="refpurpose"> &#8212; Choose one of another of alternative groupings</span></dt><dt><span class="refentrytitle"><a href="#sx:innerGroup">sx:innerGroup</a></span><span class="refpurpose"> &#8212; Output inner grouping elements</span></dt><dt><span class="refentrytitle"><a href="#sx:insertContent">sx:insertContent</a></span><span class="refpurpose"> &#8212; Deprecated in 0.9.3, replaced by <a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a></span></dt><dt><span class="refentrytitle"><a href="#sx:mapXml">sx:mapXml</a></span><span class="refpurpose"> &#8212; Abstract element standing for any element that maps records to XML</span></dt><dt><span class="refentrytitle"><a href="#sx:nestedContent">sx:nestedContent</a></span><span class="refpurpose"> &#8212; Nested XML content</span></dt><dt><span class="refentrytitle"><a href="#sx:onRecord">sx:onRecord</a></span><span class="refpurpose"> &#8212; On record event</span></dt><dt><span class="refentrytitle"><a href="#sx:outerGroup">sx:outerGroup</a></span><span class="refpurpose"> &#8212; Output outer grouping elements</span></dt><dt><span class="refentrytitle"><a href="#sx:reorderRecords">sx:reorderRecords</a></span><span class="refpurpose"> &#8212; Reorder records within a group</span></dt><dt><span class="refentrytitle"><a href="#sx:recordMapping">sx:recordMapping</a></span><span class="refpurpose"> &#8212; Mapping of records to XML</span></dt><dt><span class="refentrytitle"><a href="#sx:recordSubtreeMap">sx:recordSubtreeMap</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:transformRecord" title="sx:transformRecord">sx:transformRecord</a></span></dt><dt><span class="refentrytitle"><a href="#sx:segmentMapping">sx:segmentMapping</a></span><span class="refpurpose"> &#8212; Deprecated in 0.9.3, replaced by <a class="xref" href="#sx:subrecordMapping" title="sx:subrecordMapping">sx:subrecordMapping</a></span></dt><dt><span class="refentrytitle"><a href="#sx:subrecordMapping">sx:subrecordMapping</a></span><span class="refpurpose"> &#8212; Map subrecords of a composite record to XML</span></dt><dt><span class="refentrytitle"><a href="#sx:sort">sx:sort</a></span><span class="refpurpose"> &#8212; Abstract element standing for a sort element</span></dt><dt><span class="refentrytitle"><a href="#sx:transformRecord">sx:transformRecord</a></span><span class="refpurpose"> &#8212; Transform record to XML</span></dt></dl></dd><dt><span class="reference"><a href="#ref-inverserecordmapping">IX. Inverse Record Mapping Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:documentSubtreeMap">sx:documentSubtreeMap</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a></span></dt><dt><span class="refentrytitle"><a href="#sx:flattenSubtree">sx:flattenSubtree</a></span><span class="refpurpose"> &#8212; Flatten XML subtree</span></dt><dt><span class="refentrytitle"><a href="#sx:inverseRecordMapping">sx:inverseRecordMapping</a></span><span class="refpurpose"> &#8212; Map XML to records</span></dt><dt><span class="refentrytitle"><a href="#sx:onSubtree">sx:onSubtree</a></span><span class="refpurpose"> &#8212; On subtree event</span></dt><dt><span class="refentrytitle"><a href="#sx:shredXml">sx:shredXml</a></span><span class="refpurpose"> &#8212; Abstract element standing for any element that maps XML to records</span></dt><dt><span class="refentrytitle"><a href="#sx:subtreeFieldMap">sx:subtreeFieldMap</a></span><span class="refpurpose"> &#8212; Map from subtree to field</span></dt><dt><span class="refentrytitle"><a href="#sx:subtreeRecordMap">sx:subtreeRecordMap</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a></span></dt></dl></dd><dt><span class="reference"><a href="#ref-flatfile-module">X. Flat File Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#flat-file-option-attributes">Flat File Options - Attributes</a></span><span class="refpurpose"> &#8212; Flat file options</span></dt><dt><span class="refentrytitle"><a href="#flat-file-option-elements">Flat File Options - Elements</a></span><span class="refpurpose"> &#8212; Flat File Options</span></dt><dt><span class="refentrytitle"><a href="#sx:annotationRecord">sx:annotationRecord</a></span><span class="refpurpose"> &#8212; Annotation record</span></dt><dt><span class="refentrytitle"><a href="#sx:binaryField">sx:binaryField</a></span><span class="refpurpose"> &#8212; Binary field</span></dt><dt><span class="refentrytitle"><a href="#sx:combinePhysicalRecords">sx:combinePhysicalRecords</a></span><span class="refpurpose"> &#8212; Combine multiple physical records into a composite logical 
    record</span></dt><dt><span class="refentrytitle"><a href="#sx:commentStarter">sx:commentStarter</a></span><span class="refpurpose"></span></dt><dt><span class="refentrytitle"><a href="#sx:commentSymbol">sx:commentSymbol</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:commentStarter" title="sx:commentStarter">sx:commentStarter</a></span></dt><dt><span class="refentrytitle"><a href="#sx:compositeFlatRecordType">sx:compositeFlatRecordType</a></span><span class="refpurpose"> &#8212; Composite flat record type</span></dt><dt><span class="refentrytitle"><a href="#sx:crcFlatFileSignature">sx:crcFlatFileSignature</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a> with method="crc"</span></dt><dt><span class="refentrytitle"><a href="#sx:delimitedField">sx:delimitedField</a></span><span class="refpurpose"> &#8212; Delimited field</span></dt><dt><span class="refentrytitle"><a href="#sx:delimitedNamedField">sx:delimitedNamedField</a></span><span class="refpurpose"> &#8212; Delimited name/value pair</span></dt><dt><span class="refentrytitle"><a href="#sx:fieldDelimiter">sx:fieldDelimiter</a></span><span class="refpurpose"> &#8212; Field delimiter</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFile">sx:flatFile</a></span><span class="refpurpose"> &#8212; Flat file</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFileBody">sx:flatFileBody</a></span><span class="refpurpose"> &#8212; Flat file body</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFileSignature">sx:flatFileSignature</a></span><span class="refpurpose"> &#8212; Flat file signature</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFileHeader">sx:flatFileHeader</a></span><span class="refpurpose"> &#8212; Flat file header</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFileReader">sx:flatFileReader</a></span><span class="refpurpose"> &#8212; Read flat file</span></dt><dt><span class="refentrytitle"><a href="#sx:flatRecordField">sx:flatRecordField</a></span><span class="refpurpose"> &#8212; Abstract element standing for any flat record field</span></dt><dt><span class="refentrytitle"><a href="#sx:flatRecordType">sx:flatRecordType</a></span><span class="refpurpose"> &#8212; Flat record type</span></dt><dt><span class="refentrytitle"><a href="#sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a></span><span class="refpurpose"> &#8212; Choose from alternative record definitions</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFileTrailer">sx:flatFileTrailer</a></span><span class="refpurpose"> &#8212; Flat file trailer</span></dt><dt><span class="refentrytitle"><a href="#sx:flatFileWriter">sx:flatFileWriter</a></span><span class="refpurpose"> &#8212; Abstract element standing for any flat file writer</span></dt><dt><span class="refentrytitle"><a href="#sx:integerField">sx:integerField</a></span><span class="refpurpose"> &#8212; Integer field</span></dt><dt><span class="refentrytitle"><a href="#sx:mergePhysicalSegments">sx:mergePhysicalSegments</a></span><span class="refpurpose"> &#8212; Merges a number of physical segments into one logical 
    record.</span></dt><dt><span class="refentrytitle"><a href="#sx:metaRecord">sx:metaRecord</a></span><span class="refpurpose"> &#8212; Meta record</span></dt><dt><span class="refentrytitle"><a href="#sx:nameDelimiter">sx:nameDelimiter</a></span><span class="refpurpose"> &#8212; Separate a field name and value</span></dt><dt><span class="refentrytitle"><a href="#sx:packedDecimalField">sx:packedDecimalField</a></span><span class="refpurpose"> &#8212; Packed decimal field</span></dt><dt><span class="refentrytitle"><a href="#sx:nonrepeatingGroup">sx:nonrepeatingGroup</a></span><span class="refpurpose"> &#8212; A nonrepeating group is a field that contains at most one group of 
    subfields within a segment (an area of a record terminated with a segment 
    delimiter.)
  </span></dt><dt><span class="refentrytitle"><a href="#sx:overpunchField">sx:overpunchField</a></span><span class="refpurpose"> &#8212; Overpunch field</span></dt><dt><span class="refentrytitle"><a href="#sx:positionalField">sx:positionalField</a></span><span class="refpurpose"> &#8212; Positional field</span></dt><dt><span class="refentrytitle"><a href="#sx:recordComposition">sx:recordComposition</a></span><span class="refpurpose"> &#8212; Deprecated in version 1.1.2, aliased to <a class="xref" href="#sx:combinePhysicalRecords" title="sx:combinePhysicalRecords">sx:combinePhysicalRecords</a>
    </span></dt><dt><span class="refentrytitle"><a href="#sx:recordDelimiter">sx:recordDelimiter</a></span><span class="refpurpose"> &#8212; Separate records</span></dt><dt><span class="refentrytitle"><a href="#sx:repeatDelimiter">sx:repeatDelimiter</a></span><span class="refpurpose"> &#8212; Separate repeating groups within a segment</span></dt><dt><span class="refentrytitle"><a href="#sx:repeatingField">sx:repeatingField</a></span><span class="refpurpose"> &#8212; Field repeats</span></dt><dt><span class="refentrytitle"><a href="#sx:repeatingNamedField">sx:repeatingNamedField</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:repeatingField" title="sx:repeatingField">sx:repeatingField</a></span></dt><dt><span class="refentrytitle"><a href="#sx:repeatingGroup">sx:repeatingGroup</a></span><span class="refpurpose"> &#8212; A repeating group is a field that contains zero or more groups of 
    subfields within a segment (an area of a record terminated with a segment
    delimiter.)  The groups may be separated by <a class="xref" href="#sx:repeatDelimiter" title="sx:repeatDelimiter">sx:repeatDelimiter</a>s,
    or may be of fixed length.
  </span></dt><dt><span class="refentrytitle"><a href="#sx:segmentComposition">sx:segmentComposition</a></span><span class="refpurpose"> &#8212; Deprecated in 1.1.2, aliased to <a class="xref" href="#sx:mergePhysicalSegments" title="sx:mergePhysicalSegments">sx:mergePhysicalSegments</a></span></dt><dt><span class="refentrytitle"><a href="#sx:segmentDelimiter">sx:segmentDelimiter</a></span><span class="refpurpose"> &#8212; Separate a record into segments containing repeating groups</span></dt><dt><span class="refentrytitle"><a href="#sx:separator">sx:separator</a></span><span class="refpurpose"> &#8212; Abstract element standing for any separator</span></dt><dt><span class="refentrytitle"><a href="#sx:sizeFlatFileSignature">sx:sizeFlatFileSignature</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a> with method="size"</span></dt><dt><span class="refentrytitle"><a href="#sx:subfieldDelimiter">sx:subfieldDelimiter</a></span><span class="refpurpose"> &#8212; Separate values within a field</span></dt><dt><span class="refentrytitle"><a href="#sx:tagDelimiter">sx:tagDelimiter</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:nameDelimiter" title="sx:nameDelimiter">sx:nameDelimiter</a></span></dt><dt><span class="refentrytitle"><a href="#sx:taggedDelimitedField">sx:taggedDelimitedField</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:delimitedNamedField" title="sx:delimitedNamedField">sx:delimitedNamedField</a></span></dt><dt><span class="refentrytitle"><a href="#sx:taggedFlatRecordField">sx:taggedFlatRecordField</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></span></dt><dt><span class="refentrytitle"><a href="#sx:vbsFlatRecordType">sx:vbsFlatRecordType</a></span><span class="refpurpose"> &#8212; Variable Block Segment (VBS) record type</span></dt><dt><span class="refentrytitle"><a href="#sx:whitespaceSeparator">sx:whitespaceSeparator</a></span><span class="refpurpose"> &#8212; Separate fields with whitespace</span></dt></dl></dd><dt><span class="reference"><a href="#ref-sql-module">XI. SQL Elements</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#sx:customJdbcConnectionPool">sx:customJdbcConnectionPool</a></span><span class="refpurpose"> &#8212; Custom JDBC connection pool</span></dt><dt><span class="refentrytitle"><a href="#sx:jdbcConnectionPool">sx:jdbcConnectionPool</a></span><span class="refpurpose"> &#8212; Abstract element standing for a JDBC connection pool</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlBatchWriter">sx:sqlBatchWriter</a></span><span class="refpurpose"> &#8212; SQL batch writer</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlCommand">sx:sqlCommand</a></span><span class="refpurpose"> &#8212; Execute a command on the server after opening a connection</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlConnectionPool">sx:sqlConnectionPool</a></span><span class="refpurpose"> &#8212; SQL connection pool</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlPrepare">sx:sqlPrepare</a></span><span class="refpurpose"> &#8212; Prepare SQL statement</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlQuery">sx:sqlQuery</a></span><span class="refpurpose"> &#8212; SQL query</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlReader">sx:sqlReader</a></span><span class="refpurpose"> &#8212; SQL record reader</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlUpdate">sx:sqlUpdate</a></span><span class="refpurpose"> &#8212; Update or insert rows</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlUpdateChoice">sx:sqlUpdateChoice</a></span><span class="refpurpose"> &#8212; Update based on results of query</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a></span><span class="refpurpose"> &#8212; Abstract element standing for a SQL update</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlUpdateDetail">sx:sqlUpdateDetail</a></span><span class="refpurpose"> &#8212; Update detail rows in one transaction</span></dt><dt><span class="refentrytitle"><a href="#sx:sqlWriter">sx:sqlWriter</a></span><span class="refpurpose"> &#8212; SQL record writer</span></dt></dl></dd><dt><span class="reference"><a href="#ref-msv-module">XII. SUN Multi Schema Validator Extension</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#msv:msvFilter">msv:msvFilter</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a></span></dt><dt><span class="refentrytitle"><a href="#msv:msvRecordFilter">msv:msvRecordFilter</a></span><span class="refpurpose"> &#8212; Deprecated, replaced by <a class="xref" href="#msv:recordValidator" title="msv:recordValidator">msv:recordValidator</a></span></dt><dt><span class="refentrytitle"><a href="#msv:recordValidator">msv:recordValidator</a></span><span class="refpurpose"> &#8212; Validate record with XML schema</span></dt><dt><span class="refentrytitle"><a href="#msv:schemaValidator">msv:schemaValidator</a></span><span class="refpurpose"> &#8212; Validate XML with schema</span></dt></dl></dd><dt><span class="reference"><a href="#chap-fop-module">XIII. Apache FOP Extension</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#fop:foEmitter">fop:foEmitter</a></span><span class="refpurpose"> &#8212; Deprecated, aliased to <a class="xref" href="#fop:foSerializer" title="fop:foSerializer">fop:foSerializer</a></span></dt><dt><span class="refentrytitle"><a href="#fop:foSerializer">fop:foSerializer</a></span><span class="refpurpose"> &#8212; Apache FOP xsl/fo serializer</span></dt></dl></dd><dt><span class="reference"><a href="#chap-mail-module">XIV. Java Mail Extension</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#jm:attachment">jm:attachment</a></span><span class="refpurpose"> &#8212; Attachment</span></dt><dt><span class="refentrytitle"><a href="#jm:mailAccount">jm:mailAccount</a></span><span class="refpurpose"> &#8212; Mail account</span></dt><dt><span class="refentrytitle"><a href="#jm:message">jm:message</a></span><span class="refpurpose"> &#8212; Message</span></dt><dt><span class="refentrytitle"><a href="#jm:part">jm:part</a></span><span class="refpurpose"> &#8212; MIME part</span></dt><dt><span class="refentrytitle"><a href="#jm:sender">jm:sender</a></span><span class="refpurpose"> &#8212; Sender</span></dt><dt><span class="refentrytitle"><a href="#jm:sendMail">jm:sendMail</a></span><span class="refpurpose"> &#8212; Send mail</span></dt></dl></dd><dt><span class="reference"><a href="#chap-edtftpj">XV. EDT FTP Extension</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#edt:ftpClient">edt:ftpClient</a></span><span class="refpurpose"> &#8212; FTP client</span></dt><dt><span class="refentrytitle"><a href="#edt:ftpDirectoryReader">edt:ftpDirectoryReader</a></span><span class="refpurpose"> &#8212; FTP directory reader</span></dt><dt><span class="refentrytitle"><a href="#edt:ftpSink">edt:ftpSink</a></span><span class="refpurpose"> &#8212; FTP sink</span></dt><dt><span class="refentrytitle"><a href="#edt:ftpSource">edt:ftpSource</a></span><span class="refpurpose"> &#8212; FTP source</span></dt></dl></dd><dt><span class="reference"><a href="#chap-saxon">XVI. Saxon XQuery Extension</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#saxon:xquery">saxon:xquery</a></span><span class="refpurpose"> &#8212; Saxon 9 xquery processor</span></dt></dl></dd><dt><span class="glossary"><a href="#d4e11592">Glossary</a></span></dt><dt><span class="appendix"><a href="#app-datatype-mappings">A. Data Type Mappings</a></span></dt><dd><dl><dt><span class="section"><a href="#d4e11711"></a></span></dt><dt><span class="section"><a href="#d4e11756"></a></span></dt></dl></dd><dt><span class="appendix"><a href="#app-deprecated">B. Deprecated Elements and Attributes</a></span></dt><dd><dl><dt><span class="section"><a href="#d4e11852"></a></span></dt></dl></dd><dt><span class="index"><a href="#d4e12632">Index</a></span></dt></dl></div>

<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-config-components"></a>Configuration Elements</h1></div></div><hr></div>
    

<div class="refentry" lang="en"><a name="sx:cacheSettings"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:cacheSettings
   &#8212; Cache settings
</p></div>
<a class="indexterm" name="d4e17"></a>
<div class="refsection" lang="en"><a name="d4e19"></a><h2>Attributes</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e22"></a><h2>Content</h2>

<p>Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:escapeSubstitutions"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:escapeSubstitutions
   &#8212; Define escape rules for special characters in evaluations of <a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a>
</p></div>
<a class="indexterm" name="d4e31"></a>
<div class="refsection" lang="en"><a name="d4e33"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">escape</td><td align="left">No</td><td align="left">true|false</td><td align="left"><code class="code">true</code> if a character should be escaped, <code class="code">false</code>
  otherwise.  Defaults to <code class="code">true</code></td></tr><tr><td align="left">character</td><td align="left">No</td><td align="left">Character</td><td align="left">The character to optionally enclose field values.  Defaults to the double 
  quotation mark.</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">The escape character used to escape the quote symbol, e.g. the backslash ('\') or the quote symbol itself.
</td></tr><tr><td align="left">escapeSequence</td><td align="left">No</td><td align="left">String</td><td align="left">The character sequence used to replace the special character, e.g. '\"' 
  or '""' to escape a double quote.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e73"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e76"></a><h2>Description</h2>

<p> You can use this instruction to define an escape character to escape 
  quote characters appearing in variable values, when evaluated as strings.
</p>
  <p>
This element
  is a configuration element, meaning it 
  can appear anywhere in a resources script,
  and will be visible to all elements 
  belonging to its scope.  Currently, <a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>, <a class="xref" href="#sx:sqlQuery" title="sx:sqlQuery">sx:sqlQuery</a>, and
  <a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a> support the new                                               
  <code class="sgmltag-element">sx:escapeSubstitutions</code> element.
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e84"></a><h2>Examples</h2>

<div class="example"><a name="d4e86"></a><p class="title"><b>Example&nbsp;1.&nbsp;A double quote character with a backslash escape character.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:escapeSubstitutions character='"' escapeCharacter="\"/&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e89"></a><p class="title"><b>Example&nbsp;2.&nbsp;A single quote character escaped with """.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:escapeSubstitutions character="'" escapeSequence="&amp;quot;"/&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e92"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>
</li><li>
<a class="xref" href="#sx:sqlQuery" title="sx:sqlQuery">sx:sqlQuery</a>
</li><li>
<a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:escapeVariables"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:escapeVariables
   &#8212; Deprecated in 1.0, replaced by <a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a>
</p></div>
<a class="indexterm" name="d4e106"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:expiryOptions"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:expiryOptions
   &#8212; Expiry options
</p></div>
<a class="indexterm" name="d4e112"></a>
<div class="refsection" lang="en"><a name="d4e114"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">revalidate</td><td align="left">No</td><td align="left">string</td><td align="left">
A list of revalidation codes with possible values "synch" or "asynch" (or both),
or "full" or "none".
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e130"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:patternMatcher"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:patternMatcher
   &#8212; Regular expression pattern matcher
</p></div>
<a class="indexterm" name="d4e137"></a>
<div class="refsection" lang="en"><a name="d4e139"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java class</td><td align="left">An implementation of the com.servingxml.components.regex.PatternMatcher interface.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e155"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:xsltConfiguration"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:xsltConfiguration
   &#8212; XSLT configuration
</p></div>
<a class="indexterm" name="d4e162"></a>
<div class="refsection" lang="en"><a name="d4e164"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">version</td><td align="left">No</td><td align="left">XSLT version</td><td align="left">The value of the XSLT version attribute appearing in generated stylesheets.  Defaults to "1.0"</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e180"></a><h2>Content</h2>

<p>Optionally, any number of <a class="xref" href="#sx:outputProperty" title="sx:outputProperty">sx:outputProperty</a> elements.</p>
<p>Optionally, any number of <a class="xref" href="#sx:systemProperty" title="sx:systemProperty">sx:systemProperty</a> elements.</p>
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-common-elements"></a>Common Elements</h1></div></div><hr></div>
    
  <div class="refentry" lang="en"><a name="idref-attributes"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  id ref attributes
   &#8212; Common id ref attributes for referencing top level elements
</p></div>

<div class="refsection" lang="en"><a name="d4e192"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">id</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">An identifier of an element instance.  This id is the target for references by <code class="sgmltag-attribute">ref</code> attributes.</td></tr><tr><td align="left">ref</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
<p>
The resources defined in a resources script may be given ids and referred to by reference,
as shown below.
</p>
<div class="figure"><a name="sax-pipeline2"></a><p class="title"><b>Figure&nbsp;1.&nbsp;SAX pipeline with references</b></p><div class="figure-contents">
  
<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
  &lt;sx:service id="myPipeline"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="myPreFilter"/&gt;
        &lt;sx:content ref="myFilter"/&gt;     
        &lt;sx:content ref="myPostFilter"/&gt;     
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
  &lt;sx:saxFilter id="myPreFilter" class="PreFilter"/&gt;
  &lt;sx:xslt id="myFilter"&gt;
    &lt;sx:urlSource url="filter.xsl"/&gt;
  &lt;/sx:xslt&gt;
  &lt;sx:saxFilter id="myPostFilter" class="PostFilter"/&gt;     
&lt;/sx:resources&gt;
</pre>
</div></div><br class="figure-break">
<p>
Note that we could have written <code class="code">&lt;sx:saxFilter ref="myPreFilter"/&gt;</code>,
but instead we wrote <code class="code">&lt;sx:content ref="myPreFilter"/&gt;</code>, 
substituting the abstract component <a class="xref" href="#sx:content" title="sx:content">sx:content</a> for the derived <a class="xref" href="#sx:saxFilter" title="sx:saxFilter">sx:saxFilter</a>.
Identifiers given to components must be unique up to
the abstract component level, for instance, a service and a filter may both be named "myPipeline",
but a <a class="xref" href="#sx:saxFilter" title="sx:saxFilter">sx:saxFilter</a> and a <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a> must be identified differently.
</p>
</div>
    
  </div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:defaultValue"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:defaultValue
   &#8212; Defines a default value for a parameter or field
</p></div>
<a class="indexterm" name="d4e231"></a>
<div class="refsection" lang="en"><a name="d4e233"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string value that may contain a parameter inside curly braces, e.g. "{$my-param}.xml".</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">An XPath expression evaluated against an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> 
substitutable child element, or, if none, the default XML document.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e262"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, if there is a <code class="sgmltag-element">select</code> attribute, 
            an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> element.  If supplied, the select 
            expression will be evaluated against this content, otherwise it will
            be evaluated against the default content.
</p>
</li><li><p>Optionally, if there is no <code class="sgmltag-element">field</code>, 
                                   <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e275"></a><h2>Description</h2>

<p>
The <code class="sgmltag-element">sx:defaultValue</code> element is used in a <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> element to define a 
default value for a parameter.
</p>
<p>
The default value may be specified either by a <code class="sgmltag-attribute">value</code> attribute
or by the content. This value is only a default value, and if a run-time parameter is passed with the 
same name, the run-time value will be used in place of the default value. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e282"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e287"></a><h2>Examples</h2>

<div class="example"><a name="d4e289"></a><p class="title"><b>Example&nbsp;3.&nbsp;Example of initializing a parameter to a constant.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:parameter name="validate"&gt;&lt;sx:defaultValue&gt;yes&lt;/sx:defaultValue&gt;&lt;/sx:parameter&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:documentation"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:documentation
   &#8212; To annotate scripts with human readable 
    documentation.  sx:documentation elements may appear anywhere in resources
    scripts, and are ignored by the processor.
</p></div>
<a class="indexterm" name="d4e296"></a>
<div class="refsection" lang="en"><a name="d4e298"></a><h2>Attributes</h2>

  <p>None</p>
</div>
<div class="refsection" lang="en"><a name="d4e301"></a><h2>Content</h2>

<p>Human readable documentation.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:parameter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:parameter
   &#8212; Parameter
</p></div>
<a class="indexterm" name="d4e308"></a>
<div class="refsection" lang="en"><a name="d4e310"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the parameter.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string value that may reference a parameter or field name inside curly braces, e.g. "{$my-param}.xml".</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">An XPath expression evaluated against an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> 
substitutable child element, or, if none, the default XML document.
</td></tr><tr><td align="left">type</td><td align="left">No</td><td align="left"><a class="xref" href="#xml-schema-types" title="Table&nbsp;A.1.&nbsp;Supported XML Schema Types">XML Schema types</a></td><td align="left">The parameter value type.  Defaults to <code class="sgmltag-element">xs:string</code>  The input parameter values will be converted to this type 
if required.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e352"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
    Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element.
  </p>
</li><li><p>Optionally, if there is a <code class="sgmltag-element">select</code> attribute, 
            an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> element.  If supplied, the select 
            expression will be evaluated against this content, otherwise it will
            be evaluated against the default content.
</p>
</li><li><p>Optionally, if there is no <code class="sgmltag-element">field</code>, 
                                   <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e368"></a><h2>Description</h2>

<p>
The <code class="sgmltag-element">sx:parameter</code> element is used to define a parameter as a QName-value pair,
for example,
</p><pre class="programlisting">

  &lt;sx:parameter name="validate"&gt;no&lt;/sx:parameter&gt;
</pre><p>
The value of the parameter may be specified either by a <code class="code">value</code> attribute
or by the content. 
</p>
<p>
A parameter defined inside an element is visible to all siblings and all their descendents.
It is not visible to ancestors.  If the parameter has the same QName as a parameter in an ancestor,
a new parameter value replaces the old one within the scope of siblings and descendents, but
not in the scope of ancestors, the old value is still visible to ancestors. It is not possible
to change the parameter value of an ancestor, changes are visible to siblings and descendents
only. This is to avoid side effects.
</p>
<p>
The application processing the resources script may pass additional parameters to the
script.  For example, the console app may pass the parameter <code class="code">validate</code> like this:
</p><pre class="programlisting">

java -jar dir/servingxml.jar -r resources.xml myPipeline validate=yes
    &lt; input.xml &gt; output.xml
</pre><p>
</p>
<p>
If you want to define a default value for the parameter, you must do so with 
a <code class="sgmltag-element">sx:defaultValue</code> element as follows.
</p><pre class="programlisting">

  &lt;sx:parameter name="validate"&gt;&lt;sx:defaultValue&gt;no&lt;/sx:defaultValue&gt;&lt;/sx:parameter&gt;
</pre><p>
A passed parameter cannot override a parameter defined in a resources script unless
the script's value is a default value, enclosed by a <code class="sgmltag-element">sx:defaultValue</code> element.
More generally, a parameter in an ancestor cannot override a parameter in a descendent
unless the descendant's value is a default value.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e382"></a><h2>Examples</h2>

<div class="example"><a name="d4e384"></a><p class="title"><b>Example&nbsp;4.&nbsp;Example of initializing a parameter to a constant.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:parameter name="validate"&gt;yes&lt;/sx:parameter&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e387"></a><p class="title"><b>Example&nbsp;5.&nbsp;Example of initializing a parameter with the output of a transformation.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:parameter name="myParam"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:xslt&gt; 
          &lt;sx:urlSource url="styles/transform1.xsl"/&gt; 
        &lt;/sx:xslt&gt; 
        &lt;sx:content ref="flat1"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:parameter&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e390"></a><p class="title"><b>Example&nbsp;6.&nbsp;Example of initializing a parameter using regular expression substitution on a record field called "name"</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:parameter name="output-file-name"&gt;
    &lt;sx:findAndReplace searchFor="(books.*)[.]txt" replaceWith ="$1-new.txt"&gt;&lt;sx:toString value="{name}"/&gt;&lt;/sx:findAndReplace&gt;
  &lt;/sx:parameter&gt;   

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e393"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:property"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:property
   &#8212; Property
</p></div>
<a class="indexterm" name="d4e402"></a>
<div class="refsection" lang="en"><a name="d4e404"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">key</td><td align="left">Yes</td><td align="left">String</td><td align="left">Deprecated, use <code class="sgmltag-attribute">name</code> instead.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left">String</td><td align="left">The custom property name.</td></tr><tr><td align="left">value</td><td align="left">Yes</td><td align="left">String</td><td align="left">The custom property value.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e437"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:systemProperty"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:systemProperty
   &#8212; System property
</p></div>
<a class="indexterm" name="d4e444"></a>
<div class="refsection" lang="en"><a name="d4e446"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">key</td><td align="left">Yes</td><td align="left">String</td><td align="left">Deprecated, use <code class="sgmltag-attribute">name</code> instead.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left">String</td><td align="left">The system property name.</td></tr><tr><td align="left">value</td><td align="left">Yes</td><td align="left">String</td><td align="left">The value of a system property.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e479"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:validator"></a><div class="titlepage"></div>
  <div class="refnamediv"><h2>Name</h2><p>
sx:validator
 &#8212; Abstract element standing for a validator
</p></div>

<a class="indexterm" name="d4e486"></a>
<div class="refsection" lang="en"><a name="d4e488"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e505"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e508"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any 
<code class="sgmltag-element">sx:validator</code> specialization, such as <a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>,
<a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a>, or <a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a>. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e515"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e518"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>
</li><li>
<a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a>
</li><li>
<a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a>
</li></ul></div>
</div>
</div>


<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:removeEmptyElementFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:removeEmptyElementFilter
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e534"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:withParameters"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:withParameters
   &#8212; Declare the parameters that need to be passed to an XSLT processor
</p></div>
<a class="indexterm" name="d4e540"></a>
<div class="refsection" lang="en"><a name="d4e542"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">parameters</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of <a class="xref" href="#QName" title="QName">QName</a>s or wildcards.  The value '*' means "all parameters."
A namespace prefix followed by a colon followed by the value '*' means all parameters belonging to the namespace. 
</td></tr><tr><td align="left">exceptParameters</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of <a class="xref" href="#QName" title="QName">QName</a>s or wildcards.  The value '*' means "all parameters."
A namespace prefix followed by a colon followed by the value '*' means all parameters belonging to the namespace. 
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e573"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e576"></a><h2>Description</h2>

<p>
The <a class="xref" href="#sx:withParameters" title="sx:withParameters">sx:withParameters</a> declares the parameters that need to be passed to an XSLT processor
The <code class="code">parameters</code> attribute is mandatory and identifies the 
parameters that need to be passed.  The value '*' may be used to mean "all parameters", 
exceptions may be identified with the <code class="code">exceptParameters</code> attribute.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e582"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:removeEmptyAttributes" title="sx:removeEmptyAttributes">sx:removeEmptyAttributes</a>
</li></ul></div>
</div>
</div>
</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-resourcesref"></a>Resources, Service and Task Elements</h1></div></div><hr></div>


<div class="refentry" lang="en"><a name="sx:choose"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:choose
   &#8212; Choose from alternatives with XPATH test conditions
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:content" title="sx:content">sx:content</a>, <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a>, <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e599"></a>
<div class="refsection" lang="en"><a name="d4e601"></a><h2>Attributes</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e604"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>One or more <a class="xref" href="#sx:when" title="sx:when">sx:when</a> elements.</li><li>
Optionally, a <a class="xref" href="#sx:otherwise" title="sx:otherwise">sx:otherwise</a> element.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e613"></a><h2>Description</h2>

  <p>
    An <code class="sgmltag-element">sx:choose</code> element may be used in any context where any
    of the following abstract elements are allowed:
  </p>
    <div class="itemizedlist"><ul type="disc"><li><a class="xref" href="#sx:task" title="sx:task">sx:task</a>
      </li><li><a class="xref" href="#sx:content" title="sx:content">sx:content</a>
      </li><li><a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a>
      </li><li><a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a>
      </li><li><a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a>
      </li></ul></div>
  <p>
    The <code class="sgmltag-element">sx:choose</code> element evaluates the test conditions of
    its <a class="xref" href="#sx:when" title="sx:when">sx:when</a> child elements, selecting the first alternative 
    that evaluates to <code class="code">true</code>, or if none do, then the
    <a class="xref" href="#sx:otherwise" title="sx:otherwise">sx:otherwise</a> child element, if present.  The children of
    the selected alternative are then expanded in place of the <code class="sgmltag-element">sx:choose</code>
    element.
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e634"></a><h2>Examples</h2>

<div class="example"><a name="d4e636"></a><p class="title"><b>Example&nbsp;7.&nbsp;Choosing content in an XML pipeline.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:document id="odd-element-document"&gt;
    &lt;document&gt;
      &lt;title&gt;Title&lt;/title&gt;
      &lt;para&gt;First paragraph.&lt;/para&gt;
    &lt;/document&gt;
  &lt;/sx:document&gt;

  &lt;sx:transform id="test-choose-odd"&gt;
    &lt;sx:document ref="odd-element-document"/&gt;
    &lt;sx:choose&gt;
      &lt;sx:when test="count(//*) mod 2 = 0"&gt;
        &lt;sx:document&gt;
          &lt;result&gt;even&lt;/result&gt;
        &lt;/sx:document&gt;
      &lt;/sx:when&gt;
      &lt;sx:otherwise&gt;
        &lt;sx:document&gt;
          &lt;result&gt;odd&lt;/result&gt;
        &lt;/sx:document&gt;
      &lt;/sx:otherwise&gt;
    &lt;/sx:choose&gt;
    &lt;sx:assert test="text()='odd'"&gt;Expected odd number of elements.
    &lt;/sx:assert&gt;
  &lt;/sx:transform&gt;

</pre>
  <p>
    The output of this <code class="sgmltag-element">sx:choose</code> element is the document
  </p>
<pre class="programlisting">

  &lt;result&gt;odd&lt;/result&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e642"></a><p class="title"><b>Example&nbsp;8.&nbsp;Choosing XML output in a record mapping section.</b></p><div class="example-contents">

<pre class="programlisting">


  &lt;!-- Define a choose expression with embedded parameter 
    "term", term values having the format &lt;number&gt;&lt;D|M|Y&gt;,
    and expanding to

      &lt;periodMultiplier&gt;number&lt;/periodMultiplier&gt;
      &lt;period&gt;D|M|Y&lt;/period&gt;
  --&gt;

  &lt;sx:choose id="fpml-period-from-term"&gt;
    &lt;sx:when test="fn:ends-with($term,'D')"&gt;
      &lt;sx:fieldElementMap element="periodMultiplier"&gt;
        &lt;sx:toString select="fn:substring-before($term,'D')"/&gt;
      &lt;/sx:fieldElementMap&gt;
      &lt;period&gt;D&lt;/period&gt;
    &lt;/sx:when&gt;
    &lt;sx:when test="fn:ends-with($term,'M')"&gt;
      &lt;sx:fieldElementMap element="periodMultiplier"&gt;
        &lt;sx:toString select="fn:substring-before($term,'M')"/&gt;
      &lt;/sx:fieldElementMap&gt;
      &lt;period&gt;M&lt;/period&gt;
    &lt;/sx:when&gt;
    &lt;sx:when test="fn:ends-with($term,'Y')"&gt;
      &lt;sx:fieldElementMap element="periodMultiplier"&gt;
        &lt;sx:toString select="fn:substring-before($term,'Y')"/&gt;
      &lt;/sx:fieldElementMap&gt;
      &lt;period&gt;Y&lt;/period&gt;
    &lt;/sx:when&gt;
  &lt;/sx:choose&gt;

  &lt;!-- Expand the "fpml-period-from-term" sx:choose element  
    someplace in an sx:recordMapping block where literal
    content is allowed

  &lt;calculationPeriodFrequency&gt;
    &lt;sx:parameter name="term" value="{calculation_period}"/&gt;
    &lt;sx:choose ref="fpml-period-from-term"/&gt;
  &lt;/calculationPeriodFrequency&gt; 

</pre>
<p>
  The output of this <code class="sgmltag-element">sx:choose</code>
  element depends on the value of the field <code class="code">calculation_period</code>.
  If for a particular record the value of the field is "6M",
  the element expands to
</p><pre class="programlisting">

      &lt;periodMultiplier&gt;6&lt;/periodMultiplier&gt;
      &lt;period&gt;M&lt;/period&gt;

</pre><p>

</p>
</div></div><br class="example-break">
</div>

  <div class="refsection" lang="en"><a name="d4e649"></a>
<div class="refentry" lang="en"><a name="sx:when"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:when
   &#8212; When condition of an sx:choose
</p></div>
<a class="indexterm" name="d4e654"></a>
<div class="refsection" lang="en"><a name="d4e656"></a><h3>Attributes</h3>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">test</td><td align="left">Yes</td><td align="left">XPath Boolean Expression</td><td align="left">The boolean expression to evaluate.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e672"></a><h3>Content</h3>

  <p>
    An <code class="sgmltag-element">sx:when</code> element may contain elements that are substitutable for
    any of the following abstract elements:
  </p>
    <div class="itemizedlist"><ul type="disc"><li><a class="xref" href="#sx:task" title="sx:task">sx:task</a>
      </li><li><a class="xref" href="#sx:content" title="sx:content">sx:content</a>
      </li><li><a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a>
      </li><li><a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a>
      </li><li><a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a>
      </li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:otherwise"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:otherwise
   &#8212; Otherwise condition of sx:choose
</p></div>
<a class="indexterm" name="d4e691"></a>
<div class="refsection" lang="en"><a name="d4e693"></a><h3>Attributes</h3>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e696"></a><h3>Content</h3>

  <p>
    An <code class="sgmltag-element">sx:when</code> element may contain elements that are substitutable for
    any of the following abstract elements:
  </p>
    <div class="itemizedlist"><ul type="disc"><li><a class="xref" href="#sx:task" title="sx:task">sx:task</a>
      </li><li><a class="xref" href="#sx:content" title="sx:content">sx:content</a>
      </li><li><a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a>
      </li><li><a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a>
      </li><li><a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a>
      </li></ul></div>
</div>
</div>
    
  </div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:include"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:include
   &#8212; Include another resources script
</p></div>
<a class="indexterm" name="d4e715"></a>
<div class="refsection" lang="en"><a name="d4e717"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">href</td><td align="left">Yes</td><td align="left">URI</td><td align="left">A URI identifying a resources script.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e733"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:onError"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:onError
   &#8212; Catches an exception raised by a <a class="xref" href="#sx:task" title="sx:task">sx:task</a> element, to be revisited
</p></div>
<a class="indexterm" name="d4e741"></a>
<div class="refsection" lang="en"><a name="d4e743"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e760"></a><h2>Content</h2>

<p>
One or more action elements from the following list.
</p><div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:serialize" title="sx:serialize">sx:serialize</a>
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e766"></a><h2>Examples</h2>

<div class="example"><a name="d4e768"></a><p class="title"><b>Example&nbsp;9.&nbsp;Apply a stylesheet to a fault raised in the book-order document handler.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:service id="post-book-order"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
         &lt;sx:content ref="myns:book-order"/&gt;
         &lt;sx:xslt ref="myns:confirm-order"/&gt;
      &lt;/sx:transform&gt;
      &lt;sx:onError&gt;
        &lt;sx:transform&gt;
          &lt;sx:xslt ref="myns:book-order"/&gt;
        &lt;/sx:transform&gt;
      &lt;/sx:onError&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:raiseError"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:raiseError
   &#8212; Raises an exception inside an <a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a>, to be revisited
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e779"></a>
<div class="refsection" lang="en"><a name="d4e781"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e798"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>A specialized <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> element, for example, a 
<a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a> element, or a literal value.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e804"></a><h2>Description</h2>

<p>A <code class="sgmltag-element">sx:raiseError</code> element results in an exception being thrown.
It is used inside an <a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e809"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:resources"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:resources
   &#8212; The root element of a resources script
</p></div>
<a class="indexterm" name="d4e818"></a>
<div class="refsection" lang="en"><a name="d4e820"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ns</td><td align="left">No</td><td align="left">URI</td><td align="left">The default namespace for the pages, documents, styles and serializers defined in this resources script.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e836"></a><h2>Content</h2>

<p>
The list of elements that may be defined with a qualified name at the top level of the
resources script includes all the elements that are defined in the sx:instructions refsection
of the servingxml.xml configuration file.  These include
</p><div class="itemizedlist"><ul type="disc"><li>
Any number of <a class="xref" href="#sx:include" title="sx:include">sx:include</a> elements
</li><li>
Any number of elements derived from <a class="xref" href="#sx:content" title="sx:content">sx:content</a>, including
<a class="xref" href="#sx:document" title="sx:document">sx:document</a>, <a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a>,
and <a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> elements.
</li><li>
Any number of <a class="xref" href="#sx:service" title="sx:service">sx:service</a> elements.
</li><li>
Any number of <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a> elements
</li><li>
Any number of <a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a> based elements.
</li><li>
Any number of <a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a> elements."/&gt;.
</li><li>
Any number of <a class="xref" href="#sx:inverseRecordMapping" title="sx:inverseRecordMapping">sx:inverseRecordMapping</a> elements."/&gt;.
</li><li>
Any number of <a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a> elements."/&gt;.
</li></ul></div><p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:runService"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:runService
   &#8212; Runs another service from within a resources script
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e866"></a>
<div class="refsection" lang="en"><a name="d4e868"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">service</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">An expression that evaluates to a QName identifying a service.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e891"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>A <a class="xref" href="#sx:service" title="sx:service">sx:service</a> element (Deprecated, use the service attribute instead)</li><li>Optionally, a specialized <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> element, for example, a 
<a class="xref" href="#sx:fileSource" title="sx:fileSource">sx:fileSource</a> element.</li><li>Optionally, a specialized <a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a> element, for example, a 
<a class="xref" href="#sx:fileSink" title="sx:fileSink">sx:fileSink</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e904"></a><h2>Description</h2>

<p>A <code class="sgmltag-element">sx:runService</code> element is a task that invokes a service.</p>
</div>
<div class="refsection" lang="en"><a name="d4e908"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:service"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:service
   &#8212; Service
</p></div>
<a class="indexterm" name="d4e917"></a>
<div class="refsection" lang="en"><a name="d4e919"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e936"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
One or more <a class="xref" href="#sx:task" title="sx:task">sx:task</a> elements, including <a class="xref" href="#sx:serialize" title="sx:serialize">sx:serialize</a>,
<a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a> or <a class="xref" href="#jm:sendMail" title="jm:sendMail">jm:sendMail</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e946"></a><h2>Examples</h2>

<div class="example"><a name="d4e948"></a><p class="title"><b>Example&nbsp;10.&nbsp;Books page.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="myns:books"/&gt;
        &lt;sx:xslt ref="myns:books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e951"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:expiryOptions" title="sx:expiryOptions">sx:expiryOptions</a>
</li><li>
<a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:task"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:task
   &#8212; Abstract element standing for a task
</p></div>
<a class="indexterm" name="d4e962"></a>
<div class="refsection" lang="en"><a name="d4e964"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a task.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e981"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e984"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:task</code>, such as <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e989"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e992"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:serialize" title="sx:serialize">sx:serialize</a>
</li><li>
<a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>
</li><li>
<a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>
</li><li>
<a class="xref" href="#sx:runService" title="sx:runService">sx:runService</a>
</li><li>
<a class="xref" href="#jm:sendMail" title="jm:sendMail">jm:sendMail</a>
</li></ul></div>
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-string-elements"></a>String Elements</h1></div></div><hr></div>
    
<div class="refentry" lang="en"><a name="sx:concat"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:concat
   &#8212; Common attributes for elements
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>

<a class="indexterm" name="d4e1014"></a>
<div class="refsection" lang="en"><a name="d4e1016"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">separator</td><td align="left">No</td><td align="left">char</td><td align="left">A separator to separate each string value in the content.</td></tr><tr><td align="left">quoteSymbol</td><td align="left">No</td><td align="left">char</td><td align="left">A symbol to surround each string value.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1043"></a><h2>Content</h2>

<p>Any number of <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> elements.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1047"></a><h2>Description</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:convertDate"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:convertDate
   &#8212; Convert date
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1057"></a>
<div class="refsection" lang="en"><a name="d4e1059"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">fromFormat</td><td align="left">Yes</td><td align="left">String</td><td align="left">The format of the input string, which must must follow the syntax specified for the 
<a class="ulink" href="http://java.sun.com/j2se/1.3/docs/api/java/text/SimpleDateFormat.html" target="_top">JDK SimpleDateFormat</a> class.</td></tr><tr><td align="left">toFormat</td><td align="left">No</td><td align="left">String</td><td align="left">The format of the output string, which must must follow the syntax specified for the 
<a class="ulink" href="http://java.sun.com/j2se/1.3/docs/api/java/text/SimpleDateFormat.html" target="_top">JDK SimpleDateFormat</a> class.
Defaults to the date format for the default locale.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1088"></a><h2>Content</h2>

<p>
An input string in the <code class="code">fromFormat</code>, or a <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> element that 
evaluates to an input string in the <code class="code">fromFormat</code>.  If the input 
string is empty, an empty (null) value is produced.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1094"></a><h2>Description</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:convertToDateTime"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:convertToDateTime
   &#8212; Convert to datetime
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1104"></a>
<div class="refsection" lang="en"><a name="d4e1106"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">format</td><td align="left">Yes</td><td align="left">String</td><td align="left">The format of the input string, which must must follow the syntax specified for the 
<a class="ulink" href="http://java.sun.com/j2se/1.3/docs/api/java/text/SimpleDateFormat.html" target="_top">JDK SimpleDateFormat</a> class.
</td></tr><tr><td align="left">inputTimezone</td><td align="left">No</td><td align="left">String</td><td align="left">The time zone for the input date.  Defaults to the Java default time 
  zone.
</td></tr><tr><td align="left">outputTimezone</td><td align="left">No</td><td align="left">String</td><td align="left">The time zone for the output date.  Defaults to the Java default time 
  zone.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1139"></a><h2>Content</h2>

<p>
Lexical representation of one the eight XML Schema date/time datatypes,
or an <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> element that 
evaluates to a lexical representation.  If the input string is empty,
an empty (null) value is produced.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1143"></a><h2>Description</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:currentDate"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:currentDate
   &#8212; Current date
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1153"></a>
<div class="refsection" lang="en"><a name="d4e1155"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1172"></a><h2>Content</h2>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1175"></a><h2>Description</h2>

<p>
The current date is output as a string with a lexical representation as defined for <a class="ulink" href="http://www.w3.org/TR/xmlschema-2/#date" target="_top">xs:date</a> of
<a class="ulink" href="http://www.w3.org/TR/xmlschema-2/" target="_top">XML Schema Part 2: Datatypes</a>.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:currentDateTime"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:currentDateTime
   &#8212; Current datetime
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1187"></a>
<div class="refsection" lang="en"><a name="d4e1189"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1206"></a><h2>Content</h2>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1209"></a><h2>Description</h2>

<p>
The current date is output as a string with a lexical representation as defined for <a class="ulink" href="http://www.w3.org/TR/xmlschema-2/#dateTime" target="_top">xs:dateTime</a> of
<a class="ulink" href="http://www.w3.org/TR/xmlschema-2/" target="_top">XML Schema Part 2: Datatypes</a>.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:currentTime"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:currentTime
   &#8212; Current time
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1221"></a>
<div class="refsection" lang="en"><a name="d4e1223"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1240"></a><h2>Content</h2>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1243"></a><h2>Description</h2>

<p>
The current time is output as a string with a lexical representation as defined for <a class="ulink" href="http://www.w3.org/TR/xmlschema-2/#time" target="_top">xs:time</a> of
<a class="ulink" href="http://www.w3.org/TR/xmlschema-2/" target="_top">XML Schema Part 2: Datatypes</a>.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:date"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:date
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:currentDateTime" title="sx:currentDateTime">sx:currentDateTime</a> and <a class="xref" href="#sx:formatDateTime" title="sx:formatDateTime">sx:formatDateTime</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1257"></a>
<div class="refsection" lang="en"><a name="d4e1259"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">format</td><td align="left">No</td><td align="left">String</td><td align="left">The format of the output string, which must must follow the syntax specified for the 
<a class="ulink" href="http://java.sun.com/j2se/1.3/docs/api/java/text/SimpleDateFormat.html" target="_top">JDK SimpleDateFormat</a> class.
Defaults to the date format for the default locale.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1282"></a><h2>Content</h2>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1285"></a><h2>Description</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:escapeMarkup"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:escapeMarkup
   &#8212; Evaluate children as a string, escaping XML tags
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1295"></a>
<div class="refsection" lang="en"><a name="d4e1297"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1314"></a><h2>Content</h2>

<p>Literal text
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1317"></a><h2>Description</h2>

  <p>
    The <code class="sgmltag-element">sx:escapeMarkup</code> element results in its content being output 
    as a string.  The main reason for enclosing text within an 
    <code class="sgmltag-element">sx:escapeMarkup</code> element is to allow XML element tags to 
    appear escaped in the text. 
  </p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:findAndReplace"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:findAndReplace
   &#8212; Find and replace in a string using regular expressions
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1329"></a>
<div class="refsection" lang="en"><a name="d4e1331"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">searchFor</td><td align="left">Yes</td><td align="left"><a class="xref" href="#Regex" title="Regex">Regex</a></td><td align="left">Match sub-sequences of the input string against this pattern.</td></tr><tr><td align="left">replaceWith</td><td align="left">Yes</td><td align="left">String</td><td align="left">Replace all matches with this expression.  Dollar signs ($) may be used as references to captured subsequences in
the match regular expression, and backslashes (\) may be used to escape literal characters. 
</td></tr><tr><td align="left">caseSensitive</td><td align="left">No</td><td align="left">true | false</td><td align="left">Defaults to <code class="code">true</code> .</td></tr><tr><td align="left">useRegex</td><td align="left">No</td><td align="left">true | false</td><td align="left">Defaults to <code class="code">true</code>.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1371"></a><h2>Content</h2>

<p>Any combination of string literals and inlined
  <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> substitutable elements.  The string expressions
  will be evaluated in place, forming one string. Leading and trailing
  whitespace will be trimmed.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1375"></a><h2>Description</h2>

<p>
The <code class="sgmltag-element">sx:findAndReplace</code> element applies a regular expression to its content, 
and replaces matched content with a replacement string.  The value of the regular expression
is defined by the <code class="sgmltag-attribute">searchFor</code> attribute,
which searches for all subsequences in the content that match the pattern
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1380"></a><h2>Examples</h2>

<div class="example"><a name="d4e1382"></a><p class="title"><b>Example&nbsp;11.&nbsp;Fix date.</b></p><div class="example-contents">

<p>
In this example, you have an input record with a field <code class="code">service_from_date</code>, which has the value
</p><pre class="programlisting">

2005-06-28 00:00:00 
</pre><p>
You want to change it to
</p><pre class="programlisting">

20050628
</pre><p>
You can make the replacement with the <code class="sgmltag-element">sx:findAndReplace</code> 
                                        element as follows.
</p>
<pre class="programlisting">

  &lt;sx:findAndReplace searchFor="([0-9]{4})-([0-9]{2})-([0-9]{2})(.*)" replaceWith="$1$2$3"&gt;      
    &lt;sx:toString value="{service_from_date}"/&gt; 
  &lt;/sx:findAndReplace&gt; 
</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e1390"></a><p class="title"><b>Example&nbsp;12.&nbsp;Remove commas from amount.</b></p><div class="example-contents">

<p>
In this example, you have an input record with a field <code class="code">PLAN_IT_COST</code>, which has the value
</p><pre class="programlisting">

2,500,300.00
</pre><p>
You want to change it to
</p><pre class="programlisting">

2500300.00
</pre><p>
You can make the replacement with the <code class="sgmltag-element">sx:findAndReplace</code> element as follows.
</p>
<pre class="programlisting">

  &lt;sx:findAndReplace searchFor="," replaceWith =""&gt;
    &lt;sx:toString value="{PLAN_IT_COST}"/&gt;
  &lt;/sx:findAndReplace&gt;
</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e1398"></a><p class="title"><b>Example&nbsp;13.&nbsp;Literal find and replace.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:positionalField name="price2" width="10" justify="right" label="Price"&gt;
    &lt;sx:defaultValue&gt;
      &lt;sx:findAndReplace searchFor ="." replaceWith="," useRegex="false"&gt;
        &lt;sx:toString value="{price}"/&gt;    
      &lt;/sx:findAndReplace&gt;
    &lt;/sx:defaultValue&gt;
  &lt;/sx:positionalField&gt;

  </pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:formatDateTime"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:formatDateTime
   &#8212; Format datetime
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1408"></a>
<div class="refsection" lang="en"><a name="d4e1410"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">format</td><td align="left">No</td><td align="left">String</td><td align="left">The format of the output string, which must must follow the syntax specified for the 
<a class="ulink" href="http://java.sun.com/j2se/1.3/docs/api/java/text/SimpleDateFormat.html" target="_top">JDK SimpleDateFormat</a> class.
Defaults to the date format for the default locale.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1433"></a><h2>Content</h2>

<p>
Lexical representation of one the eight XML Schema date/time datatypes,
or an <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> element that 
evaluates to a lexical representation.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1437"></a><h2>Description</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:lineNumber"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:lineNumber
   &#8212; Output current line number
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1447"></a>
<div class="refsection" lang="en"><a name="d4e1449"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1466"></a><h2>Content</h2>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1469"></a><h2>Description</h2>

<p>
Evaluates to the current line number of the input.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:preserveMarkup"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:preserveMarkup
   &#8212; Evaluate children as a string, preserving XML tags without escaping them
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1479"></a>
<div class="refsection" lang="en"><a name="d4e1481"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1498"></a><h2>Content</h2>

<p>Literal text
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1501"></a><h2>Description</h2>

  <p>
    The <code class="sgmltag-element">sx:preserveMarkup</code> element results in its content being output 
    as a string.  The main reason for enclosing text within an 
    <code class="sgmltag-element">sx:preserveMarkup</code> element is to allow XML element tags to 
    appear unescaped in the text. 
  </p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:replace"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:replace
   &#8212; Deprecated, replaced in 0.9.2 by <a class="xref" href="#sx:findAndReplace" title="sx:findAndReplace">sx:findAndReplace</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1514"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:string"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:string
   &#8212; Abstract element standing for any string element, e.g. <a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>
</p></div>
<a class="indexterm" name="d4e1521"></a>
<div class="refsection" lang="en"><a name="d4e1523"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a string.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1540"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1543"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:stringable</code>, such as <a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1548"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:date" title="sx:date">sx:date</a>
</span></li><li><span>
<a class="xref" href="#sx:convertDate" title="sx:convertDate">sx:convertDate</a>
</span></li><li><span>
<a class="xref" href="#sx:findAndReplace" title="sx:findAndReplace">sx:findAndReplace</a>
</span></li><li><span>
<a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>
</span></li><li><span>
<a class="xref" href="#sx:escapeMarkup" title="sx:escapeMarkup">sx:escapeMarkup</a>
</span></li><li><span>
<a class="xref" href="#sx:preserveMarkup" title="sx:preserveMarkup">sx:preserveMarkup</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:stringable"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:stringable
   &#8212; Abstract element standing for any element that can render itself as a string, e.g. <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>
</p></div>
<a class="indexterm" name="d4e1574"></a>
<div class="refsection" lang="en"><a name="d4e1576"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a string.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1593"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1596"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:stringable</code>, such as <a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1601"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:date" title="sx:date">sx:date</a>
</span></li><li><span>
<a class="xref" href="#sx:convertDate" title="sx:convertDate">sx:convertDate</a>
</span></li><li><span>
<a class="xref" href="#sx:findAndReplace" title="sx:findAndReplace">sx:findAndReplace</a>
</span></li><li><span>
<a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>
</span></li><li><span>
<a class="xref" href="#sx:escapeMarkup" title="sx:escapeMarkup">sx:escapeMarkup</a>
</span></li><li><span>
<a class="xref" href="#sx:preserveMarkup" title="sx:preserveMarkup">sx:preserveMarkup</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:toString"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:toString
   &#8212; Ouput a string
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:string" title="sx:string">sx:string</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e1629"></a>
<div class="refsection" lang="en"><a name="d4e1631"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">An XPath expression evaluated against an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> 
substitutable child element, or, if none, the default XML document.
</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string value that may contain one or more parameters enclosed in curly braces, e.g. "{$my-param}.xml".
</td></tr><tr><td align="left">separator</td><td align="left">No</td><td align="left">char</td><td align="left">A separator to separate the pieces if the expression resolves to multiple values.</td></tr><tr><td align="left">quoteSymbol</td><td align="left">No</td><td align="left">char</td><td align="left">A symbol to surround the pieces.
Deprecated, use a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> child element instead.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1671"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li><p>Optionally, a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element, to specify a quote symbol to surround the pieces making up the string.</p>
</li><li><p>Optionally, if there is a <code class="sgmltag-element">select</code> attribute, 
            an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> element.  If supplied, the select 
            expression will be evaluated against this content, otherwise it will
            be evaluated against the default content.
</p>
</li><li><p>Optionally, if there is no <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li></ul></div><p>
</p>
<p>Optionally, a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element, to specify a quote symbol to surround the pieces making up the string.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1689"></a><h2>Description</h2>

<p>
</p>
</div>
</div>
</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="chap-sourcesink-elements"></a>Stream Source and Sink Elements</h1></div></div><hr></div>


<div class="refentry" lang="en"><a name="sx:command"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:command
   &#8212; Command
</p></div>
<a class="indexterm" name="d4e1698"></a>
<div class="refsection" lang="en"><a name="d4e1700"></a><h2>Attributes</h2>

  <p>
    None
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e1703"></a><h2>Content</h2>

<p>Any combination of string literals and inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1707"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:commandSink" title="sx:commandSink">sx:commandSink</a>
</li><li>
<a class="xref" href="#sx:commandSource" title="sx:commandSource">sx:commandSource</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:commandArg"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:commandArg
   &#8212; Command argument
</p></div>
<a class="indexterm" name="d4e1718"></a>
<div class="refsection" lang="en"><a name="d4e1720"></a><h2>Attributes</h2>

  <p>
    None
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e1723"></a><h2>Content</h2>

<p>Any combination of string literals and inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1727"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:commandSink" title="sx:commandSink">sx:commandSink</a>
</li><li>
<a class="xref" href="#sx:commandSource" title="sx:commandSource">sx:commandSource</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:commandSink"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:commandSink
   &#8212; Command sink
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e1740"></a>
<div class="refsection" lang="en"><a name="d4e1742"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">directory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Optionally, the current working directory.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  Defaults to the platform's default
<code class="code">charset</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1772"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>One <a class="xref" href="#sx:command" title="sx:command">sx:command</a> element. 
            </p></li><li><p>Optionally, any number of 
                     <a class="xref" href="#sx:commandArg" title="sx:commandArg">sx:commandArg</a> elements 
            </p></li><li><p>Optionally, any number of 
                     <a class="xref" href="#sx:envVariable" title="sx:envVariable">sx:envVariable</a> elements 
            </p></li></ul></div>
</div>
  <div class="refsection" lang="en"><a name="d4e1784"></a><h2>Description</h2>
   
 The <code class="sgmltag-element">sx:commandSink</code> element is a 
stream sink that allows a flat file writer or an XML serializer to send its 
output to the
  standard input of a shell command.  The
                      <code class="sgmltag-element">sx:commandSink</code> element executes the
  command from the <a class="xref" href="#sx:command" title="sx:command">sx:command</a> instruction with the arguments
  passed in the <a class="xref" href="#sx:commandArg" title="sx:commandArg">sx:commandArg</a> elements.
</div>
<div class="refsection" lang="en"><a name="d4e1790"></a><h2>Examples</h2>

<div class="example"><a name="d4e1792"></a><p class="title"><b>Example&nbsp;14.&nbsp;Example of a command sink.</b></p><div class="example-contents">

<pre class="programlisting">


</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e1795"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:commandSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:commandSource
   &#8212; Command source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e1807"></a>
<div class="refsection" lang="en"><a name="d4e1809"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">directory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Optionally, the current working directory.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  Defaults to the platform's default
<code class="code">charset</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1839"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>One <a class="xref" href="#sx:command" title="sx:command">sx:command</a> element. 
            </p></li><li><p>Optionally, any number of 
                     <a class="xref" href="#sx:commandArg" title="sx:commandArg">sx:commandArg</a> elements 
            </p></li><li><p>Optionally, any number of 
                     <a class="xref" href="#sx:envVariable" title="sx:envVariable">sx:envVariable</a> elements 
            </p></li></ul></div>
</div>
  <div class="refsection" lang="en"><a name="d4e1851"></a><h2>Description</h2>
    
    The <code class="sgmltag-element">sx:commandSource</code> element is a stream source
    that allows a flat file reader or an XML reader to obtain its input from the
    standard output of a shell command.  The <code class="sgmltag-element">sx:commandSource</code> 
    element executes the command from the <a class="xref" href="#sx:command" title="sx:command">sx:command</a> 
    instruction with the arguments passed in the <a class="xref" href="#sx:commandArg" title="sx:commandArg">sx:commandArg</a> 
    elements.
  </div>
<div class="refsection" lang="en"><a name="d4e1857"></a><h2>Examples</h2>

<div class="example"><a name="d4e1859"></a><p class="title"><b>Example&nbsp;15.&nbsp;Example of processing the XML output of a shell command.</b></p><div class="example-contents">

  <p>
    The example below executes the shell command <code class="code">request.exe -request 
                                                   request.xml</code>,
    reads its standard output, and writes it to an XML file.
  </p>
<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="request"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:parameter name="request" value="trade-query.xml"/&gt;
      &lt;sx:xsltSerializer&gt;
          &lt;sx:outputProperty name="indent" value="yes" /&gt;
      &lt;/sx:xsltSerializer&gt;
      &lt;sx:document&gt;
        &lt;sx:commandSource directory="/WorkingDirectory"&gt;
          &lt;sx:envVariable name="ENV_VAR" value="value1"/&gt;
          &lt;sx:command&gt;request.exe&lt;/sx:command&gt;
          &lt;sx:commandArg&gt;-request&lt;/sx:commandArg&gt;
          &lt;sx:commandArg&gt;&lt;sx:toString value="$request"/&gt;&lt;/sx:commandArg&gt;
        &lt;/sx:commandSource&gt;
      &lt;/sx:document&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e1864"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:defaultStreamSink"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:defaultStreamSink
   &#8212; Default stream sink
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e1876"></a>
<div class="refsection" lang="en"><a name="d4e1878"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  If a <code class="code">charset</code> is not supplied,
the default will be the <code class="code">charset</code> of the default sink, e.g., the platform's
default charset if the default sink is a flat file supplied to the command line app with the -o option.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1903"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1906"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:defaultStreamSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:defaultStreamSource
   &#8212; Default stream source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e1918"></a>
<div class="refsection" lang="en"><a name="d4e1920"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  If an <code class="code">charset</code> is not supplied,
the default will be the <code class="code">charset</code> of the default source, e.g., the platform's
default charset if the default source is a flat file supplied to the command line app with the -i option.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e1945"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e1948"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:envVariable"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:envVariable
   &#8212; Environment variable
</p></div>
<a class="indexterm" name="d4e1958"></a>
<div class="refsection" lang="en"><a name="d4e1960"></a><h2>Attributes</h2>

  <p>
    None
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e1963"></a><h2>Content</h2>

<p>In-line text, or alternatively, any number of <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
elements. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e1967"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:commandSink" title="sx:commandSink">sx:commandSink</a>
</li><li>
<a class="xref" href="#sx:commandSource" title="sx:commandSource">sx:commandSource</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fileSink"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fileSink
   &#8212; File sink
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e1980"></a>
<div class="refsection" lang="en"><a name="d4e1982"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">directory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">An optional directory name.</td></tr><tr><td align="left">file</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The name of the output file, may contain parameters in the form {$myParam}.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  If the output is XML, and a <code class="code">charset</code> is not supplied,
the XML serializer will use the last encoding encountered in the output properties of the transformation pipeline.
If the output is a flat file, and a <code class="code">charset</code> is not supplied, the default will be the platform's default charset.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2019"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2022"></a><h2>Examples</h2>

<div class="example"><a name="d4e2024"></a><p class="title"><b>Example&nbsp;16.&nbsp;Example of file sink.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
  
  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:xsltSerializer&gt;
        &lt;sx:fileSink file="books.xml"/&gt;
      &lt;/sx:xsltSerializer&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
  &lt;sx:document id="books"&gt;
    &lt;sx:urlSource url="documents/books.xml"/&gt;
  &lt;/sx:document&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2027"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fileSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fileSource
   &#8212; File source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e2039"></a>
<div class="refsection" lang="en"><a name="d4e2041"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">directory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">An optional directory name.</td></tr><tr><td align="left">file</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The name of the input file, may contain parameters in the form {$myParam}.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  If the input is XML, and a <code class="code">charset</code> is not supplied,
the XML parser will use the encoding specified by the XML declaration.  If the input is a 
flat file, and a <code class="code">charset</code> is not supplied, the default will be the platform's default charset.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2078"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2081"></a><h2>Examples</h2>

<div class="example"><a name="d4e2083"></a><p class="title"><b>Example&nbsp;17.&nbsp;Example of file source.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
  
  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:document&gt;
          &lt;sx:fileSource file="books.xml"/&gt;
        &lt;/sx:document&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2086"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:inlineSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:inlineSource
   &#8212; Inline source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e2098"></a>
<div class="refsection" lang="en"><a name="d4e2100"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2117"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2120"></a><h2>Examples</h2>

<div class="example"><a name="d4e2122"></a><p class="title"><b>Example&nbsp;18.&nbsp;Example of inline source.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:flatFileReader id="csv-file-reader"&gt;
    &lt;sx:inlineSource&gt;field1,field2
      value1,value2
      value1,value2&lt;/sx:inlineSource&gt;
    &lt;sx:fieldDelimiter value=","/&gt;
  &lt;/sx:flatFileReader&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2125"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:streamSink"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:streamSink
   &#8212; Abstract element standing for a stream sink
</p></div>
<a class="indexterm" name="d4e2135"></a>
<div class="refsection" lang="en"><a name="d4e2137"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a stream sink.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2154"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2157"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:streamSink</code>, <a class="xref" href="#sx:fileSink" title="sx:fileSink">sx:fileSink</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2162"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e2165"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:commandSink" title="sx:commandSink">sx:commandSink</a>
</span></li><li><span>
<a class="xref" href="#edt:ftpSink" title="edt:ftpSink">edt:ftpSink</a>
</span></li><li><span>
<a class="xref" href="#sx:fileSink" title="sx:fileSink">sx:fileSink</a>
</span></li><li><span>
<a class="xref" href="#sx:defaultStreamSink" title="sx:defaultStreamSink">sx:defaultStreamSink</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:streamSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:streamSource
   &#8212; Abstract element standing for a stream source
</p></div>
<a class="indexterm" name="d4e2184"></a>
<div class="refsection" lang="en"><a name="d4e2186"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a stream source.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2203"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2206"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:streamSource</code>, such as <a class="xref" href="#sx:fileSource" title="sx:fileSource">sx:fileSource</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2211"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e2214"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:commandSource" title="sx:commandSource">sx:commandSource</a>
</span></li><li><span>
<a class="xref" href="#edt:ftpSource" title="edt:ftpSource">edt:ftpSource</a>
</span></li><li><span>
<a class="xref" href="#sx:fileSource" title="sx:fileSource">sx:fileSource</a>
</span></li><li><span>
<a class="xref" href="#sx:urlSource" title="sx:urlSource">sx:urlSource</a>
</span></li><li><span>
<a class="xref" href="#sx:defaultStreamSource" title="sx:defaultStreamSource">sx:defaultStreamSource</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:stringSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:stringSource
   &#8212; String source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e2238"></a>
<div class="refsection" lang="en"><a name="d4e2240"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2257"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2260"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li><li><span>
<a class="xref" href="#sx:inlineSource" title="sx:inlineSource">sx:inlineSource</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:urlSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:urlSource
   &#8212; URL source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e2275"></a>
<div class="refsection" lang="en"><a name="d4e2277"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">url</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The name of the input url, may contain parameters in the form {$myParam}.</td></tr><tr><td align="left">encoding</td><td align="left">No</td><td align="left">String</td><td align="left">A <code class="code">charset</code> name.  If the input is XML, and a <code class="code">charset</code> is not supplied,
the XML parser will use the encoding specified by the XML declaration.  If the input is a 
flat file, and a <code class="code">charset</code> is not supplied, the default will be the platform's default charset.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2308"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2311"></a><h2>Examples</h2>

<div class="example"><a name="d4e2313"></a><p class="title"><b>Example&nbsp;19.&nbsp;Example of url source.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
  
  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:document&gt;
          &lt;sx:urlSource url="books.xml"/&gt;
        &lt;/sx:document&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2316"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li></ul></div>
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="chap-xml-elements"></a>XML Content Producing and Transforming Elements</h1></div></div><hr></div>


<div class="refentry" lang="en"><a name="sx:assert"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:assert
   &#8212; Assert
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a>, <a class="xref" href="#sx:validator" title="sx:validator">sx:validator</a></b></p>
</p></div>
<a class="indexterm" name="d4e2331"></a>
<div class="refsection" lang="en"><a name="d4e2333"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">test</td><td align="left">Yes</td><td align="left">XPath Boolean Expression</td><td align="left">An XPath boolean expression applied to the context document.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2355"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any combination of string literals and inlined
  <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> substitutable elements. If the assertion 
  fails, the string expressions will be evaluated in place, forming a message. 
  Leading and trailing whitespace will be trimmed.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2362"></a><h2>Description</h2>

<p>
An <code class="sgmltag-element">sx:assert</code> instruction allows an XPATH boolean expression 
  to be applied to a subtree of the input XML.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e2366"></a><h2>Examples</h2>

<div class="example"><a name="d4e2368"></a><p class="title"><b>Example&nbsp;20.&nbsp;XPath Boolean assertion about subtree.
</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:transform&gt;
    &lt;sx:document ref="t:transaction"/&gt;
    &lt;sx:subtreeFilter path="/transaction/R04"&gt;
      &lt;sx:assert test="count(//*) mod 2 = 0"&gt;Expected even number of elements. 
      &lt;/sx:assert&gt; 
    &lt;/sx:subtreeFilter&gt;
  &lt;/sx:transform&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:attribute"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:attribute
   &#8212; Add an attribute to wrapping elements inside a <a class="xref" href="#sx:wrap" title="sx:wrap">sx:wrap</a> element
</p></div>
<a class="indexterm" name="d4e2376"></a>
<div class="refsection" lang="en"><a name="d4e2378"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">attribute</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">
The name of an attribute to insert into a parent element. The attribute name may
contain a field name within curly braces, which will
evaluate to the value of the field.  The result must evaluate to a <a class="xref" href="#QName" title="QName">QName</a>.
</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">An XPath expression evaluated against an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> 
substitutable child element, or, if none, the default XML document.
</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Express the attribute value as a literal value, which may contain 
parameter names and field names enclosed in curly braces.
The result must evaluate to a <a class="xref" href="#QName" title="QName">QName</a>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2415"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, if there is a <code class="sgmltag-element">select</code> attribute, 
            an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> element.  If supplied, the select 
            expression will be evaluated against this content, otherwise it will
            be evaluated against the default content.
</p>
</li><li><p>Optionally, if there is no <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2427"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:wrap" title="sx:wrap">sx:wrap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:batchedSerializer"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:batchedSerializer
   &#8212; Batched serializer
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e2438"></a>
<div class="refsection" lang="en"><a name="d4e2440"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">path</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a></td><td align="left">
A <a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a> expression, which identifies subtrees. 
</td></tr><tr><td align="left">batchSize</td><td align="left">Yes</td><td align="left">Integer</td><td align="left">
The number of subtrees in a batch.
</td></tr><tr><td align="left">maxFiles</td><td align="left">No</td><td align="left">Integer</td><td align="left"> The maximum number of batch files.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2474"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>One <a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a> based element, such as an <a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2480"></a><h2>Examples</h2>

<div class="example"><a name="d4e2482"></a><p class="title"><b>Example&nbsp;21.&nbsp;Writing out countries XML with a maximum of 50 countries to a 
  batch.</b></p><div class="example-contents">

<pre class="programlisting">

              
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="countries"/&gt;
      &lt;/sx:transform&gt;
      &lt;sx:batchedSerializer path="country" batchSize="50"&gt;
        &lt;sx:xsltSerializer&gt;
          &lt;sx:fileSink file="output/countries-{$sx:batchSequenceNumber}.xml"/&gt;
        &lt;/sx:xsltSerializer&gt;
      &lt;/sx:batchedSerializer&gt;
    &lt;/sx:serialize&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:cachedContent"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:cachedContent
   &#8212; Cached content
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e2491"></a>
<div class="refsection" lang="en"><a name="d4e2493"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2510"></a><h2>Content</h2>

<div class="refsection" lang="en"><a name="d4e2512"></a><h3>Content</h3>

<div class="itemizedlist"><ul type="disc"><li>
A <a class="xref" href="#sx:content" title="sx:content">sx:content</a> specialization, such as a <a class="xref" href="#sx:document" title="sx:document">sx:document</a>, <a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> 
or <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> element.  
</li></ul></div>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2520"></a><h2>Description</h2>

<p>This element permits caching of XML content.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2523"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:content" title="sx:content">sx:content</a>
</li><li>
<a class="xref" href="#sx:expiryOptions" title="sx:expiryOptions">sx:expiryOptions</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:content"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:content
   &#8212; Abstract element standing for XML content
</p></div>
<a class="indexterm" name="d4e2534"></a>
<div class="refsection" lang="en"><a name="d4e2536"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2547"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2550"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:content</code>, such as <a class="xref" href="#sx:document" title="sx:document">sx:document</a>, <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> or <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2557"></a><h2>Examples</h2>

<div class="example"><a name="d4e2559"></a><p class="title"><b>Example&nbsp;22.&nbsp;Using a <code class="sgmltag-element">sx:content</code> element to refer to dynamic content.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="books"/&gt;
        &lt;sx:xslt ref="books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

  &lt;sx:dynamicContent name="books" class="samples.books.BookCatalog"&gt;
    &lt;sx:key&gt;
      &lt;sx:keyField name="category"/&gt;
    &lt;/sx:key&gt;
  &lt;/sx:dynamicContent&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2563"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:cachedContent" title="sx:cachedContent">sx:cachedContent</a>
</li><li>
<a class="xref" href="#sx:document" title="sx:document">sx:document</a>
</li><li>
<a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a>
</li><li>
<a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a>
</li><li>
<a class="xref" href="#saxon:xquery" title="saxon:xquery">saxon:xquery</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:customEmitter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:customEmitter
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:customSerializer" title="sx:customSerializer">sx:customSerializer</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e2583"></a>
</div>                                                                                             

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:customSerializer"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:customSerializer
   &#8212; Custom serializer
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e2591"></a>
<div class="refsection" lang="en"><a name="d4e2593"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java Class</td><td align="left">The name of a Java class that implements <code class="code">com.servingxml.io.saxsink.SaxSink</code>.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2616"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2621"></a><h2>Examples</h2>

<div class="example"><a name="d4e2623"></a><p class="title"><b>Example&nbsp;23.&nbsp;Defining an Apache fop emitter.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:customSerializer id="fop-serializer"
                    class="com.servingxml.extensions.fop.xmlpipeline.FopEmitter"&gt;
  &lt;/sx:customSerializer&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e2626"></a><p class="title"><b>Example&nbsp;24.&nbsp;Serializing an xsl-fo XML tree with an Apache fop serializer to produce pdf.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:service id="pulp"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:saxSink ref="myns:fop-serializer"/&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="myns:pulp"/&gt;
        &lt;sx:xslt ref="myns:novel-fo"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:document"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:document
   &#8212; XML document
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e2635"></a>
<div class="refsection" lang="en"><a name="d4e2637"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2654"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, a <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> element, or a <a class="xref" href="#sx:saxSource" title="sx:saxSource">sx:saxSource</a> element,
or an in-line XML document.  Defaults to the default stream source, e.g. a file passed with the -i option on the command line.
</li><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2662"></a><h2>Examples</h2>

<div class="example"><a name="d4e2664"></a><p class="title"><b>Example&nbsp;25.&nbsp;Defining a document with reference to an XML file.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:document id="countries"&gt;
    &lt;sx:urlSource url="documents/countries.xml"/&gt;
  &lt;/sx:document&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2667"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:expiryOptions" title="sx:expiryOptions">sx:expiryOptions</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:documentSequence"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:documentSequence
   &#8212; Document sequence
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e2678"></a>
<div class="refsection" lang="en"><a name="d4e2680"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">wrapWith</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Wrap all documents in the sequence with this root element.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2703"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li></ul></div>
<p>
  Either
</p>
<div class="itemizedlist"><ul type="disc"><li>Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements.</li></ul></div>
<p>
  or
</p>
<div class="itemizedlist"><ul type="disc"><li>One element that is substitutable for a <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a>,
  for example, an <a class="xref" href="#sx:directoryReader" title="sx:directoryReader">sx:directoryReader</a> element, and</li><li>One element that is substitutable for a <a class="xref" href="#sx:content" title="sx:content">sx:content</a>, 
  for example, an 
              <a class="xref" href="#sx:document" title="sx:document">sx:document</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2720"></a><h2>Description</h2>

<p>
This instruction allows you to read a collection of XML documents on a file 
system as a sequence of documents wrapped with a root element.  The results are
streamed so that an arbitrarily large number of files may be processed.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e2723"></a><h2>Examples</h2>

<div class="example"><a name="d4e2725"></a><p class="title"><b>Example&nbsp;26.&nbsp;Defining a sequence of XML documents wrapped with the default root 
  element "documents".</b></p><div class="example-contents">

  <p>
    This example uses an <a class="xref" href="#sx:directoryReader" title="sx:directoryReader">sx:directoryReader</a> element to read 
    the names of the files in a directory called "data", and an <a class="xref" href="#sx:document" title="sx:document">sx:document</a>
    element to load each of the files.
  </p>
<pre class="programlisting">

&lt;sx:documentSequence wrapWith="documents"&gt;
  &lt;sx:directoryReader directory="data"/&gt;
  &lt;sx:document&gt;
      &lt;sx:fileSource directory="{parentDirectory}" file="{name}"/&gt;
  &lt;/sx:document&gt;
&lt;/sx:documentSequence&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e2731"></a><p class="title"><b>Example&nbsp;27.&nbsp;Defining a sequence of XML documents wrapped with the root element
  "documents".</b></p><div class="example-contents">

  <p>
    Note that an <a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a> element is also subtitutable 
    for a <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a>, which allows additional filtering 
    on the contents of the file system. An <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> 
    element is likewise subtitutable for a <a class="xref" href="#sx:content" title="sx:content">sx:content</a>, which 
    allows additional transformation and validation of the individual documents.
  </p>
<pre class="programlisting">

&lt;sx:documentSequence wrapWith="documents"&gt;
  &lt;sx:recordStream&gt;
    &lt;sx:directoryReader directory="data"/&gt;
    &lt;sx:restrictRecordFilter&gt;
      &lt;sx:fieldRestriction field="name" pattern="countries.*[.]xml"/&gt;
    &lt;/sx:restrictRecordFilter&gt;
  &lt;/sx:recordStream&gt;
  &lt;sx:transform&gt;
    &lt;sx:document&gt;
      &lt;sx:fileSource directory="{parentDirectory}" file="{name}"/&gt;
    &lt;/sx:document&gt;
    &lt;msv:schemaValidator&gt;
      &lt;sx:urlSource url="data/countries.xsd"/&gt;
    &lt;/msv:schemaValidator&gt;
  &lt;/sx:transform&gt;
&lt;/sx:documentSequence&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2739"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:document" title="sx:document">sx:document</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:dynamicContent"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:dynamicContent
   &#8212; Dynamic content
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e2750"></a>
<div class="refsection" lang="en"><a name="d4e2752"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java Class</td><td align="left">The name of a Java class that implements com.servingxml.components.content.dynamic.RequestHandler
and, optionally, com.servingxml.components.content.dynamic.Cacheable.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2774"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, a <a class="xref" href="#sx:key" title="sx:key">sx:key</a> element.
</li><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2781"></a><h2>Examples</h2>

<div class="example"><a name="d4e2783"></a><p class="title"><b>Example&nbsp;28.&nbsp;Defining a document with reference to a Java class
that simulates a SAX parser.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:dynamicContent name="books" class="samples.books.BookCatalog"&gt;
    &lt;sx:key&gt;
      &lt;sx:keyField name="category"/&gt;
    &lt;/sx:key&gt;
  &lt;/sx:dynamicContent&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e2786"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:content" title="sx:content">sx:content</a>
</li><li>
<a class="xref" href="#sx:expiryOptions" title="sx:expiryOptions">sx:expiryOptions</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:saxSink"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:saxSink
   &#8212; Abstract element standing for a sink of SAX events
</p></div>
<a class="indexterm" name="d4e2797"></a>
<div class="refsection" lang="en"><a name="d4e2799"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2816"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2819"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:saxSink</code> e.g. <a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2824"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a>
</li><li>
<a class="xref" href="#sx:customSerializer" title="sx:customSerializer">sx:customSerializer</a>
</li><li>
<a class="xref" href="#fop:foSerializer" title="fop:foSerializer">fop:foSerializer</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:emptyDocument"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:emptyDocument
   &#8212; Empty XML document
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e2839"></a>
<div class="refsection" lang="en"><a name="d4e2841"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2858"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2861"></a><h2>Examples</h2>

</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:filter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:filter
   &#8212; Deprecated in 1.0.0, use <a class="xref" href="#sx:content" title="sx:content">sx:content</a> instead
</p></div>
<a class="indexterm" name="d4e2868"></a>
<div class="refsection" lang="en"><a name="d4e2870"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2881"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2884"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:content</code>, such as <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2889"></a><h2>Examples</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:key"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:key
   &#8212; Key for XML content
</p></div>
<a class="indexterm" name="d4e2896"></a>
<div class="refsection" lang="en"><a name="d4e2898"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2915"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
One or more <a class="xref" href="#sx:keyField" title="sx:keyField">sx:keyField</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e2920"></a><h2>Examples</h2>

<p>See <a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a>.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:keyField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:keyField
   &#8212; Key field
</p></div>
<a class="indexterm" name="d4e2928"></a>
<div class="refsection" lang="en"><a name="d4e2930"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">No</td><td align="left">Name</td><td align="left">Reference to the name of a parameter.  On a request, the
field value will be set to that parameter value.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e2952"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2955"></a><h2>Examples</h2>

<p>See <a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e2959"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:key" title="sx:key">sx:key</a>
</li><li>
<a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:outputProperty"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:outputProperty
   &#8212; Output property for XML serializer
</p></div>
<a class="indexterm" name="d4e2970"></a>
<div class="refsection" lang="en"><a name="d4e2972"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left">String</td><td align="left">The output property name.</td></tr><tr><td align="left">value</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The output property value.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3000"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e3003"></a><h2>Description</h2>

<p>For an XSLT serializer, the value of a single 
  <code class="sgmltag-element">xsl:output</code> property.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3007"></a><h2>Examples</h2>

<div class="example"><a name="d4e3009"></a><p class="title"><b>Example&nbsp;29.&nbsp;Parameter substitution in sx:outputProperty</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:xsltSerializer&gt; 
  &lt;sx:outputProperty name="encoding" value="{$encodingParam}"/&gt; 
  &lt;sx:outputProperty name="indent" value="{$indentModeParam}"/&gt; 
&lt;/sx:xsltSerializer&gt; 

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:processSubtree"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:processSubtree
   &#8212; Perform tasks on subtrees of an XML document
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3018"></a>
<div class="refsection" lang="en"><a name="d4e3020"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">path</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a></td><td align="left">
A <a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a> expression.  
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3044"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:task" title="sx:task">sx:task</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3051"></a><h2>Description</h2>

<p>
A <code class="sgmltag-element">sx:processSubtree</code> instruction processes a matched subtree of an XML document,
executing one or more tasks applied to the subtree.
</p>
<p>
Note that any elements that may appear as children of <a class="xref" href="#sx:service" title="sx:service">sx:service</a> 
may also appear as child elements of <code class="sgmltag-element">sx:processSubtree</code>, the only difference being that for 
the subservice, the default XML content is the fragment identified by the <code class="code">path</code> attribute. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3059"></a><h2>Examples</h2>

<div class="example"><a name="d4e3061"></a><p class="title"><b>Example&nbsp;30.&nbsp;Serializing individual document fragments to separate files.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
   
  &lt;sx:service id="invoices"&gt; 
    &lt;sx:transform&gt;
      &lt;!-- Here we extract a document fragment from the SAX stream --&gt;
      &lt;sx:processSubtree path="/invoices/invoice"&gt;
         &lt;sx:serialize&gt;
            &lt;!-- We initialize a parameter with an XPATH expression
                 applied to the document fragment --&gt;
            &lt;sx:parameter name="invoice-name" select="@id"/&gt; 
            &lt;sx:xsltSerializer&gt;
              &lt;sx:fileSink file="output/invoice{$invoice-name}.html"/&gt;
            &lt;/sx:xsltSerializer&gt;
            &lt;sx:transform&gt;
              &lt;sx:xslt&gt;&lt;sx:urlSource url="styles/invoice2html.xsl"/&gt;&lt;/sx:xslt&gt; 
            &lt;/sx:transform&gt;
         &lt;/sx:serialize&gt;
      &lt;/sx:processSubtree&gt;
    &lt;/sx:transform&gt;
  &lt;/sx:service&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordContent"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordContent
   &#8212; XML content from records
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3070"></a>
<div class="refsection" lang="en"><a name="d4e3072"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the content, used as the document element in default record mappings, defaults to "document".</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3095"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, a <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a> element.</li><li>Optionally, a <a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a> element.
If the record mapping element is omitted, the mapping is performed according to default
rules that map fields to elements of the same name.</li><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3104"></a><h2>Examples</h2>

<div class="example"><a name="d4e3106"></a><p class="title"><b>Example&nbsp;31.&nbsp;Example of Comma Separated Value (csv) file content.</b></p><div class="example-contents">

<p>
</p><pre class="programlisting">

  &lt;sx:recordContent id="countries"&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="books/countries.csv"/&gt;
      &lt;sx:flatFile&gt;
        &lt;sx:flatFileBody&gt;
          &lt;sx:flatRecordType name="country"&gt;
            &lt;sx:fieldDelimiter value=","/&gt; 
            &lt;sx:delimitedField name="countryCode"/&gt;
            &lt;sx:delimitedField name="countryName"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:flatFileBody&gt;
      &lt;/sx:flatFile&gt;
    &lt;/sx:recordReader&gt;
      
    &lt;sx:recordMapping&gt;
      &lt;countries&gt;
        &lt;sx:onRecord&gt;
          &lt;country&gt;
            &lt;sx:fieldAttributeMap attribute="countryCode" attribute="countryCode"/&gt;
            &lt;sx:fieldElementMap element="countryName" element="countryName"/&gt;
          &lt;/country&gt;  
        &lt;/sx:onRecord&gt;
      &lt;/countries&gt;
    &lt;/sx:recordMapping&gt;  
    
  &lt;/sx:recordContent&gt;

</pre><p>
</p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3110"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:content" title="sx:content">sx:content</a>
</li><li>
<a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a>
</li><li>
<a class="xref" href="#sx:sqlReader" title="sx:sqlReader">sx:sqlReader</a>
</li><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:removeEmptyAttributes"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:removeEmptyAttributes
   &#8212; Remove empty attributes from XML elements
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3127"></a>
<div class="refsection" lang="en"><a name="d4e3129"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">elements</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of <a class="xref" href="#QName" title="QName">QName</a>s or wildcards.  The value '*' means "all elements."
A namespace prefix followed by a colon followed by the value '*' means all elements belonging to the namespace. 
</td></tr><tr><td align="left">exceptElements</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of <a class="xref" href="#QName" title="QName">QName</a>s or wildcards.  The value '*' means "all elements."
A namespace prefix followed by a colon followed by the value '*' means all elements belonging to the namespace. 
</td></tr><tr><td align="left">attributes</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of element <a class="xref" href="#QName" title="QName">QName</a>s, or wildcards,
to include.  The value '*' means "all attributes." A namespace prefix followed 
by a colon followed by the value '*' means all attributes belonging to the 
namespace. 
</td></tr><tr><td align="left">exceptAttributes</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of attribute <a class="xref" href="#QName" title="QName">QName</a>s, or wildcards, to exclude.  The value '*' means "all attributes." A 
namespace prefix followed by a colon followed by the value '*' means all 
attributes belonging to the namespace. 
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3174"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e3177"></a><h2>Description</h2>

<p>
The <a class="xref" href="#sx:removeEmptyAttributes" title="sx:removeEmptyAttributes">sx:removeEmptyAttributes</a> instruction checks for attributes 
of elements that have empty values and removes them from the SAX event stream. 
The <code class="code">elements</code> and <code class="code">attributes</code> attributes are mandatory 
and identify the elements that should be examined for empty attributes.  The 
value '*' may be used to mean "all elements" or "all attributes".
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3183"></a><h2>Examples</h2>

<div class="example"><a name="d4e3185"></a><p class="title"><b>Example&nbsp;32.&nbsp;Strip all empty attributes except fileNumber from all elements.
</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:transform&gt; 
  &lt;sx:document/&gt; 
  &lt;sx:removeEmptyAttributes elements="*" attributes="*" exceptAttributes="fileNumber"/&gt; 
&lt;/sx:transform&gt; 

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3188"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:removeEmptyElementFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:removeEmptyElementFilter
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3200"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:removeEmptyElements"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:removeEmptyElements
   &#8212; Remove empty elements from XML content
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3208"></a>
<div class="refsection" lang="en"><a name="d4e3210"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">elements</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of <a class="xref" href="#QName" title="QName">QName</a>s or wildcards.  The value '*' means "all elements."
A namespace prefix followed by a colon followed by the value '*' means all elements belonging to the namespace. 
</td></tr><tr><td align="left">except</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">Deprecated, use <code class="sgmltag-attribute">exceptElements</code> 
                          instead.</td></tr><tr><td align="left">exceptElements</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of <a class="xref" href="#QName" title="QName">QName</a>s or wildcards.  The value '*' means "all elements."
A namespace prefix followed by a colon followed by the value '*' means all elements belonging to the namespace. 
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3248"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e3251"></a><h2>Description</h2>

<p>
The <a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a> instruction checks for elements that have no attributes or content
and removes them from the SAX event stream.  The <code class="code">elements</code> attribute is mandatory and identifies the 
elements that should be suppressed if found to be empty.  The value '*' may be used to mean "all elements", 
in which case exceptions may be indicated with the <code class="code">exceptElements</code> attribute.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3257"></a><h2>Examples</h2>

<div class="example"><a name="d4e3259"></a><p class="title"><b>Example&nbsp;33.&nbsp;Strip elements date1 and date2 from document if empty.
</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:transform&gt; 
  &lt;sx:document/&gt; 
  &lt;sx:removeEmptyElements elements="date1 date2"/&gt; 
&lt;/sx:transform&gt; 

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3262"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:removeEmptyAttributes" title="sx:removeEmptyAttributes">sx:removeEmptyAttributes</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:saxFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:saxFilter
   &#8212; SAX filter
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3273"></a>
<div class="refsection" lang="en"><a name="d4e3275"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java Class</td><td align="left">The name of a Java class that implements org.xml.sax.XMLFilter.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3297"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3302"></a><h2>Examples</h2>

<div class="example"><a name="d4e3304"></a><p class="title"><b>Example&nbsp;34.&nbsp;Constructing a SAX pipeline.</b></p><div class="example-contents">

<p>
The example below shows a resources script that implements a SAX pipeline.
<code class="code">PreFilter</code> and <code class="code">PostFilter</code> are the names of Java classes that
implement the <code class="code">org.xml.sax.XMLFilter</code> interface.
</p>
<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="myService"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:document&gt;
          &lt;sx:urlSource url="documents/mixed-up.xml"/&gt;
        &lt;/sx:document&gt;
        &lt;sx:saxFilter class="PreFilter"/&gt;
        &lt;sx:xslt&gt;
          &lt;sx:urlSource url="styles/filter.xsl"/&gt;
        &lt;/sx:xslt&gt;
        &lt;sx:saxFilter class="PostFilter"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

&lt;/sx:resources&gt;
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3311"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:content" title="sx:content">sx:content</a>
</li><li>
<a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:saxReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:saxReader
   &#8212; SAX reader
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSource" title="sx:saxSource">sx:saxSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e3324"></a>
<div class="refsection" lang="en"><a name="d4e3326"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java Class</td><td align="left">The name of a Java class that implements org.xml.sax.XMLReader.</td></tr><tr><td align="left">systemId</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The system id passed to the <code class="code">parse</code> method of the reader.
Defaults to an empty string.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3355"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3360"></a><h2>Examples</h2>

<div class="example"><a name="d4e3362"></a><p class="title"><b>Example&nbsp;35.&nbsp;Implementing a pipeline with SAX events generated by a custom parser.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
  
  &lt;sx:service id="pipeline"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:document&gt;
          &lt;sx:saxReader class="MySaxReader"/&gt;
        &lt;/sx:document&gt;
        &lt;sx:saxFilter class="PreFilter"/&gt;
        &lt;sx:xslt&gt;&lt;sx:urlSource url="styles/filter.xsl"/&gt;&lt;/sx:xslt&gt;
        &lt;sx:saxFilter class="PostFilter"/&gt;     
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
<p>
The class <code class="code">MySaxReader</code> could look something like this.
</p>
<pre class="programlisting">

public class MySaxReader implements XMLReader ...

  private static final AttributesImpl NO_ATTRIBUTES = new AttributesImpl();

  public void parse(String systemId)
  throws IOException, SAXException {
    if (contentHandler != null) {
      contentHandler.startDocument();
      contentHandler.startElement("","xxx","",NO_ATTRIBUTES);
      ...
      contentHandler.endElement("","xxx","");
      contentHandler.endDocument();
    }
  }  



</pre>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:saxSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:saxSource
   &#8212; Abstract element standing for a source of SAX events
</p></div>
<a class="indexterm" name="d4e3372"></a>
<div class="refsection" lang="en"><a name="d4e3374"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3391"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e3394"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:saxSource</code>, such as <a class="xref" href="#sx:saxReader" title="sx:saxReader">sx:saxReader</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e3399"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:saxReader" title="sx:saxReader">sx:saxReader</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:serialize"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:serialize
   &#8212; Serialize XML content
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e3411"></a>
<div class="refsection" lang="en"><a name="d4e3413"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3430"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Optionally, a <a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a> element</li><li>
Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> specializations, such as <a class="xref" href="#sx:document" title="sx:document">sx:document</a>,
<a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>, <a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a>, 
or <a class="xref" href="#sx:choose" title="sx:choose">sx:choose</a> elements.  These will be applied in document order.  
</li><li>Optionally, a <a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a> element.</li><li>A <a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3447"></a><h2>Description</h2>

<p>A sx:serialize instruction encloses a sequence of content generation, transformation and serialization steps
that result in serialized output of some MIME type.</p>
  <p>
Usually, the first element in the sequence of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements is a
content producer, such as a <a class="xref" href="#sx:document" title="sx:document">sx:document</a> or 
<a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> element. An empty <a class="xref" href="#sx:document" title="sx:document">sx:document</a> element 
defaults to reading from the default stream source, e.g. a file passed with the -i option 
of the console application.  If the first element is not itself a content producer, 
the initial content is the default stream of SAX events.  
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e3455"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:style"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:style
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3467"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:tagTee"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:tagTee
   &#8212; Splits the stream of SAX events
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a>, <a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e3477"></a>
<div class="refsection" lang="en"><a name="d4e3479"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3496"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Optionally, a <a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a> element.
</li><li>
Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements, such as <a class="xref" href="#sx:saxFilter" title="sx:saxFilter">sx:saxFilter</a>,
<a class="xref" href="#sx:choose" title="sx:choose">sx:choose</a>, and <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a> elements.
These will be applied in document order.</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3509"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:subtreeFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:subtreeFilter
   &#8212; Apply XML filters to subtrees of XML
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3518"></a>
<div class="refsection" lang="en"><a name="d4e3520"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">path</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a></td><td align="left">
A <a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a> expression.  
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3544"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements, for example, any number of
<a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>, 
<a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a> or <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> 
elements.  
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3554"></a><h2>Description</h2>

<p>
An <code class="sgmltag-element">sx:subtreeFilter</code> instruction allows a sequence of XML 
filters to be applied to a subtree of an XML document.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3558"></a><h2>Examples</h2>

</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:transform"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:transform
   &#8212; Transform XML content
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a>, <a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e3568"></a>
<div class="refsection" lang="en"><a name="d4e3570"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3587"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> specializations, such as <a class="xref" href="#sx:document" title="sx:document">sx:document</a>,
<a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>, <a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a>, 
or <a class="xref" href="#sx:choose" title="sx:choose">sx:choose</a> elements.  These will be applied in document order.  
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3599"></a><h2>Description</h2>

<p>A <code class="sgmltag-element">sx:transform</code> instruction encloses a sequence of content production 
and transformation steps that result in transformed content.</p>
  <p>
Usually, the first element in the sequence of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements is a
content producer, such as a <a class="xref" href="#sx:document" title="sx:document">sx:document</a> or 
<a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> element. An empty <a class="xref" href="#sx:document" title="sx:document">sx:document</a> element 
defaults to reading from the default stream source, e.g. a file passed with the -i option 
of the console application.  If the first element is not itself a content producer, 
the initial content is the default stream of SAX events.  
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e3608"></a><h2>Examples</h2>

<div class="example"><a name="d4e3610"></a><p class="title"><b>Example&nbsp;36.&nbsp;Transforming the books XML document with the books XSLT stylesheet.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="myns:books"/&gt;
        &lt;sx:xslt ref="myns:books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3613"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:serialize" title="sx:serialize">sx:serialize</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:wrap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:wrap
   &#8212; Wrap XML content with surrounding elements
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a>, <a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e3626"></a>
<div class="refsection" lang="en"><a name="d4e3628"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3645"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Literal content, which in turn may contain
<div class="itemizedlist"><ul type="circle"><li>
Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> specialization, such as <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a>, <a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a>, 
or <a class="xref" href="#sx:choose" title="sx:choose">sx:choose</a> elements.  These will be applied in document order.</li></ul></div>
</li><li>Optionally, a <a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a> element.  Defaults to the default SAX sink.  Use an empty
<a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a> element to serialize to the default stream sink.</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3661"></a><h2>Description</h2>

<p>The <code class="sgmltag-element">sx:wrap</code> instruction wraps the content that 
  its children write to the default XML sink with containing elements.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3665"></a><h2>Examples</h2>

<div class="example"><a name="d4e3667"></a><p class="title"><b>Example&nbsp;37.&nbsp;Extracting subtrees and wrapping them in containing tags</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:wrap&gt;
    &lt;sx:xsltSerializer/&gt;
    &lt;envelope&gt;
      &lt;header&gt;
        &lt;sx:attribute name="mode" value="xml"/&gt;
        &lt;creationDate&gt;
          &lt;sx:currentDateTime/&gt;
        &lt;/creationDate&gt;
      &lt;/header&gt;
      &lt;body&gt;
        &lt;myns:books xmlns:myns="http://mycompany.com/mynames/"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xsi:schemaLocation="url2"&gt;
          &lt;!-- Content to be wrapped --&gt;
          &lt;sx:transform&gt;
            &lt;sx:document/&gt;
            &lt;sx:processSubtree path="/myns:books/myns:book"&gt;
              &lt;sx:choose&gt;
                &lt;sx:when test="@categoryCode='F'"&gt;
                  &lt;sx:transform/&gt;
                &lt;/sx:when&gt;
              &lt;/sx:choose&gt;
            &lt;/sx:processSubtree&gt;
          &lt;/sx:transform&gt;
        &lt;/myns:books&gt;
      &lt;/body&gt;
      &lt;trailer&gt;This is a trailer element&lt;/trailer&gt;
    &lt;/envelope&gt;
  &lt;/sx:wrap&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3670"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:xmlEmitter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:xmlEmitter
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e3682"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:xslt"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:xslt
   &#8212; XSLT stylesheet
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e3690"></a>
<div class="refsection" lang="en"><a name="d4e3692"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">documentBase</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">This attribute is used to explicitly set the base for document URI resolution.  The base can be relative, in which case it is resolved
relative to the location of the resources script.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3715"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Optionally, a <a class="xref" href="#sx:withParameters" title="sx:withParameters">sx:withParameters</a> element to 
identify the parameters that need to be passed to the stylesheet.
</li><li> The XSLT stylesheet, as a <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> 
  or <a class="xref" href="#sx:saxSource" title="sx:saxSource">sx:saxSource</a> instance, or appearing in-line.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3725"></a><h2>Description</h2>

<p>
The <code class="sgmltag-element">sx:xslt</code> instruction applies an <code class="code">XSLT</code>
stylesheet to the <code class="code">XML</code> content on the pipeline and produces
transformed <code class="code">XML</code> content.  All <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> 
elements appearing in the body of the instruction are passed to the 
<code class="code">XSLT</code> processor. 
</p>
<p>If the stylesheet specifies output properties with an 
<code class="sgmltag-element">xsl:output</code> element, the <code class="code">ServingXML</code>
implementation will capture them, and these become the default output properties
for the next stage of the pipeline processing.  For example, if
an <code class="sgmltag-element">xsl:output</code> element specifies that method="text",
and if that property is not later overriden in downstream processing, 
an XSLT serializer on the final stage will output only the text nodes.
</p>
<p>If an XSLT stylesheet uses the <code class="code">document</code> function to 
reference a URI, the <code class="code">ServingXML</code> implementation will first 
attempt to resolve that URI against XML content appearing in the 
<code class="code">ServingXML</code> resources script.  The <code class="code">URI</code> will be resolved
 if it matches the <code class="code">URI</code> obtained by concatenating the namespace 
 URI and the local name of an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> instance.  
 If there is no match, URI resolution reverts to the default URI resolution of the 
<code class="code">XSLT</code> processor.
</p>
<p>
  The <code class="code">ServingXML</code> implementation will recognize query parameters such as ?directory=input
  in the URI passed to the <code class="code">document()</code> function.  These parameters may
  be used by a resolved <a class="xref" href="#sx:content" title="sx:content">sx:content</a> instance.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3750"></a><h2>Examples</h2>

<div class="example"><a name="d4e3752"></a><p class="title"><b>Example&nbsp;38.&nbsp;Defining a style with reference to an XSLT file.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:xslt id="books"&gt;
    &lt;sx:urlSource url="books/books.xsl"/&gt;
  &lt;/sx:xslt&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e3755"></a><p class="title"><b>Example&nbsp;39.&nbsp;A stylesheet that that takes a parameter named "category".</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
  
  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="books"/&gt;
        &lt;sx:xslt ref="books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

  &lt;sx:document id="books"&gt;
    &lt;sx:urlSource url="documents/books.xml"/&gt;
  &lt;/sx:document&gt;
  
  &lt;sx:xslt id="books"&gt;
    &lt;!--sx:parameter name="category"&gt;&lt;sx:defaultValue&gt;F&lt;/sx:defaultValue&gt;&lt;/sx:parameter--&gt;
    &lt;sx:withParameters parameters="category"/&gt;
    &lt;sx:urlSource url="styles/books.xsl"/&gt;
  &lt;/sx:xslt&gt;

&lt;/sx:resources&gt;
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3758"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:content" title="sx:content">sx:content</a>
</li><li>
<a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:xsltSerializer"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:xsltSerializer
   &#8212; XML serializer of XSLT processor
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e3771"></a>
<div class="refsection" lang="en"><a name="d4e3773"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3790"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:outputProperty" title="sx:outputProperty">sx:outputProperty</a> elements.</li><li>
Optionally, a specialized <a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a> element, for example, a 
<a class="xref" href="#sx:fileSink" title="sx:fileSink">sx:fileSink</a> or a <a class="xref" href="#edt:ftpSink" title="edt:ftpSink">edt:ftpSink</a> element.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e3799"></a><h2>Examples</h2>

<div class="example"><a name="d4e3801"></a><p class="title"><b>Example&nbsp;40.&nbsp;Transforming content and serializing it to XML.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;
              
  &lt;sx:service id="myPipeline"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:document&gt;&lt;sx:fileSource file="input.xml"/&gt;&lt;/document&gt;        
        &lt;sx:xslt&gt;&lt;sx:urlSource url="filter.xsl"/&gt;&lt;/sx:xslt&gt;
      &lt;/sx:transform&gt;
      &lt;sx:xsltSerializer&gt;
        &lt;sx:fileSink file="output.xml"/&gt;
        &lt;sx:outputProperty name="indent" value="yes"/&gt;
      &lt;/sx:xsltSerializer&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-recordio"></a>Record Readers, Writers and Filters</h1></div></div><hr></div>


<div class="refentry" lang="en"><a name="sx:aggregateRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:aggregateRecords
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a>
</p></div>
<a class="indexterm" name="d4e3811"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:and"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:and
   &#8212; And operator
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a></b></p>
</p></div>
<a class="indexterm" name="d4e3819"></a>
<div class="refsection" lang="en"><a name="d4e3821"></a><h2>Attributes</h2>

<p>None</p>
</div>
<div class="refsection" lang="en"><a name="d4e3824"></a><h2>Content</h2>

<p>Any number of <a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a> elements.</p>
</div>
<div class="refsection" lang="en"><a name="d4e3828"></a><h2>Description</h2>

<p>
This instruction allows record criteria to be grouped in an "and" relationship. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3831"></a><h2>Examples</h2>

<div class="example"><a name="d4e3833"></a><p class="title"><b>Example&nbsp;41.&nbsp;(a or b)</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:restrictRecordFilter&gt;  
  &lt;sx:and&gt;
    &lt;sx:recordRestriction recordType="claim_detail"/&gt;  
    &lt;sx:fieldRestriction field="valid" pattern="y"/&gt;  
  &lt;/sx:and&gt;
&lt;/sx:restrictRecordFilter&gt; 
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e3836"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:restrictRecordFilter" title="sx:restrictRecordFilter">sx:restrictRecordFilter</a>
</li><li>
<a class="xref" href="#sx:or" title="sx:or">sx:or</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:batchRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:batchRecords
   &#8212; Batch records
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e3849"></a>
<div class="refsection" lang="en"><a name="d4e3851"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">batchSize</td><td align="left">Yes</td><td align="left">Number</td><td align="left"><p>The batch size.</p>
</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a></td><td align="left">Count records whose record types match the record type name test.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3880"></a><h2>Content</h2>

<p>None</p>
</div>
<div class="refsection" lang="en"><a name="d4e3883"></a><h2>Description</h2>

<p>
This instruction allows a sequential stream of records to be broken up into batches.  As each batch is begun,
the parameter <code class="varname">sx:batchSequenceNumber</code> is set, just before the record
writer initializes its ouput stream.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3887"></a><h2>Examples</h2>

<div class="example"><a name="d4e3889"></a><p class="title"><b>Example&nbsp;42.&nbsp;Breaking up a sequential stream of records into batches.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="countries"&gt;
    &lt;sx:recordStream&gt;
      &lt;sx:flatFileReader&gt;
        &lt;sx:fileSource file="data/countries.csv"/&gt;
        &lt;sx:flatFile ref="countriesFile"/&gt;
      &lt;/sx:flatFileReader&gt;
      &lt;sx:batchRecords batchSize="50"/&gt;
      &lt;sx:flatFileWriter&gt;
        &lt;sx:fileSink file="output/countries-{$sx:batchSequenceNumber}.csv"/&gt;
        &lt;sx:flatFile ref="countriesFile"/&gt;
      &lt;/sx:flatFileWriter&gt;
    &lt;/sx:recordStream&gt;
  &lt;/sx:service&gt;

  &lt;sx:flatFile id="countriesFile"&gt;
    &lt;sx:commentStarter value="#"/&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType name="country"&gt;
        &lt;sx:fieldDelimiter value=","/&gt;
        &lt;sx:delimitedField name="code"/&gt;
        &lt;sx:delimitedField name="name" trimLeading="true"/&gt;
      &lt;/sx:flatRecordType&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:batchedRecordWriter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:batchedRecordWriter
   &#8212; Write records in batches
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a></b></p>
</p></div>
<a class="indexterm" name="d4e3898"></a>
<div class="refsection" lang="en"><a name="d4e3900"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">batchSize</td><td align="left">Yes</td><td align="left">Number</td><td align="left"><p>The batch size.</p>
</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a></td><td align="left">Count records whose record types match the record type name test.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e3929"></a><h2>Content</h2>

<p>None</p>
</div>
<div class="refsection" lang="en"><a name="d4e3932"></a><h2>Description</h2>

<p>
This instruction allows a sequential stream of records to be broken up into batches.  As each batch is begun,
the parameter <code class="varname">sx:batchSequenceNumber</code> is set, just before the record
writer initializes its ouput stream.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e3936"></a><h2>Examples</h2>

<div class="example"><a name="d4e3938"></a><p class="title"><b>Example&nbsp;43.&nbsp;Breaking up a sequential stream of records into batches.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:service id="countries"&gt;
    &lt;sx:recordStream&gt;
      &lt;sx:flatFileReader&gt;
        &lt;sx:fileSource file="data/{$rootName}.csv"/&gt;
        &lt;sx:flatFile ref="my-input-file-layout"/&gt;
      &lt;/sx:flatFileReader&gt;
      &lt;sx:batchedRecordWriter batchSize="50"&gt;
        &lt;sx:flatFileWriter&gt;
          &lt;sx:fileSink file="output/{$rootName}-{$sx:batchSequenceNumber}.csv"/&gt;
          &lt;sx:flatFile ref="my-output-file-layout"/&gt;
        &lt;/sx:flatFileWriter&gt;
      &lt;/sx:batchedRecordWriter&gt;
    &lt;/sx:recordStream&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:combineRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:combineRecords
   &#8212; Compose a composite record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e3947"></a>
<div class="refsection" lang="en"><a name="d4e3949"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The name of the composite record type.
</td></tr><tr><td align="left">repeatingGroup</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field containing a list of records.
</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr><tr><td align="left">compositeRecordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Deprecated in version 0.9.5 - replaced by recordType attribute.</td></tr><tr><td align="left">repeatingGroupField</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Deprecated in version 0.9.5 - replaced by repeatingGroup attribute.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4002"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p></li><li>Any number of <a class="xref" href="#sx:newField" title="sx:newField">sx:newField</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4010"></a><h2>Description</h2>

<p>
This instruction allows you to compose a composite record from a group of 
adjacent records.
</p>
<p>
Grouping begins when processing a record and the <code class="sgmltag-element">startTest</code> expression 
evaluates as <code class="code">true</code>.  Grouping ends on a succeeding record when the 
<code class="sgmltag-element">endTest</code> expression evaluates as 
<code class="code">true</code>, or when a parent group to which this group belongs ends.  The test
for the end of a group is exclusive, that is, if <code class="sgmltag-element">endTest</code>
evaluates as <code class="code">true</code> when processing a record,
  that record is 
excluded from the group.
</p>
  <p>
    The test expressions are XPATH expressions evaluated against the XML 
    representations of the current (sx:current) and previous (sx:previous) 
    records.
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e4021"></a><h2>Examples</h2>

<div class="example"><a name="d4e4023"></a><p class="title"><b>Example&nbsp;44.&nbsp;Grouping records into a composite record.</b></p><div class="example-contents">

  <p>
    The input is three records of record type "orderRemarks", 
  </p>
<div class="informaltable">
<table border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">REMTEI</th><th align="left">REM</th></tr></thead><tbody><tr><td align="left">REM</td><td align="left">AAAA</td></tr><tr><td align="left">REM</td><td align="left">BBB</td></tr><tr><td align="left">REM</td><td align="left">CCC</td></tr></tbody></table>
</div>
  <p>
    The XML representation of the "orderRemarks" records is 
  </p>


<pre class="programlisting">

&lt;orderRemarks&gt;&lt;REMTEI&gt;REM&lt;/REMTEI&gt;&lt;REM&gt;AAAA&lt;/REM&gt;&lt;/orderRemarks&gt; 
&lt;orderRemarks&gt;&lt;REMTEI&gt;REM&lt;/REMTEI&gt;&lt;REM&gt;BBBB&lt;/REM&gt;&lt;/orderRemarks&gt; 
&lt;orderRemarks&gt;&lt;REMTEI&gt;REM&lt;/REMTEI&gt;&lt;REM&gt;CCCC&lt;/REM&gt;&lt;/orderRemarks&gt; 

</pre>
  <p>
    The <code class="sgmltag-element">sx:combineRecords</code> element below composes the three 
    input records into a composite record with record type "composite", and with 
    a repeating group field "detail" that contains the three original records.  
    It creates a new field "remarks" whose value is calculated from the original 
    records.
  </p>
<pre class="programlisting">

    &lt;sx:combineRecords recordType="composite" repeatingGroup="detail"
                startTest="sx:current/orderRemarks"
                endTest="not(sx:current/orderRemarks)"&gt;
      &lt;sx:newField name="remarks" select="detail/orderRemarks/REM"/&gt;
    &lt;/sx:combineRecords&gt;

</pre>
  <p>
    The output is the composite record.
  </p>
<pre class="programlisting">

&lt;composite&gt; 
  &lt;detail&gt; 
    &lt;orderRemarks&gt;&lt;REMTEI&gt;REM&lt;/REMTEI&gt;&lt;REM&gt;AAAA&lt;/REM&gt;&lt;/orderRemarks&gt; 
    &lt;orderRemarks&gt;&lt;REMTEI&gt;REM&lt;/REMTEI&gt;&lt;REM&gt;BBBB&lt;/REM&gt;&lt;/orderRemarks&gt; 
    &lt;orderRemarks&gt;&lt;REMTEI&gt;REM&lt;/REMTEI&gt;&lt;REM&gt;CCCC&lt;/REM&gt;&lt;/orderRemarks&gt; 
  &lt;/detail&gt; 
  &lt;remarks&gt;AAAA BBBB CCCC&lt;/remarks&gt; 
&lt;/composite&gt; 

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e4049"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:splitRecord" title="sx:splitRecord">sx:splitRecord</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:composeRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:composeRecord
   &#8212; Deprecated in version 1.1.2, aliased to <a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4061"></a>
</div>
             
<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:customRecordFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:customRecordFilter
   &#8212; Custom record filter
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4069"></a>
<div class="refsection" lang="en"><a name="d4e4071"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java Class</td><td align="left">The name of a Java class that implements com.servingxml.components.recordio.RecordFilter</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4093"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4098"></a><h2>Examples</h2>

<div class="example"><a name="d4e4100"></a><p class="title"><b>Example&nbsp;45.&nbsp;Writing a custom record filter.</b></p><div class="example-contents">

<p>
The example below shows a fragment of a resources script that uses a record filter.
<code class="code">HotRecordFilter</code> is the names of a Java class that
extends the <code class="code">com.servingxml.components.recordio.AbstractRecordFilter</code> class,
which provides a default implementation of the <code class="code">com.servingxml.components.recordio.RecordFilter</code>
interface.
</p>
<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:recordContent id="hot"&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:flatFile ref="hotFlatFile"/&gt;
      &lt;sx:customRecordFilter class="HotRecordFilter"/&gt;
    &lt;/sx:flatFileReader&gt; ...
    
  &lt;/sx:recordContent&gt; 

  &lt;sx:flatFile id="hotFlatFile"&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordTypeChoice&gt;
        &lt;sx:positionalField name="record-type" width="5"/&gt;
        &lt;sx:when  test="record-type='BKP84'"&gt;
          &lt;sx:flatRecordType name="bkp84"&gt;
            &lt;sx:positionalField name="record-type-prefix"  width="3"/&gt;
            &lt;sx:positionalField name="record-type"  start="1" width="5"/&gt;
            &lt;sx:positionalField name="value" width="7"/&gt;
            &lt;sx:positionalField name="amount" width="2"/&gt;
            &lt;sx:positionalField name="currency" width="3"/&gt;
            &lt;sx:positionalField name="precision" width="1"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
        &lt;sx:when test="record-type='BKT06'"&gt; ...
        
      &lt;/sx:flatRecordTypeChoice&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt; ...

&lt;/sx:resources&gt;  
</pre>
<p>
The <code class="code">HotRecordFilter</code> class is implemented as shown below.  The class needs to be compiled 
and put in the classpath where the framework can find it, for example, by adding it to the
<code class="filename">target\servingxml\classes</code> directory.
</p>
<pre class="programlisting">

import com.servingxml.app.Flow;
import com.servingxml.app.ServiceContext;
import com.servingxml.components.recordio.AbstractRecordFilter;
import com.servingxml.util.Name;
import com.servingxml.util.QualifiedName;
import com.servingxml.util.record.Record;
import com.servingxml.util.record.RecordBuilder;
import com.servingxml.util.ServingXmlException;

public class HotRecordFilter extends AbstractRecordFilter {
  private static final Name BKP84_RECORD_TYPE = new QualifiedName("bkp84");
  private static final Name AMOUNT_NAME = new QualifiedName("amount");
  private static final Name PRECISION_NAME = new QualifiedName("precision");
  private static final Name CALCULATED_AMOUNT_NAME = new QualifiedName("calculatedAmount");
  
  public void writeRecord(ServiceContext context, Flow flow) 
   {

    Record record = flow.getRecord();
    Flow newFlow = flow;
    if (record.getRecordType().getName().equals(BKP84_RECORD_TYPE)) {
      RecordBuilder recordBuilder = new RecordBuilder(record);
      String amountString = record.getString(AMOUNT_NAME);
      if (amountString == null) {
        throw new ServingXmlException("amount is NULL");
      }
      String precisionString = record.getString(PRECISION_NAME);
      if (precisionString == null) {
        throw new ServingXmlException("precision is NULL");
      }
      int amount = Integer.parseInt(amountString,16);
      int precision = Integer.parseInt(precisionString);
      double calculatedAmount = (double)amount/Math.pow(10.0,(double)precision);
      recordBuilder.setDouble(CALCULATED_AMOUNT_NAME,calculatedAmount);
      record = recordBuilder.toRecord();
      newFlow = flow.replaceRecord(context, record);
    }

    super.writeRecord(context, newFlow);
  }
}
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e4111"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:customRecordReader" title="sx:customRecordReader">sx:customRecordReader</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:customRecordReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:customRecordReader
   &#8212; Custom record reader
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4122"></a>
<div class="refsection" lang="en"><a name="d4e4124"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java Class</td><td align="left">The name of a Java class that implements com.servingxml.components.recordio.RecordFilter</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4146"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4151"></a><h2>Examples</h2>

<div class="example"><a name="d4e4153"></a><p class="title"><b>Example&nbsp;46.&nbsp;Writing a custom record reader.</b></p><div class="example-contents">

<p>
The example below shows a resources script that uses a record reader.
<code class="code">TradeRecordFilter</code> is the names of a Java class that
extends the <code class="code">com.servingxml.components.recordio.AbstractRecordReader</code> class,
which provides a default implementation of the <code class="code">com.servingxml.components.recordio.RecordReader</code>
interface.
</p>
<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="trades"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="trades"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

  &lt;sx:recordContent id="trades"&gt;
    &lt;sx:customRecordReader class="TradeRecordReader"/&gt;
    &lt;sx:recordMapping ...
  &lt;/sx:recordContent&gt;

&lt;/sx:resources&gt;

</pre>
<p>
The <code class="code">TradeRecordReader</code> class is implemented as shown below.  The class needs to be compiled 
and put in the classpath where the framework can find it, for example, by adding it to the
<code class="filename">target\servingxml\classes</code> directory.
</p>
<pre class="programlisting">

import com.servingxml.app.ServiceContext;
import com.servingxml.components.recordio.AbstractRecordReader;
import com.servingxml.app.Flow;
import com.servingxml.util.Name;
import com.servingxml.util.QualifiedName;
import com.servingxml.util.ServingXmlException;
import com.servingxml.util.record.Record;
import com.servingxml.util.record.RecordBuilder;

public class TradeRecordReader extends AbstractRecordReader {
  private static final Name TRADE_RECORD_TYPE = new QualifiedName("trade");
  private static final Name TRANSACTION_RECORD_TYPE = new QualifiedName("transaction");
  private static final Name RECORD_TYPE_NAME = new QualifiedName("record_type");
  private static final Name ID_NAME = new QualifiedName("id");
  private static final Name TRADE_DATE_NAME = new QualifiedName("trade_date");
  private static final Name TRADE_TIME_NAME = new QualifiedName("trade_time");
  private static final Name DESCRIPTION_NAME = new QualifiedName("description");
  private static final Name REFERENCE_NAME = new QualifiedName("reference");
  
  public void readRecords(ServiceContext context, Flow flow) 
   {

    //  Start the record stream
    startRecordStream(context, flow);

    RecordBuilder trRecordBuilder = new RecordBuilder(TRADE_RECORD_TYPE);
    RecordBuilder tnRecordBuilder = new RecordBuilder(TRANSACTION_RECORD_TYPE);

    Record record;

    trRecordBuilder.setString(RECORD_TYPE_NAME,"TR");
    trRecordBuilder.setString(ID_NAME,"0001");
    trRecordBuilder.setString(TRADE_DATE_NAME,"03/25/2005");
    trRecordBuilder.setString(TRADE_TIME_NAME,"01:50:00");
    trRecordBuilder.setString(DESCRIPTION_NAME,"This is a trade record");
    record = trRecordBuilder.toRecord();
    trRecordBuilder.clear();

    //  Write the "trade" record
    writeRecord(context, flow, record);

    tnRecordBuilder.setString(RECORD_TYPE_NAME,"TN");
    tnRecordBuilder.setString(ID_NAME,"0002");
    tnRecordBuilder.setString(REFERENCE_NAME,"X1234");
    tnRecordBuilder.setString(DESCRIPTION_NAME,"A child transaction");
    record = tnRecordBuilder.toRecord();   
    tnRecordBuilder.clear();

    //  Write the first "transaction" record
    writeRecord(context, flow, record);

    tnRecordBuilder.setString(RECORD_TYPE_NAME,"TN");
    tnRecordBuilder.setString(ID_NAME,"0003");
    tnRecordBuilder.setString(REFERENCE_NAME,"X1235");
    tnRecordBuilder.setString(DESCRIPTION_NAME,"Another child transaction");
    record = tnRecordBuilder.toRecord();
    tnRecordBuilder.clear();

    //  Write the second "transaction" record
    writeRecord(context, flow, record);

    //  End the record stream
    endRecordStream(context, flow);
  }
}                              
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e4164"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:customRecordFilter" title="sx:customRecordFilter">sx:customRecordFilter</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:decomposeRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:decomposeRecord
   &#8212; Deprecated in version 1.1.2, aliased to <a class="xref" href="#sx:decomposeRecord" title="sx:decomposeRecord">sx:decomposeRecord</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4176"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:discard"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:discard
   &#8212; Discard a record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4184"></a>
<div class="refsection" lang="en"><a name="d4e4186"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4203"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>A message explaining the reason for discarding the record.</p>.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4208"></a><h2>Description</h2>

<p>
This instruction results in the current record being discarded.  One place it can be used is in
the <a class="xref" href="#sx:unmatchedRecord" title="sx:unmatchedRecord">sx:unmatchedRecord</a> section of a <a class="xref" href="#sx:restrictRecordFilter" title="sx:restrictRecordFilter">sx:restrictRecordFilter</a> element.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4213"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:restrictRecordFilter" title="sx:restrictRecordFilter">sx:restrictRecordFilter</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:discardFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:discardFilter
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:discardHandler" title="sx:discardHandler">sx:discardHandler</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4225"></a>
<div class="refsection" lang="en"><a name="d4e4227"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Apply discard handling to records of this type.  Defaults to records of any type.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4250"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a> and <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a> elements, followed by</li><li>Optionally, one  <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4260"></a><h2>Description</h2>

<p>
This instruction allows you to write discarded records to file or database. 
</p>
<div class="refsection" lang="en"><a name="d4e4263"></a><h3>Examples</h3>

<div class="example"><a name="d4e4265"></a><p class="title"><b>Example&nbsp;47.&nbsp;No discard filter.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordContent id="countries"&gt;
  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countries.csv"/&gt;
      &lt;sx:flatFile ref="countries-file"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
  &lt;sx:recordStream&gt;
  &lt;sx:recordMapping ref="countries-xml-mapping"/&gt;
&lt;/sx:recordContent&gt;

</pre>
<p>
In this example, if the record validator throws an exception, 
the <code class="code">ServingXML</code> implementation logs an error message and aborts.
</p>
</div></div><br class="example-break">
<div class="example"><a name="d4e4270"></a><p class="title"><b>Example&nbsp;48.&nbsp;An empty discard filter.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordContent id="countries"&gt;
  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countries.csv"/&gt;
      &lt;sx:flatFile ref="countries-file"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;sx:discardFilter/&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
  &lt;/sx:recordStream&gt;
  &lt;sx:recordMapping ref="countries-xml-mapping"/&gt;
&lt;/sx:recordContent&gt;

</pre>
<p>
In this example, the record flows through the discard filter before reaching the record validator.
If the record validator throws an exception, the exception is caught in the discard handler.
The discard filter logs the error and discards the bad record.  The next record is then read.
</p>
</div></div><br class="example-break">
<div class="example"><a name="sx:discardFilter#example"></a><p class="title"><b>Example&nbsp;49.&nbsp;A discard filter that writes the bad record with a message to a discard file.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordContent id="countries"&gt;
  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countries.csv"/&gt;
      &lt;sx:flatFile ref="countriesFile"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;sx:discardFilter&gt;
      &lt;sx:modifyRecord&gt;
        &lt;sx:newField name="message" value="{$sx:message}"/&gt;
      &lt;/sx:modifyRecord&gt;
      &lt;sx:flatFileWriter&gt;
        &lt;sx:fileSink file="output/countryDiscards.csv"/&gt;
        &lt;sx:flatFile ref="discardFile"/&gt;
      &lt;/sx:flatFileWriter&gt;
    &lt;/sx:discardFilter&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
  &lt;/sx:recordStream&gt;
  &lt;sx:recordMapping ref="countriesToXmlMapping"/&gt;
&lt;/sx:recordContent&gt;

&lt;sx:flatRecordType id="country" name="country"&gt;
  &lt;sx:fieldDelimiter value=","/&gt;
  &lt;sx:delimitedField name="code"/&gt;
  &lt;sx:delimitedField name="name"/&gt;
&lt;/sx:flatRecordType&gt;

&lt;sx:flatFile id="discardFile"&gt;
  &lt;sx:flatFileBody&gt;
    &lt;sx:flatRecordType name="countryDiscard"&gt;
      &lt;sx:fieldDelimiter value=","/&gt;
      &lt;sx:delimitedField name="message"/&gt;
      &lt;sx:flatRecordType ref="country"/&gt;
    &lt;/sx:flatRecordType&gt;
  &lt;/sx:flatFileBody&gt;
&lt;/sx:flatFile&gt;

</pre>
<p>
In this example, the record flows through the discard filter before reaching the record validator.
If the record validator throws an exception, the exception is caught in the discard handler.
The discard filter logs the error and writes the bad record along with the error message to a discard file.  The next record is then read.
</p>
</div></div><br class="example-break">
</div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:discardHandler"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:discardHandler
   &#8212; Discard record handler
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4284"></a>
<div class="refsection" lang="en"><a name="d4e4286"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Apply discard handling to records of this type.  Defaults to records of any type.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4309"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a> and <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a> elements, followed by</li><li>Optionally, one  <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4319"></a><h2>Description</h2>

<p>
This instruction allows you to write discarded records to file or database. 
</p>
<div class="refsection" lang="en"><a name="d4e4322"></a><h3>Examples</h3>

<div class="example"><a name="d4e4324"></a><p class="title"><b>Example&nbsp;50.&nbsp;No discard handler.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordContent id="countries"&gt;
  &lt;sx:flatFileReader&gt;
    &lt;sx:urlSource url="data/countries.csv"/&gt;
    &lt;sx:flatFile ref="countries-file"/&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
  &lt;/sx:flatFileReader&gt;
  &lt;sx:recordMapping ref="countries-xml-mapping"/&gt;
&lt;/sx:recordContent&gt;

</pre>
<p>
In this example, if the record validator discards a record, the record reaches the default handler, which logs an error message and aborts.
</p>
</div></div><br class="example-break">
<div class="example"><a name="d4e4328"></a><p class="title"><b>Example&nbsp;51.&nbsp;A logging discard handler.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordContent id="countries"&gt;
  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countries.csv"/&gt;
      &lt;sx:flatFile ref="countries-file"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
    &lt;sx:discardHandler&gt;
      &lt;sx:log message="{$sx:message}"/&gt;
    &lt;/sx:discardHandler&gt;
  &lt;/sx:recordStream&gt;
  &lt;sx:recordMapping ref="countries-xml-mapping"/&gt;
&lt;/sx:recordContent&gt;

</pre>
<p>
If the record validator discards the record, the record is passed down the pipeline to the discard handler.
The discard handler logs the error and throws the discarded record away.  The next record is then read.
</p>
</div></div><br class="example-break">
<div class="example"><a name="sx:discardHandler#example"></a><p class="title"><b>Example&nbsp;52.&nbsp;A discard handler that writes the discarded record with a message to a discard file.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:recordContent id="countries"&gt;
    &lt;sx:recordStream&gt;
      &lt;sx:flatFileReader&gt;
        &lt;sx:urlSource url="data/countriesWithDiscards.csv"/&gt;
        &lt;sx:flatFile ref="countriesFile"/&gt;
      &lt;/sx:flatFileReader&gt;
      &lt;msv:recordValidator&gt;
        &lt;sx:urlSource url="data/country-record.xsd"/&gt;
      &lt;/msv:recordValidator&gt;
      &lt;sx:discardHandler&gt;
        &lt;sx:log message="{$sx:message}"/&gt;
        &lt;sx:modifyRecord&gt;
          &lt;sx:newField name="message" value="{$sx:message}"/&gt;
        &lt;/sx:modifyRecord&gt;
        &lt;sx:flatFileWriter&gt;
          &lt;sx:fileSink file="output/countryDiscards.csv"/&gt;
          &lt;sx:flatFile ref="discardFile"/&gt;
        &lt;/sx:flatFileWriter&gt;
      &lt;/sx:discardHandler&gt;
    &lt;/sx:recordStream&gt;
    &lt;sx:recordMapping ref="countriesToXmlMapping"/&gt;
  &lt;/sx:recordContent&gt;

  &lt;sx:flatRecordType id="countryRecord" name="country"&gt;
    &lt;sx:fieldDelimiter value=","/&gt;
    &lt;sx:delimitedField name="code"/&gt;
    &lt;sx:delimitedField name="name"/&gt;
  &lt;/sx:flatRecordType&gt;

  &lt;sx:flatFile id="countriesFile"&gt;
    &lt;sx:commentStarter value="#"/&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType ref="country"/&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

  &lt;sx:flatFile id="discardFile"&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType name="countryDiscard"&gt;
        &lt;sx:fieldDelimiter value=","/&gt;
        &lt;sx:delimitedField name="message"/&gt;
        &lt;sx:flatRecordType ref="countryRecord"/&gt;
      &lt;/sx:flatRecordType&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

</pre>
<p>
If the record validator discards the record, the record is passed down the pipeline to the discard handler.
The discard handler logs the error and writes the discarded record along with the error message to a discard file.  The next record is then read.
</p>
</div></div><br class="example-break">
</div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fieldRestriction"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fieldRestriction
   &#8212; Restrict field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a></b></p>
</p></div>
<a class="indexterm" name="d4e4342"></a>
<div class="refsection" lang="en"><a name="d4e4344"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">field</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">pattern</td><td align="left">Yes</td><td align="left"><a class="xref" href="#Regex" title="Regex">Regex</a></td><td align="left">The regular expression to be tested against the value of the field.</td></tr><tr><td align="left">negate</td><td align="left">No</td><td align="left">true/false</td><td align="left">Reverses the restriction.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4378"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e4381"></a><h2>Description</h2>

<p>
This instruction allows records to be filtered by applying a regular expression to the value of a field. 
</p>
<p>The <code class="sgmltag-element">negate</code> attribute reverses the restriction.  By setting the <code class="sgmltag-element">negate</code> attribute to <code class="code">true</code>, 
  the restriction applies only if the records don't match the condition.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fieldValidator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fieldValidator
   &#8212; Field validator
</p></div>
<a class="indexterm" name="d4e4392"></a>
<div class="refsection" lang="en"><a name="d4e4394"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">fieldName</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field to validate.</td></tr><tr><td align="left">message</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A message indicating the error if validation fails.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4423"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Any number of <a class="xref" href="#sx:valueRestriction" title="sx:valueRestriction">sx:valueRestriction</a> 
                                elements.</p></li><li><p>Any number of <a class="xref" href="#sx:validator" title="sx:validator">sx:validator</a> elements 
                                (in particular, <a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a> 
                                elements for validating subrecords)
          </p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4433"></a><h2>Description</h2>

<p>
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e4436"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fileFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fileFilter
   &#8212; File filter
</p></div>
<a class="indexterm" name="d4e4445"></a>
<div class="refsection" lang="en"><a name="d4e4447"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">pattern</td><td align="left">Yes</td><td align="left"><a class="xref" href="#Regex" title="Regex">Regex</a></td><td align="left">The regular expression to be tested against the file name.</td></tr><tr><td align="left">negate</td><td align="left">No</td><td align="left">true/false</td><td align="left">Reverses the restriction.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4475"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e4478"></a><h2>Description</h2>

<p>
This instruction allows you to filter the files returned by a directory reader,
 by applying a regular expression to each file name. 
</p>
<p>The <code class="sgmltag-element">negate</code> attribute reverses the restriction.  By setting the <code class="sgmltag-element">negate</code> attribute to <code class="code">true</code>, 
  the restriction applies only if the filename does not match the condition.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4485"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:directoryReader" title="sx:directoryReader">sx:directoryReader</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:log"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:log
   &#8212; Log
</p></div>
<a class="indexterm" name="d4e4494"></a>
<div class="refsection" lang="en"><a name="d4e4496"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">message</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string value that may contain parameters inside curly braces, e.g. "{$message}".</td></tr><tr><td align="left">level</td><td align="left">No</td><td align="left">error/warning/notice/trace</td><td align="left">Defaults to "error".</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4524"></a><h2>Content</h2>

<p>Optionally, if there is no <code class="sgmltag-element">message</code> attribute, 
  any combination of string literals and inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a>
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4529"></a><h2>Description</h2>

<p>
The <code class="sgmltag-element">sx:log</code> element is used in a record stream to write a message to the log.
</p>
<p>
The message may be specified either by a <code class="sgmltag-attribute">message</code> attribute
or by the content. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4535"></a><h2>Examples</h2>

<div class="example"><a name="d4e4537"></a><p class="title"><b>Example&nbsp;53.&nbsp;Example of logging a message in a discard handler.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countriesWithDiscards.csv"/&gt;
      &lt;sx:flatFile ref="countriesFile"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
    &lt;sx:discardHandler&gt;
      &lt;sx:log message="{$sx:message}"/&gt;
      &lt;sx:modifyRecord&gt;
        &lt;sx:newField name="message" value="{$sx:message}"/&gt;
      &lt;/sx:modifyRecord&gt;
      &lt;sx:flatFileWriter&gt;
        &lt;sx:fileSink file="output/countryDiscards.csv"/&gt;
        &lt;sx:flatFile ref="discardFile"/&gt;
      &lt;/sx:flatFileWriter&gt;
    &lt;/sx:discardHandler&gt;
  &lt;/sx:recordStream&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e4540"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:modifyRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:modifyRecord
   &#8212; Modify a record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4551"></a>
<div class="refsection" lang="en"><a name="d4e4553"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">newRecordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The record type name of the modified record.  Defaults to the record type name of the original record.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4576"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:newField" title="sx:newField">sx:newField</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4583"></a><h2>Description</h2>

<p>
This instruction modifies the current record in a record stream. Each <a class="xref" href="#sx:newField" title="sx:newField">sx:newField</a> child element adds a new
field if none currently exists with the same name, or else replaces the existing field.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4587"></a><h2>Examples</h2>

<p>See <a class="xref" href="#sx:discardHandler#example" title="Example&nbsp;52.&nbsp;A discard handler that writes the discarded record with a message to a discard file.">Example&nbsp;52, &#8220;A discard handler that writes the discarded record with a message to a discard file.&#8221;</a></p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:newField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:newField
   &#8212; Add a field to a record
</p></div>
<a class="indexterm" name="d4e4595"></a>
<div class="refsection" lang="en"><a name="d4e4597"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string value that may reference a parameter or field inside curly braces, e.g. "{$my-param}.xml".</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">An XPath expression evaluated against an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> 
substitutable child element, or, if none, the XML representation of 
  the record.</td></tr><tr><td align="left">match</td><td align="left">Yes</td><td align="left"><a class="xref" href="#Regex" title="Regex">Regex</a></td><td align="left">The regular expression to be tested against the value of the field.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4638"></a><h2>Content</h2>

<div class="refsection" lang="en"><a name="d4e4640"></a><h3>Content</h3>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, if there is a <code class="sgmltag-element">select</code> attribute, 
            an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> element.  If supplied, the select 
            expression will be evaluated against this content, otherwise it will
            be evaluated against the XML representation of the record.
</p>
</li><li><p>Optionally, if there is no <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li></ul></div>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4652"></a><h2>Description</h2>

<p>
This instruction allows a new field to be added to a record. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4655"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:modifyRecord" title="sx:modifyRecord">sx:modifyRecord</a>
</li><li>
<a class="xref" href="#sx:newRecord" title="sx:newRecord">sx:newRecord</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:newRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:newRecord
   &#8212; Create a new record
</p></div>
<a class="indexterm" name="d4e4666"></a>
<div class="refsection" lang="en"><a name="d4e4668"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The type of the new record.  Defaults to the type of the original record.</td></tr><tr><td align="left">fields</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of names of fields to be copied to the new record.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
Defaults to "*".
</td></tr><tr><td align="left">except</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">(deprecated, use exceptFields instead)
</td></tr><tr><td align="left">exceptFields</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">A space-separated list of names of fields <span class="emphasis"><em>not</em></span> to be copied to the new record.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. Defaults to the empty string.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4710"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Any number of <a class="xref" href="#sx:newField" title="sx:newField">sx:newField</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4715"></a><h2>Description</h2>

<p>
This instruction allows records to be changed in a record stream. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4718"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:replaceRecord" title="sx:replaceRecord">sx:replaceRecord</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:or"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:or
   &#8212; Or condition
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a></b></p>
</p></div>
<a class="indexterm" name="d4e4729"></a>
<div class="refsection" lang="en"><a name="d4e4731"></a><h2>Attributes</h2>

<p>None</p>
</div>
<div class="refsection" lang="en"><a name="d4e4734"></a><h2>Content</h2>

<p>Any number of <a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a> elements.</p>
</div>
<div class="refsection" lang="en"><a name="d4e4738"></a><h2>Description</h2>

<p>
This instruction allows record criteria to be grouped in an "or" relationship. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4741"></a><h2>Examples</h2>

<div class="example"><a name="d4e4743"></a><p class="title"><b>Example&nbsp;54.&nbsp;(a or b) and c</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:restrictRecordFilter&gt;  
  &lt;sx:and&gt;
    &lt;sx:or&gt;
      &lt;sx:recordRestriction recordType="claim_detail"/&gt;  
      &lt;sx:recordRestriction recordType="expense_detail"/&gt;  
    &lt;/sx:or&gt;
    &lt;sx:fieldRestriction field="valid" match="y"/&gt;  
  &lt;/sx:and&gt;
&lt;/sx:restrictRecordFilter&gt; 
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e4746"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:restrictRecordFilter" title="sx:restrictRecordFilter">sx:restrictRecordFilter</a>
</li><li>
<a class="xref" href="#sx:and" title="sx:and">sx:and</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:parameterReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:parameterReader
   &#8212; Read parameters as record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a></b></p>
</p></div>
<a class="indexterm" name="d4e4759"></a>
<div class="refsection" lang="en"><a name="d4e4761"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the record type given to the parameters.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4784"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e4787"></a><h2>Description</h2>

<p>Reads a single record of parameter values.</p>
</div>
<div class="refsection" lang="en"><a name="d4e4790"></a><h2>Examples</h2>

<div class="example"><a name="d4e4792"></a><p class="title"><b>Example&nbsp;55.&nbsp;Updating a database record with passed parameter values.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="updateEmployee"&gt;
    &lt;sx:recordStream&gt;
      &lt;sx:parameterReader recordType="employee"/&gt;
      &lt;sx:sqlWriter&gt;
        &lt;sx:sqlConnectionPool ref="jdbcPool"/&gt;
        &lt;sx:sqlUpdate&gt;
          UPDATE EMP SET JOB = '{$job}' WHERE EMPNO='{$empNo}'
        &lt;/sx:sqlUpdate&gt;
      &lt;/sx:sqlWriter&gt;
    &lt;/sx:recordStream&gt;
  &lt;/sx:service&gt;
  
  &lt;sx:sqlConnectionPool id="jdbcPool"
                        driver="oracle.jdbc.driver.OracleDriver"
                        databaseUrl="jdbc:oracle:thin:@127.0.0.1:1521:dev"
                        user="scott"
                        password="spring"
                        minConnections="2"
                        testStatement="SELECT * FROM DUAL"/&gt;

&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:processRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:processRecord
   &#8212; Perform tasks on individual record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4801"></a>
<div class="refsection" lang="en"><a name="d4e4803"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Task records of this type.  Defaults to records of any type.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4826"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:task" title="sx:task">sx:task</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e4833"></a><h2>Description</h2>

<p>
A <code class="sgmltag-element">sx:processRecord</code> instruction processes the current record,
executing one or more tasks applied to the current record or its XML representation.
</p>
<p>
Note that any elements that may appear as children of <a class="xref" href="#sx:service" title="sx:service">sx:service</a> 
may also appear as child elements of <code class="sgmltag-element">sx:processSubtree</code>, the only difference being that for 
the subservice, the default XML content is the XML representation of the current record. 
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:processRecordFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:processRecordFilter
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a>
</p></div>
<a class="indexterm" name="d4e4845"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:processRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:processRecords
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>
</p></div>
<a class="indexterm" name="d4e4852"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:regexFieldCriteria"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:regexFieldCriteria
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a>
</p></div>
<a class="indexterm" name="d4e4859"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:quoteSymbol"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:quoteSymbol
   &#8212; Quote symbol
</p></div>
<a class="indexterm" name="d4e4865"></a>
<div class="refsection" lang="en"><a name="d4e4867"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left">Character</td><td align="left">Deprecated - replaced by <code class="sgmltag-attribute">character</code>  
  in 0.9.1.</td></tr><tr><td align="left">character</td><td align="left">No</td><td align="left">Character</td><td align="left">The character to optionally enclose field values.  Defaults to the double 
  quotation mark.</td></tr><tr><td align="left">escapedBy</td><td align="left">No</td><td align="left">Character</td><td align="left">Deprecated - replaced by <code class="sgmltag-attribute">escapeCharacter</code>  
  in 0.9.1.
</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">The escape character used to escape the quote symbol, e.g. the backslash ('\') or the quote symbol itself.
</td></tr><tr><td align="left">escapeWith</td><td align="left">No</td><td align="left">String</td><td align="left">Deprecated - replaced by <code class="sgmltag-attribute">escapeSequence</code>  
  in 0.9.1.
</td></tr><tr><td align="left">escapeSequence</td><td align="left">No</td><td align="left">String</td><td align="left">The character sequence used to replace the special character, e.g. '\"' 
  or '""' to escape a double quote.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4917"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e4920"></a><h2>Description</h2>

<p>
This instruction defines the quote character that is used to enclose field values, and the 
escape sequence used to escape quote characters in field values.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e4923"></a><h2>Examples</h2>

<div class="example"><a name="d4e4925"></a><p class="title"><b>Example&nbsp;56.&nbsp;A double quote character with a backslash escape character.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:quoteSymbol character='"' escapeCharacter="\"/&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e4928"></a><p class="title"><b>Example&nbsp;57.&nbsp;A single quote character escaped with """.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:quoteSymbol character="'" escapeSequence="&amp;quot;"/&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e4931"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a>
</li><li>
<a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>
</li><li>
<a class="xref" href="#sx:sqlQuery" title="sx:sqlQuery">sx:sqlQuery</a>
</li><li>
<a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordAggregator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordAggregator
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a>
</p></div>
<a class="indexterm" name="d4e4947"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordProjection"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordProjection
   &#8212; Project a subset of fields
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e4955"></a>
<div class="refsection" lang="en"><a name="d4e4957"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Produce a subset of fields for records of this type, or for all 
  records if no type specified.</td></tr><tr><td align="left">newRecordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The type of the new record.  Defaults to the type of the 
  input record.</td></tr><tr><td align="left">fields</td><td align="left">No</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of names of fields to be copied to the new record.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
Defaults to "*".
</td></tr><tr><td align="left">exceptFields</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">A space-separated list of names of fields <span class="emphasis"><em>not</em></span> to be copied to the new record.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. Defaults to the empty string.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e4999"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5005"></a><h2>Description</h2>

<p>
This instruction produces a new stream of records that contains all the records 
from the original stream but only a subset of the fields for records of the 
specified record type, eliminating duplicates in the vertically sliced records 
(if any.) 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5008"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:discard" title="sx:discard">sx:discard</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordFilter
   &#8212; Abstract element standing for a record filter
</p></div>
<a class="indexterm" name="d4e5017"></a>
<div class="refsection" lang="en"><a name="d4e5019"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5036"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5039"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any 
<code class="sgmltag-element">sx:recordFilter</code> specialization, such as <a class="xref" href="#sx:restrictRecordFilter" title="sx:restrictRecordFilter">sx:restrictRecordFilter</a>,
<a class="xref" href="#sx:discardHandler" title="sx:discardHandler">sx:discardHandler</a>, or <a class="xref" href="#msv:recordValidator" title="msv:recordValidator">msv:recordValidator</a>.  
Note that the list includes record readers.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5046"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5049"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:customRecordFilter" title="sx:customRecordFilter">sx:customRecordFilter</a>
</li><li>
<a class="xref" href="#msv:recordValidator" title="msv:recordValidator">msv:recordValidator</a>
</li><li>
<a class="xref" href="#sx:restrictRecordFilter" title="sx:restrictRecordFilter">sx:restrictRecordFilter</a>
</li><li>
<a class="xref" href="#sx:replaceRecord" title="sx:replaceRecord">sx:replaceRecord</a>
</li><li>
<a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a>
</li><li>
<a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>
</li><li>
<a class="xref" href="#sx:log" title="sx:log">sx:log</a>
</li><li>
<a class="xref" href="#sx:discardHandler" title="sx:discardHandler">sx:discardHandler</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordReader
   &#8212; Abstract element standing for a record reader
</p></div>
<a class="indexterm" name="d4e5072"></a>
<div class="refsection" lang="en"><a name="d4e5074"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5091"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5094"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any 
<code class="sgmltag-element">sx:recordReader</code> specialization, such as <a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a>
or <a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5100"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlReader" title="sx:sqlReader">sx:sqlReader</a>
</li><li>
<a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a>
</li><li>
<a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordRestriction"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordRestriction
   &#8212; Restriction on a record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a></b></p>
</p></div>
<a class="indexterm" name="d4e5115"></a>
<div class="refsection" lang="en"><a name="d4e5117"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the record type.</td></tr><tr><td align="left">test</td><td align="left">No</td><td align="left">XPath</td><td align="left">An XPath boolean expression evaluated against the XML representation of the record.</td></tr><tr><td align="left">negate</td><td align="left">No</td><td align="left">true/false</td><td align="left">Reverses the restriction.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5150"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5153"></a><h2>Description</h2>

<p>
This instruction allows records to be filtered by record type or, more generally, an XPath expression evaluated against the
XML representation of the record (in which case the record type is the root element.)  
Either the <code class="sgmltag-element">recordType</code> or the <code class="sgmltag-element">test</code> attribute, but not both, must be set.
</p>
  <p>The <code class="sgmltag-element">negate</code> attribute reverses the restriction.  By setting the <code class="sgmltag-element">negate</code> attribute to 
    <code class="code">true</code>, the restriction applies only if the records don't match 
    the condition.
  </p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordWriter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordWriter
   &#8212; Abstract element standing for a record writer
</p></div>
<a class="indexterm" name="d4e5166"></a>
<div class="refsection" lang="en"><a name="d4e5168"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a record writer.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5185"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5188"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of  
<code class="sgmltag-element">sx:recordWriter</code>, such as <a class="xref" href="#sx:flatFileWriter" title="sx:flatFileWriter">sx:flatFileWriter</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5193"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlWriter" title="sx:sqlWriter">sx:sqlWriter</a>
</li><li>
<a class="xref" href="#sx:flatFileWriter" title="sx:flatFileWriter">sx:flatFileWriter</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordStream"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordStream
   &#8212; A record stream
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a>, <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a>, <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a>, <a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e5210"></a>
<div class="refsection" lang="en"><a name="d4e5212"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5229"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a> and <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a> elements, followed by</li><li>Optionally, one  <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5239"></a><h2>Description</h2>

<p>
If you want to have additional record writers in a <code class="sgmltag-element">sx:recordStream</code> element, 
use one or more <a class="xref" href="#sx:recordTee" title="sx:recordTee">sx:recordTee</a> elements.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordTee"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordTee
   &#8212; Split record stream
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e5250"></a>
<div class="refsection" lang="en"><a name="d4e5252"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5269"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a> and <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a> elements, followed by</li><li>Optionally, one  <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5279"></a><h2>Description</h2>

<p>
This instruction allows a tee to be inserted in the record stream. 
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordTest"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordTest
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a>
</p></div>
<a class="indexterm" name="d4e5287"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordValidator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordValidator
   &#8212; Validate record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a>, <a class="xref" href="#sx:validator" title="sx:validator">sx:validator</a></b></p>
</p></div>
<a class="indexterm" name="d4e5296"></a>
<div class="refsection" lang="en"><a name="d4e5298"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Validate records of this type.</td></tr><tr><td align="left">message</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A message indicating the error if validation fails.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5327"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p></li><li><p>Any number of <a class="xref" href="#sx:validator" title="sx:validator">sx:validator</a> substitutable
                                elements, such as <a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a>,
                                <a class="xref" href="#sx:assert" title="sx:assert">sx:assert</a> or <a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a>, for 
                                validating the fields of the record.
          </p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5339"></a><h2>Description</h2>

<p>
This instruction supports validation of records.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5342"></a><h2>Examples</h2>

<div class="example"><a name="d4e5344"></a><p class="title"><b>Example&nbsp;58.&nbsp;Validating fields of a record with regular expressions</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordStream&gt;
  &lt;sx:flatFileReader&gt;
    &lt;sx:flatFile ref="fra-flat-file"/&gt;
  &lt;/sx:flatFileReader&gt;
  &lt;sx:recordValidator message="Error in trade {trade_id}."&gt;
    &lt;sx:fieldValidator field="buy_sell_code"
                      message="Invalid buy_sell_code {buy_sell_code}."&gt;
      &lt;sx:or&gt;
        &lt;sx:valueRestriction pattern="BUY"/&gt;
        &lt;sx:valueRestriction pattern="SELL"/&gt;
      &lt;/sx:or&gt;
    &lt;/sx:fieldValidator&gt;
    &lt;sx:fieldValidator field="start_date"
                       message="Invalid start_date {start_date}."&gt;
      &lt;sx:valueRestriction pattern="(19|20)\d\d[/](0[1-9]|1[012])[/](0[1-9]|[12][0-9]|3[01])"/&gt;
    &lt;/sx:fieldValidator&gt;
    &lt;sx:fieldValidator field="maturity_date"
                       message="Invalid maturity_date {maturity_date}."&gt;
      &lt;sx:valueRestriction pattern="(20|21)\d\d[/](0[1-9]|1[012])[/](0[1-9]|[12][0-9]|3[01])"/&gt;
    &lt;/sx:fieldValidator&gt;
  &lt;/sx:recordValidator&gt;
  &lt;sx:discardHandler&gt;
    &lt;sx:log message="{$sx:message}"/&gt;
    &lt;sx:modifyRecord&gt;
      &lt;sx:newField name="message" value="{$sx:message}"/&gt;
    &lt;/sx:modifyRecord&gt;
    &lt;sx:flatFileWriter&gt;
      &lt;sx:fileSink file="output/fra-error.csv"/&gt;
    &lt;/sx:flatFileWriter&gt;
  &lt;/sx:discardHandler&gt;
&lt;/sx:recordStream&gt;
</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e5347"></a><p class="title"><b>Example&nbsp;59.&nbsp;Validating fields of a record with XPATH boolean expressions</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordStream&gt;
  &lt;sx:flatFileReader&gt;
    &lt;sx:flatFile ref="fra-flat-file"/&gt;
  &lt;/sx:flatFileReader&gt;
  &lt;sx:recordValidator message="Error in trade {trade_id}."&gt;
    &lt;sx:assert test="buy_sell_code = 'BUY' or buy_sell_code = 'SELL'"&gt;
      Invalid buy_sell_code &lt;sx:toString value="{buy_sell_code}"/&gt;.
    &lt;/sx:assert&gt;
  &lt;/sx:recordValidator&gt;
  &lt;sx:discardHandler&gt;
    &lt;sx:log message="{$sx:message}"/&gt;
    &lt;sx:modifyRecord&gt;
      &lt;sx:newField name="message" value="{$sx:message}"/&gt;
    &lt;/sx:modifyRecord&gt;
    &lt;sx:flatFileWriter&gt;
      &lt;sx:fileSink file="output/fra-error.csv"/&gt;
    &lt;/sx:flatFileWriter&gt;
  &lt;/sx:discardHandler&gt;
&lt;/sx:recordStream&gt;
</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e5350"></a><p class="title"><b>Example&nbsp;60.&nbsp;Validating a record with an XML schema</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:recordStream&gt;
  &lt;sx:flatFileReader&gt;
    &lt;sx:flatFile ref="countriesFile"/&gt;
  &lt;/sx:flatFileReader&gt;
  &lt;sx:recordValidator&gt;
    &lt;msv:schemaValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:schemaValidator&gt;
  &lt;/sx:recordValidator&gt;
  &lt;sx:discardHandler&gt;
    &lt;sx:log message="{$sx:message}"/&gt;
  &lt;/sx:discardHandler&gt;
&lt;/sx:recordStream&gt;
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e5353"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a>
</li><li>
<a class="xref" href="#sx:assert" title="sx:assert">sx:assert</a>
</li><li>
<a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:replaceRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:replaceRecord
   &#8212; Replace record with one or more other records
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e5368"></a>
<div class="refsection" lang="en"><a name="d4e5370"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Apply changes to records of this type.  Defaults to records of any type.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5393"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:newRecord" title="sx:newRecord">sx:newRecord</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5400"></a><h2>Description</h2>

<p>
This instruction allows records to be changed in a record stream. 
</p>
</div>
<div class="example"><a name="d4e5403"></a><p class="title"><b>Example&nbsp;61.&nbsp;Splitting a record into multiple records.</b></p><div class="example-contents">

  <p>This example shows how to split a single record containing both customer
    and order information into separate customer and order records.
  </p>
<pre class="programlisting">

  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:flatFile&gt;
        &lt;sx:flatFileBody&gt;
          &lt;sx:flatRecordType name="order"&gt;
            &lt;sx:positionalField name="customer-name" width="20"/&gt;
            &lt;sx:positionalField name="customer-id" width="10"/&gt;
            &lt;sx:positionalField name="order-id" width="10"/&gt;
            &lt;sx:positionalField name="op-code" width="7"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:flatFileBody&gt;
      &lt;/sx:flatFile&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;sx:replaceRecord recordType="order"&gt; 
      &lt;sx:newRecord recordType="customer" fields="customer-name customer-id"/&gt;
      &lt;sx:newRecord recordType="order" fields="order-id op-code"/&gt;
    &lt;/sx:replaceRecord&gt; 

    ...

  &lt;/sx:recordStream&gt;

</pre>
</div></div><br class="example-break">
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:replaceRecordFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:replaceRecordFilter
   &#8212; Deprecated in version 1.0.2, replaced by <a class="xref" href="#sx:replaceRecord" title="sx:replaceRecord">sx:replaceRecord</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e5414"></a>
<div class="refsection" lang="en"><a name="d4e5416"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Apply changes to records of this type.  Defaults to records of any type.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5439"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:newRecord" title="sx:newRecord">sx:newRecord</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5446"></a><h2>Description</h2>

<p>
This instruction allows records to be changed in a record stream. 
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:restrictRecordType"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:restrictRecordType
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a>
</p></div>
<a class="indexterm" name="d4e5454"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:restriction"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:restriction
   &#8212; Abstract element standing for a restriction
</p></div>
<a class="indexterm" name="d4e5460"></a>
<div class="refsection" lang="en"><a name="d4e5462"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5479"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5482"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of
<code class="sgmltag-element">sx:recordFilter</code>, such as <a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5487"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5490"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a>
</li><li>
<a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:restrictField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:restrictField
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a>
</p></div>
<a class="indexterm" name="d4e5502"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:restrictRecordFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:restrictRecordFilter
   &#8212; Restrict records
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e5510"></a>
<div class="refsection" lang="en"><a name="d4e5512"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">operator</td><td align="left">No</td><td align="left">and/or</td><td align="left">Deprecated.  As of version 0.6.2, replaced by <a class="xref" href="#sx:or" title="sx:or">sx:or</a> and <a class="xref" href="#sx:and" title="sx:and">sx:and</a> child elements.  
<p>The boolean operator to apply to the <a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a> child elements, "and" or "or".  Defaults to "or".</p>
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5538"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p></li><li><p>Any number of specializations of the abstract element <a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a>, 
in particular, any number of <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a> and <a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a>  elements.</p></li><li><p>Optionally, an <a class="xref" href="#sx:unmatchedRecord" title="sx:unmatchedRecord">sx:unmatchedRecord</a> element, containing
a record pipeline that will be executed if the record does not match the restrictions.  This record pipeline may
contain any number of <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a> and <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a> elements,
and in particular may end with an <a class="xref" href="#sx:discard" title="sx:discard">sx:discard</a> element if you wish to discard an unmatched record.
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5555"></a><h2>Description</h2>

<p>
This instruction allows records to be filtered by applying a regular expression to the value of a field. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5558"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:discard" title="sx:discard">sx:discard</a>
</li></ul></div>
</div>
  <div class="refsection" lang="en"><a name="d4e5563"></a>
<div class="refentry" lang="en"><a name="sx:unmatchedRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:unmatchedRecord
   &#8212; A record stream
</p></div>
<a class="indexterm" name="d4e5568"></a>
<div class="refsection" lang="en"><a name="d4e5570"></a><h3>Attributes</h3>

  <p>
    None
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e5573"></a><h3>Content</h3>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a> and <a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a> elements, followed by</li><li>Optionally, one  <a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5583"></a><h3>Description</h3>

<p>
Handles unmatched records.
</p>
</div>
</div>
  </div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:restrictRecordType"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:restrictRecordType
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a>
</p></div>
<a class="indexterm" name="d4e5591"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:splitRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:splitRecord
   &#8212; Decompose a composite record into its constituent subrecords
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e5599"></a>
<div class="refsection" lang="en"><a name="d4e5601"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Decompose records of this type.
</td></tr><tr><td align="left">repeatingGroup</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Decompose records of the specified type on this repeating group field.
</td></tr><tr><td align="left">subrecordType</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The type of the decomposed records.  Defaults to the record type of the 
  subrecords in the repeating group.
</td></tr><tr><td align="left">compositeRecordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Deprecated in version 0.9.5 - replaced by recordType attribute.</td></tr><tr><td align="left">repeatingGroupField</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Deprecated in version 0.9.5 - replaced by repeatingGroup attribute.
</td></tr><tr><td align="left">ofRecordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Deprecated - use <code class="sgmltag-attribute">recordType</code> 
                          instead.
</td></tr><tr><td align="left">onField</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Deprecated - use <code class="sgmltag-attribute">repeatingGroup</code> 
                          instead.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5662"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5668"></a><h2>Description</h2>

<p>
This instruction allows you to decompose a composite record into multiple 
records, one for each record in a repeating group.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5671"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:directoryReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:directoryReader
   &#8212; Read a directory
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a></b></p>
</p></div>
<a class="indexterm" name="d4e5682"></a>
<div class="refsection" lang="en"><a name="d4e5684"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recurse</td><td align="left">No</td><td align="left">true|false</td><td align="left">Set to "true" to recurse through a directory tree, "false" otherwise.  Defaults to "false."
(For backwards compatability, yes/no is also supported.)</td></tr><tr><td align="left">maxItems</td><td align="left">No</td><td align="left">Number</td><td align="left">The maximum number of directory items to read.</td></tr><tr><td align="left">directory</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The root directory.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5717"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
    Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
  </p>
</li><li><p>
    Optionally, a <a class="xref" href="#sx:fileFilter" title="sx:fileFilter">sx:fileFilter</a> element.
  </p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5726"></a><h2>Description</h2>

<p>
Each record will have type  
</p><div class="itemizedlist"><ul type="disc"><li>directory - if the entry is a directory</li><li>file - if the entry is a file.</li></ul></div><p>
</p>
<p>
Each record will contain the following fields:
</p><div class="itemizedlist"><ul type="disc"><li><span>parentDir - the parent directory, if any (deprecated, use 
            parentDirectory instead)</span></li><li><span>parentDirectory - the parent directory, if any 
            </span></li><li>pathname - the pathname of the file or directory.</li><li>name - the name of the file or directory.</li><li>lastModified -  the time the file was last modified,
with a lexical representation as defined for <a class="ulink" href="http://www.w3.org/TR/xmlschema-2/#dateTime" target="_top">xs:dateTime</a> of
<a class="ulink" href="http://www.w3.org/TR/xmlschema-2/" target="_top">XML Schema Part 2: Datatypes</a>.
</li><li>size - the file size, in bytes</li></ul></div><p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:subtreeRecordReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:subtreeRecordReader
   &#8212; Read subtrees of XML document as records
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a></b></p>
</p></div>
<a class="indexterm" name="d4e5750"></a>
<div class="refsection" lang="en"><a name="d4e5752"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5769"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Optionally, a <a class="xref" href="#sx:content" title="sx:content">sx:content</a> specialization, such as a <a class="xref" href="#sx:document" title="sx:document">sx:document</a>, <a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> 
or <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> element.  If omitted, defaults to the default stream of SAX events.
</li><li>An <a class="xref" href="#sx:inverseRecordMapping" title="sx:inverseRecordMapping">sx:inverseRecordMapping</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5781"></a><h2>Description</h2>

<p>Adapts XML to a record stream.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5784"></a><h2>Examples</h2>

<div class="example"><a name="d4e5786"></a><p class="title"><b>Example&nbsp;62.&nbsp;Adapting the "books" XML file to a record stream.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
                        xmlns:myns="http://mycompany.com/mynames/"&gt;
   
  &lt;sx:service id="books2pos"&gt; 
    &lt;sx:recordStream&gt;
      &lt;sx:subtreeRecordReader&gt;
        &lt;sx:inverseRecordMapping ref="booksToFileMapping"/&gt;
        &lt;sx:transform&gt;
          &lt;sx:document&gt;&lt;sx:urlSource url="data/books.xml"/&gt;&lt;/document&gt;
        &lt;/sx:transform&gt;
      &lt;/sx:subtreeRecordReader&gt;
      &lt;sx:flatFileWriter&gt;
        &lt;sx:flatFile ref="booksFile"/&gt;
      &lt;/sx:flatFileWriter&gt;
    &lt;/sx:recordStream&gt;
  &lt;/sx:service&gt;

  &lt;sx:inverseRecordMapping id="booksToFileMapping"&gt;
    &lt;sx:onSubtree path="/myns:books/myns:book"&gt;
      &lt;sx:flattenSubtree recordType="book"&gt;
        &lt;sx:subtreeFieldMap select="myns:title" field="title"/&gt;
        &lt;sx:subtreeFieldMap select="@categoryCode" field="category"/&gt;
        &lt;sx:subtreeFieldMap select="myns:author" field="author"/&gt;
        &lt;sx:subtreeFieldMap select="myns:price" field="price"/&gt;
      &lt;/sx:flattenSubtree&gt;
    &lt;/sx:onSubtree&gt;
  &lt;/sx:inverseRecordMapping&gt;

  &lt;sx:flatFile id="booksFile"&gt;
    &lt;sx:flatFileHeader&gt;
      &lt;sx:flatRecordType ref="bookType"/&gt;
      &lt;sx:annotationRecord/&gt;
    &lt;/sx:flatFileHeader&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType ref="bookType"/&gt;
    &lt;/sx:flatFileBody&gt;
    &lt;sx:flatFileTrailer&gt;
      &lt;sx:annotationRecord&gt;&lt;/sx:annotationRecord&gt;
      &lt;sx:annotationRecord&gt;This is a trailer record&lt;/sx:annotationRecord&gt;
    &lt;/sx:flatFileTrailer&gt;
  &lt;/sx:flatFile&gt;      

  &lt;sx:flatRecordType id="bookType" name="bookType"&gt;
    &lt;sx:positionalField name="category" label="Category" width="1"/&gt;
    &lt;sx:positionalField name="author" label="Author" width="30"/&gt;
    &lt;sx:positionalField name="title" label="Title" width="30"/&gt;
    &lt;sx:positionalField name="price" label="Price" width="10" justify="right"/&gt;
  &lt;/sx:flatRecordType&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:validateField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:validateField
   &#8212; Deprecated in version 1.0, replaced by <a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a>
</p></div>
<a class="indexterm" name="d4e5794"></a>
<div class="refsection" lang="en"><a name="d4e5796"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">fieldName</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field to validate.</td></tr><tr><td align="left">message</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A message indicating the error if validation fails.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5825"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Any number of <a class="xref" href="#sx:valueRestriction" title="sx:valueRestriction">sx:valueRestriction</a> 
                                elements.</p></li><li><p>Any number of <a class="xref" href="#sx:validateRecord" title="sx:validateRecord">sx:validateRecord</a> 
                                elements (for validating 
                                subrecords)</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5834"></a><h2>Description</h2>

<p>
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e5837"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:validateRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:validateRecord
   &#8212; Deprecated in version 1.0, replaced by <a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>
</p></div>
<a class="indexterm" name="d4e5847"></a>
<div class="refsection" lang="en"><a name="d4e5849"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Validate records of this type.</td></tr><tr><td align="left">message</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A message indicating the error if validation fails.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5878"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Any number of <a class="xref" href="#sx:validateField" title="sx:validateField">sx:validateField</a> elements.</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e5884"></a><h2>Description</h2>

<p>
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e5887"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:valueRestriction"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:valueRestriction
   &#8212; Restrict value
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:restriction" title="sx:restriction">sx:restriction</a></b></p>
</p></div>
<a class="indexterm" name="d4e5898"></a>
<div class="refsection" lang="en"><a name="d4e5900"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">pattern</td><td align="left">Yes</td><td align="left"><a class="xref" href="#Regex" title="Regex">Regex</a></td><td align="left">The regular expression to be tested against the value of the field.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e5923"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e5926"></a><h2>Description</h2>

<p>
This instruction allows a field value to be tested with a regular expression.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e5929"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:writeRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:writeRecords
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a>
</p></div>
<a class="indexterm" name="d4e5939"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:xmlRecordReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:xmlRecordReader
   &#8212; Deprecated in version 1.0, replaced by <a class="xref" href="#sx:subtreeRecordReader" title="sx:subtreeRecordReader">sx:subtreeRecordReader</a>
</p></div>
<a class="indexterm" name="d4e5946"></a>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-recordmapping"></a>Record Mapping Elements</h1></div></div><hr></div>


<div class="refentry" lang="en"><a name="record-mapping-grouping-element"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  Grouping Element
   &#8212; Grouping Element
</p></div>
  <div class="refsection" lang="en"><a name="d4e5954"></a>
<p>
A <code class="code">grouping element</code> is an element that has the effect of grouping records.  
Any <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> element that contains one or more descendent <a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a> elements
is a <code class="code">grouping element</code>.  These include:
</p><div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:groupBy" title="sx:groupBy">sx:groupBy</a>, <a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a>, <a class="xref" href="#sx:outerGroup" title="sx:outerGroup">sx:outerGroup</a> and <a class="xref" href="#sx:groupChoice" title="sx:groupChoice">sx:groupChoice</a>.
</li><li>
Any <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> element whose content has descendent <a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a> elements.
</li><li>
Any <a class="xref" href="#sx:elementMap" title="sx:elementMap">sx:elementMap</a> element whose content has descendent <a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a> elements.
</li></ul></div><p>
</p>
<p>
Consider the following record mapping:
</p><pre class="programlisting">

  &lt;sx:recordMapping id="tasksToXmlMapping"&gt;
    &lt;Projects&gt;
      &lt;sx:groupBy fields="project_id"&gt;
        &lt;Project&gt;
          &lt;sx:fieldAttributeMap field="project_id" attribute="projectID"/&gt;
          &lt;Tasks&gt;
            &lt;sx:onRecord&gt;
              &lt;Task&gt;
                &lt;sx:fieldAttributeMap field="task_name" attribute="name"/&gt;
                &lt;sx:fieldAttributeMap field="task_start" attribute="start"/&gt;
                &lt;sx:fieldAttributeMap field="task_finish" attribute="finish"/&gt;
              &lt;/Task&gt;
            &lt;/sx:onRecord&gt;
          &lt;/Tasks&gt;
        &lt;/Project&gt;
      &lt;/sx:groupBy&gt;
    &lt;/Projects&gt;
  &lt;/sx:recordMapping&gt;

</pre><p>
</p>
<p>
The body of this record mapping has a root <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> element, <code class="code">Projects</code>, which is a  <code class="code">grouping element</code>
because it has a descendent <a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a> element.  The <a class="xref" href="#sx:groupBy" title="sx:groupBy">sx:groupBy</a> element, and the <code class="code">Project</code>
and <code class="code">Task</code> <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements, are also grouping elements.
</p>
<p>
A <code class="sgmltag-element">sx:groupChoice</code> element processes each child element until it reaches a 
<a class="xref" href="#record-mapping-grouping-element" title="Grouping Element">grouping</a> element 
that produces a start element but not yet an end element.  At that point it stops processing its children.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="record-mapping-literal-element"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  Literal Element
   &#8212; Literal Element
</p></div>
  <div class="refsection" lang="en"><a name="d4e5990"></a>
<p>
A <code class="code">literal element</code> is any element appearing in the content of a <a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a> refsection
that does not belong to the <code class="code">ServingXML</code> vocabulary.  Such elements will be mapped directly to XML.
A <code class="code">literal element</code> may contain other <code class="code">literal elements</code> in its content, and in
addition it may contain other mapping elements:
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a> elements.
</li><li>
Optionally, any number of <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> elements.
</li><li>
Any number of literal elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.           
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
  </div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:cdata"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:cdata
   &#8212; CDATA output
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6012"></a>
<div class="refsection" lang="en"><a name="d4e6014"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6031"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
<p> Optionally, any combination of string literals and inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li><li><p>
  Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.           
  </p>
</li><li><p>
  Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
  </p>
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6045"></a><h2>Description</h2>

<p>The content of a <code class="sgmltag-element">sx:cdata</code> element will be enclosed by a CDATA refsection, 
</p>
<pre class="programlisting">
&lt;![CDATA[  ...
  ]]&gt;
</pre>
</div>
<div class="refsection" lang="en"><a name="d4e6050"></a><h2>Remarks</h2>

<div class="itemizedlist"><ul type="disc"><li><p>The <code class="sgmltag-element">sx:cdata</code> element does not seem to work properly with saxon 6.5.5 or saxonb 8.6.1.  It has been tested successively with
xalan 2.7.0.
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e6056"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:defaultFieldAttributeMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:defaultFieldAttributeMap
   &#8212; Default field attribute map
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6069"></a>
<div class="refsection" lang="en"><a name="d4e6071"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">fields</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of names of fields.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
</td></tr><tr><td align="left">exceptFields</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">A space-separated list of names of fields.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
 Defaults to the empty string.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6100"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6106"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a>
</li></ul></div>
</div>
</div> 

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:defaultFieldElementMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:defaultFieldElementMap
   &#8212; Default field element map
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6117"></a>
<div class="refsection" lang="en"><a name="d4e6119"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">fields</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of names of fields.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
</td></tr><tr><td align="left">except</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">Deprecated, use <code class="sgmltag-attribute">exceptFields</code>                    
  instead.</td></tr><tr><td align="left">exceptFields</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">A space-separated list of names of fields.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
 Defaults to the empty string.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6155"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6161"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:defaultFieldAttributeMap" title="sx:defaultFieldAttributeMap">sx:defaultFieldAttributeMap</a>
</li></ul></div>
</div>
</div> 

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:defaultFieldMapping"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:defaultFieldMapping
   &#8212; Deprecated in version 1.0, aliased to <a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6173"></a>
<div class="refsection" lang="en"><a name="d4e6175"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">fields</td><td align="left">Yes</td><td align="left"><a class="xref" href="#NameTest" title="NameTest">NameTest</a> list</td><td align="left">A space-separated list of names of fields.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
</td></tr><tr><td align="left">except</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">Deprecated, use <code class="sgmltag-attribute">exceptFields</code>                    
  instead.</td></tr><tr><td align="left">exceptFields</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a> list</td><td align="left">A space-separated list of names of fields.  The value '*' means "all fields."
A namespace prefix followed by a colon followed by the value '*' means all fields belonging to the namespace. 
 Defaults to the empty string.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6211"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6217"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:defaultFieldAttributeMap" title="sx:defaultFieldAttributeMap">sx:defaultFieldAttributeMap</a>
</li></ul></div>
</div>
</div> 
  
<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:documentFragment"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:documentFragment
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6229"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:elementMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:elementMap
   &#8212; Element map
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6237"></a>
<div class="refsection" lang="en"><a name="d4e6239"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">element</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">
The name of an element to insert into the output XML content. The element name may
contain a field name within curly braces, which will
evaluate to the value of the named field.  The result must evaluate to a 
<a class="xref" href="#QName" title="QName">QName</a>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6263"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
<p>Optionally, any combination of string literals and inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li><li><p>
  Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.
  </p>
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6276"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fieldAttributeMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fieldAttributeMap
   &#8212; Map field to attribute
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6289"></a>
<div class="refsection" lang="en"><a name="d4e6291"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">attribute</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">
The name of an attribute to insert into a parent element. The attribute name may
contain a field name within curly braces, which will
evaluate to the value of the field.  The result must evaluate to a <a class="xref" href="#QName" title="QName">QName</a>.
</td></tr><tr><td align="left">field</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Map this field's value to the attribute value.</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">Apply an XPath expression to the elements in the XML representation of a record that satisfy the conditon of the <code class="sgmltag-element">match</code> pattern.
The expression is evaluated as a string.
</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Express the attribute value as a literal value, which may contain 
parameter names and field names enclosed in curly braces.
The result must evaluate to a <a class="xref" href="#QName" title="QName">QName</a>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6334"></a><h2>Content</h2>

<p>Optionally, if there is no <code class="sgmltag-element">field</code>, 
                                   <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6341"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fieldElementMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fieldElementMap
   &#8212; Map field to element
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6354"></a>
<div class="refsection" lang="en"><a name="d4e6356"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">element</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">
The name of an element to insert into the output XML content. The element name may
contain a field name within curly braces, which will
evaluate to the value of the named field.  The result must evaluate to a 
<a class="xref" href="#QName" title="QName">QName</a>.
</td></tr><tr><td align="left">match</td><td align="left">No</td><td align="left">XSLT pattern</td><td align="left">Define a condition that an element in the XML representation of a record must satisfy in order to be selected by an XPath expression.
Defaults to "/*"</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">Apply an XPath expression to the collection of elements in the XML representation of a record that satisfy the conditon of the <code class="sgmltag-element">match</code> pattern.
The expression is evaluated as a string.
</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Express the element value as a literal value, which may contain 
parameter names and field names enclosed in curly braces.</td></tr><tr><td align="left">field</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Map this field's value to the element value.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6403"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Optionally, any number of <a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a> elements.
  </p>
</li><li>
<p>Optionally, if there is no <code class="sgmltag-element">field</code>, 
                                   <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p>
</li><li>
  <p>
  Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
  </p>
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6419"></a><h2>Description</h2>

<p>This element maps a field value to a single element in the output.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6422"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:fieldElementSequenceMap" title="sx:fieldElementSequenceMap">sx:fieldElementSequenceMap</a>
</li><li>
<a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fieldElementSequenceMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fieldElementSequenceMap
   &#8212; Map field to element sequence
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6435"></a>
<div class="refsection" lang="en"><a name="d4e6437"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">element</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">
The name of an element to insert into the output XML content. The element name may
contain a field name within curly braces, which will
evaluate to the value of the named field.  The result must evaluate to a 
<a class="xref" href="#QName" title="QName">QName</a>.
</td></tr><tr><td align="left">match</td><td align="left">No</td><td align="left">XSLT pattern</td><td align="left">Define a condition that an element in the XML representation of a record must satisfy in order to be selected by an XPath expression.
Defaults to "/*"</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">Apply an XPath expression to the collection of elements in the XML representation of a record that satisfy the conditon of the <code class="sgmltag-element">match</code> pattern.
The expression is evaluated as a string.
</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Express the element value as a literal value, which may contain 
parameter names and field names enclosed in curly braces.</td></tr><tr><td align="left">field</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Map this field's value to the element value.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6484"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><p>Optionally, if there is no <code class="sgmltag-element">field</code>, 
                                   <code class="sgmltag-element">value</code> or 
  <code class="sgmltag-element">select</code> attribute, any combination of string literals and 
  inlined <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> 
  substitutable elements.  The string expressions will be evaluated in place, 
  forming one string. Leading and trailing whitespace will be trimmed.
</p><ul type="disc"><li><p>
  Optionally, any number of <a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a> elements.
  </p>
</li><li><p>
  Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
  </p>
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6499"></a><h2>Description</h2>

<p>This element maps a multi-valued field to a sequence of elements.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6502"></a><h2>Examples</h2>

<p>
</p>
<div class="example"><a name="d4e6505"></a><p class="title"><b>Example&nbsp;63.&nbsp;Mapping a multi-valued field to a sequence of elements</b></p><div class="example-contents">
  
<p>
The pipe delimited file below contains three fields, the third of which is multi-valued, 
with subfields delimited by a semi-colon.
</p>
<pre class="programlisting">

father_name|mother_name|children
Matthew|Sarah|
Scott||Damian;Janet;Paul

</pre>
<p>Suppose you want to map it as follows.
</p>
<pre class="programlisting">

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;eg:families xmlns:eg="http://examples.com/"&gt;
  &lt;eg:family&gt;
    &lt;eg:father-name&gt;Matthew&lt;/eg:father-name&gt;
    &lt;eg:mother-name&gt;Sarah&lt;/eg:mother-name&gt;
    &lt;eg:children/&gt;
  &lt;/eg:family&gt;
  &lt;eg:family&gt;
    &lt;eg:father-name&gt;Scott&lt;/eg:father-name&gt;
    &lt;eg:mother-name/&gt;
    &lt;eg:children&gt;
      &lt;eg:child&gt;Damian&lt;/eg:child&gt;
      &lt;eg:child&gt;Janet&lt;/eg:child&gt;
      &lt;eg:child&gt;Paul&lt;/eg:child&gt;
    &lt;/eg:children&gt;
  &lt;/eg:family&gt;
&lt;/eg:families&gt;

</pre>
<p>
The record mapping refsection below produces the desired output.
</p>
<pre class="programlisting">

  &lt;sx:recordMapping id="families-to-xml-mapping"&gt;
    &lt;eg:families xmlns:eg="http://examples.com/"&gt;
      &lt;sx:onRecord&gt;
        &lt;eg:family&gt;
          &lt;sx:fieldElementMap field="father_name" element="eg:father-name"/&gt;
          &lt;sx:fieldElementMap field="mother_name" element="eg:mother-name"/&gt;
          &lt;eg:children&gt;
            &lt;sx:fieldElementSequenceMap field="children" element="eg:child"/&gt;
          &lt;/eg:children&gt;
        &lt;/eg:family&gt;
      &lt;/sx:onRecord&gt;
    &lt;/eg:families&gt;
  &lt;/sx:recordMapping&gt;

</pre>
</div></div><br class="example-break">

</div>
<div class="refsection" lang="en"><a name="d4e6513"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:groupBy"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:groupBy
   &#8212; Group by fields
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6524"></a>
<div class="refsection" lang="en"><a name="d4e6526"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Group applies to fields of this record type.</td></tr><tr><td align="left">fields</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">A space separated list of fields to group by.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6555"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Any number of specializations of <a class="xref" href="#sx:sort" title="sx:sort">sx:sort</a>, including <a class="xref" href="#sx:reorderRecords" title="sx:reorderRecords">sx:reorderRecords</a>.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6567"></a><h2>Examples</h2>

<div class="example"><a name="d4e6569"></a><p class="title"><b>Example&nbsp;64.&nbsp;Multiple groups</b></p><div class="example-contents">
  
  <p>This example shows how to group the rows in a flat file into two 
    distinct groupings.  The table below shows a list of person data and 
    addresses.
  </p>
<pre class="programlisting">

PersonId Name       FirstName       Street              Postcode    CityTown
1        Jones      Joe             215 Walmer Rd       M5R3P7      Toronto
1        Jones      Joe             180 Redwood ST      94102-3280  San Francisco
2        Davis      Ken             212 Harbord St      M5S1H6      Toronto
3        Morris     Jane            1100 Danforth Ave   M4J1N2      Toronto
3        Morris     Jane            6 Green St          94111-1402  San Francisco

</pre>
  <p>Now suppose you want to group the person data and addresses separately.
  </p>
<pre class="programlisting">

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;Persons-Addresses&gt;
  &lt;Persons&gt;
    &lt;Person&gt;
      &lt;PersonId&gt;1&lt;/PersonId&gt;
      &lt;Name&gt;Jones&lt;/Name&gt;
      &lt;FirstName&gt;Joe&lt;/FirstName&gt;
    &lt;/Person&gt;
    &lt;Person ...
    &lt;Person ...
  &lt;/Persons&gt;
  &lt;Addresses&gt;
    &lt;Address&gt;
      &lt;PersonId&gt;1&lt;/PersonId&gt;
      &lt;Street&gt;215 Walmer Rd&lt;/Street&gt;
      &lt;PostCode&gt;M5R3P7&lt;/PostCode&gt;
      &lt;CityTown&gt;Toronto&lt;/CityTown&gt;
    &lt;/Address&gt;
    &lt;Address ...
    &lt;Address ...
    &lt;Address ...
    &lt;Address ...
  &lt;/Addresses&gt;
&lt;/Persons-Addresses&gt;

</pre>
<p>This can be done with a record mapping refsection with two                                                               
  <code class="sgmltag-element">sx:groupBy</code> sections. The implementation will
  buffer the records in memory until the first group is finished, and only then 
  do the second.
</p>
<pre class="programlisting">

  &lt;sx:recordMapping id="personsAddressesMapping"&gt;
    &lt;Persons-Addresses&gt;
      &lt;Persons&gt;
        &lt;sx:groupBy fields="PersonId"&gt;
          &lt;Person&gt;
            &lt;sx:fieldElementMap field="PersonId" element="PersonId"/&gt;
            &lt;sx:fieldElementMap field="Name" element="Name"/&gt;
            &lt;sx:fieldElementMap field="FirstName" element="FirstName"/&gt;
            &lt;sx:onRecord/&gt;
          &lt;/Person&gt;
        &lt;/sx:groupBy&gt;
      &lt;/Persons&gt;
      &lt;Addresses&gt;
        &lt;sx:onRecord&gt;
          &lt;Address&gt;
            &lt;sx:fieldElementMap field="PersonId" element="PersonId"/&gt;
            &lt;sx:fieldElementMap field="Street" element="Street"/&gt;
            &lt;sx:fieldElementMap field="PostCode" element="PostCode"/&gt;
            &lt;sx:fieldElementMap field="CityTown" element="CityTown"/&gt;
          &lt;/Address&gt;
        &lt;/sx:onRecord&gt;
      &lt;/Addresses&gt;
    &lt;/Persons-Addresses&gt;
  &lt;/sx:recordMapping&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e6578"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:groupChoice"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:groupChoice
   &#8212; Choose one of another of alternative groupings
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6593"></a>
<div class="refsection" lang="en"><a name="d4e6595"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6612"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6621"></a><h2>Description</h2>

<p>
A <code class="sgmltag-element">sx:groupChoice</code> element can have any number of child <a class="xref" href="#record-mapping-grouping-element" title="Grouping Element">grouping</a> elements.  
A <code class="sgmltag-element">sx:groupChoice</code> element 
processes each child element until it reaches a <a class="xref" href="#record-mapping-grouping-element" title="Grouping Element">grouping</a> element 
that produces a "start" element but not yet an "end" element.  At that point it stops processing its children.
</p>
<p>
Consider the following fragment of a record mapping (from the "hot" example):
</p><pre class="programlisting">

  &lt;sx:groupChoice&gt;
    &lt;sx:innerGroup startTest="sx:current//record-type='BKT06'"
                               endTest="sx:previous//record-type='BKP84'"&gt;
      &lt;sx:elementMap element="{type}"&gt;
        &lt;sx:onRecord recordType="bkt06"&gt;
          &lt;sx:elementMap element="{record-type}"&gt;
            &lt;sx:fieldAttributeMap field="value" attribute="attr1"/&gt;
          &lt;/sx:elementMap&gt;
        &lt;/sx:onRecord&gt;
        &lt;sx:onRecord recordType="bkp84"&gt;
          &lt;sx:elementMap element="{record-type}"&gt;
            &lt;sx:fieldAttributeMap field="value" attribute="attr1"/&gt;
            &lt;sx:fieldAttributeMap select="integer:valueOf(amount,16) div math:pow(10,precision)"  attribute="amount"/&gt;
            &lt;sx:fieldAttributeMap field="currency" attribute="currency"/&gt;
          &lt;/sx:elementMap&gt;
        &lt;/sx:onRecord&gt;
      &lt;/sx:elementMap&gt;
    &lt;/sx:innerGroup&gt;
    &lt;sx:innerGroup startTest="sx:current//record-type-prefix='BOT'" 
                               endTest="sx:previous//record-type-prefix='BOT'"&gt;
      &lt;sx:elementMap element="{record-type}s"&gt;
        &lt;sx:onRecord&gt;
          &lt;sx:elementMap element="{record-type}"&gt;
            &lt;sx:fieldAttributeMap field="value" attribute="attr1"/&gt;
          &lt;/sx:elementMap&gt;
        &lt;/sx:onRecord&gt;
      &lt;/sx:elementMap&gt;
    &lt;/sx:innerGroup&gt;
  &lt;/sx:groupChoice&gt;

</pre><p>
</p>
<p>
The <a class="xref" href="#sx:groupChoice" title="sx:groupChoice">sx:groupChoice</a> element in this example contains two <a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a> child grouping elements.
These elements contain tests that indicate when the group should start (with the output of a "start" element) and when it should end (with the
output of an "end" element.)   If the first group has started but not yet ended, the second group will not be processed (if it were, the XML
tags would be scrambled and the result illegal.).  
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:innerGroup"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:innerGroup
   &#8212; Output inner grouping elements
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6639"></a>
<div class="refsection" lang="en"><a name="d4e6641"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6670"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.
</li><li>
Any number of specializations of <a class="xref" href="#sx:sort" title="sx:sort">sx:sort</a>, including <a class="xref" href="#sx:reorderRecords" title="sx:reorderRecords">sx:reorderRecords</a>.
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6682"></a><h2>Description</h2>

  <p>
Grouping begins when processing a record and the <code class="sgmltag-element">startTest</code> 
expression evaluates as <code class="code">true</code>.  Grouping ends on a succeeding record when the
<code class="sgmltag-element">endTest</code> expression evaluates as 
<code class="code">true</code>, or when a parent group to which this group belongs ends.  The test
for the end of a group is exclusive, that is, if <code class="sgmltag-element">endTest</code>
evaluates as <code class="code">true</code> when processing a record,
    that record is 
excluded from the group.
  </p>
  <p>
    The test expressions are XPATH expressions evaluated against the XML 
    representations of the current (sx:current) and previous (sx:previous) 
    records.
  </p>

</div>
<div class="refsection" lang="en"><a name="d4e6692"></a><h2>Examples</h2>

<div class="example"><a name="d4e6694"></a><p class="title"><b>Example&nbsp;65.&nbsp;Multiple record types to single XML element</b></p><div class="example-contents">
  
<p>
This example shows how to map map multiple record types into a single XML element.
</p>
<p>
The input file contains records of type <code class="code">A</code> (owners) and <code class="code">K</code> (vehicles).
</p>
<pre class="programlisting">

ABill Smith 123 Main St  New York      NY10101 
K2001Ford Explorer  5000.00 
AKen  Jones 75 Apple Way San Francisco CA94509 
K2005BMW  750 Il   67235.00 

</pre>
<p>The expected output is as follows.
</p>
<pre class="programlisting">

&lt;cases&gt;
  &lt;case&gt;
    &lt;first-name&gt;Bill&lt;/first-name&gt;
    &lt;last-name&gt;Smith&lt;/last-name&gt;
    &lt;address&gt;123 Main St&lt;/address&gt;
    &lt;city&gt;New York&lt;/city&gt;
    &lt;state&gt;NY&lt;/state&gt;
    &lt;zip&gt;10101&lt;/zip&gt;
    &lt;year&gt;2001&lt;/year&gt;
    &lt;make&gt;Ford&lt;/make&gt;
    &lt;model&gt;Explorer&lt;/model&gt;
    &lt;value&gt;5000.00&lt;/value&gt;
  &lt;/case&gt;
  &lt;case&gt;
    &lt;first-name&gt;Ken&lt;/first-name&gt;
    &lt;last-name&gt;Jones&lt;/last-name&gt;
    &lt;address&gt;75 Apple Way&lt;/address&gt;
    &lt;city&gt;San Francisco&lt;/city&gt;
    &lt;state&gt;CA&lt;/state&gt;
    &lt;zip&gt;94509&lt;/zip&gt;
    &lt;year&gt;2005&lt;/year&gt;
    &lt;make&gt;BMW&lt;/make&gt;
    &lt;model&gt;750 Il&lt;/model&gt;
    &lt;value&gt;67235.00&lt;/value&gt;
  &lt;/case&gt;
&lt;/cases&gt;

</pre>
<p>The flat file refsection defines separate flat record types for the 
<code class="code">A</code> and <code class="code">K</code> records.
</p>
<pre class="programlisting">

  &lt;sx:flatRecordTypeChoice id="caseType" name="caseType"&gt;
    &lt;sx:positionalField name="tag" width="1"/&gt;
    &lt;sx:when test="tag='A'"&gt;
      &lt;sx:flatRecordType name="A"&gt;
        &lt;sx:positionalField name="tag" width="1"/&gt;
        &lt;sx:positionalField name="first-name" width="5"/&gt;
        &lt;sx:positionalField name="last-name" width="6"/&gt;
        &lt;sx:positionalField name="address" width="13"/&gt;
        &lt;sx:positionalField name="city" width="14"/&gt;
        &lt;sx:positionalField name="state" width="2"/&gt;
        &lt;sx:positionalField name="zip" width="5"/&gt;
      &lt;/sx:flatRecordType&gt;
    &lt;/sx:when&gt;
    &lt;sx:when test="tag='K'"&gt;
      &lt;sx:flatRecordType name="K"&gt;
        &lt;sx:positionalField name="tag" width="1"/&gt;
        &lt;sx:positionalField name="year" width="4"/&gt;
        &lt;sx:positionalField name="make" width="5"/&gt;
        &lt;sx:positionalField name="model" width="9"/&gt;
        &lt;sx:positionalField name="value" width="8"/&gt;
      &lt;/sx:flatRecordType&gt;
    &lt;/sx:when&gt;
  &lt;/sx:flatRecordTypeChoice&gt;

</pre>
<p>
The record mapping refsection maps the fields from the <code class="code">A</code> and <code class="code">K</code> records into the same grouping element.
</p>
<pre class="programlisting">

  &lt;sx:recordMapping id="casesToXmlMapping"&gt;        
    &lt;cases&gt;                                                                                         
      &lt;sx:innerGroup startTest="sx:current/A"&gt;
        &lt;case&gt;
          &lt;sx:fieldElementMap field="first-name" element="first-name"/&gt;
          &lt;sx:fieldElementMap field="last-name" element="last-name"/&gt;
          &lt;sx:fieldElementMap field="address" element="address"/&gt;
          &lt;sx:fieldElementMap field="city" element="city"/&gt;
          &lt;sx:fieldElementMap field="state" element="state"/&gt;
          &lt;sx:fieldElementMap field="zip" element="zip"/&gt;
          &lt;sx:innerGroup startTest="sx:current/K"&gt;
            &lt;sx:fieldElementMap field="year" element="year"/&gt;
            &lt;sx:fieldElementMap field="make" element="make"/&gt;
            &lt;sx:fieldElementMap field="model" element="model"/&gt;
            &lt;sx:fieldElementMap field="value" element="value"/&gt;
            &lt;sx:onRecord/&gt;
          &lt;/sx:innerGroup&gt;
        &lt;/case&gt;
      &lt;/sx:innerGroup&gt;
    &lt;/cases&gt;
  &lt;/sx:recordMapping&gt;

</pre>
<p>
In this example, all the output happens inside the grouping instructions, and <code class="sgmltag-element">sx:onRecord</code> is empty. 
</p>
<p>
Note that the instructions
</p><pre class="programlisting">

  &lt;sx:innerGroup startTest="sx:current/A"&gt; ...
  &lt;sx:innerGroup startTest="sx:current/K"&gt; ...

</pre><p>
could also have been written as
</p><pre class="programlisting">

  &lt;sx:innerGroup startTest="sx:current//tag='A'"&gt; ...
  &lt;sx:innerGroup startTest="sx:current//tag='K'"&gt; ...

</pre><p>
</p>
</div></div><br class="example-break">
<div class="example"><a name="d4e6716"></a><p class="title"><b>Example&nbsp;66.&nbsp;Second grouping immediately following first</b></p><div class="example-contents">
  
<p>
This example illustrates two groupings of elements where the last record in the first grouping becomes the first record in the second grouping.
</p>
<p>
The input file contains records of type <code class="code">E</code> and <code class="code">S</code>.
</p>
<pre class="programlisting">

E1001FIELD0
S1001FIELD1FIELD2
E1002FIELDA
S1002FIELDBFIELDC

</pre>
<p>The expected output is as follows.
</p>
<pre class="programlisting">

&lt;ytds&gt;
  &lt;record fileno="1001"&gt;
    &lt;group1&gt;
      &lt;a&gt;FIELD0&lt;/a&gt;
      &lt;b&gt;FIELD2&lt;/b&gt;
    &lt;/group1&gt;
    &lt;group2&gt;
      &lt;c&gt;FIELD1&lt;/c&gt;
    &lt;/group2&gt;
  &lt;/record&gt;
  &lt;record fileno="1002"&gt;
    &lt;group1&gt;
      &lt;a&gt;FIELDA&lt;/a&gt;
      &lt;b&gt;FIELDC&lt;/b&gt;
    &lt;/group1&gt;
    &lt;group2&gt;
      &lt;c&gt;FIELDB&lt;/c&gt;
    &lt;/group2&gt;
  &lt;/record&gt;
&lt;/ytds&gt;

</pre>
<p>The flat file refsection defines separate flat record types for the 
<code class="code">E</code> and <code class="code">S</code> records.
</p>
<pre class="programlisting">

  &lt;sx:flatFile id="ytdsFlatFile"&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordTypeChoice&gt;
        &lt;sx:positionalField name="record_type" width="1"/&gt;
        &lt;sx:when test="record_type='E'"&gt;
          &lt;sx:flatRecordType name="ERecord"&gt;
            &lt;sx:positionalField name="record_type" width="1"/&gt;
            &lt;sx:positionalField name="file_number" width="4"/&gt;
            &lt;sx:positionalField name="efield1" width="6"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
        &lt;sx:when test="record_type='S'"&gt;
          &lt;sx:flatRecordType name="SRecord"&gt;
            &lt;sx:positionalField name="record_type" width="1"/&gt;
            &lt;sx:positionalField name="file_number" width="4"/&gt;
            &lt;sx:positionalField name="sfield1" width="6"/&gt;
            &lt;sx:positionalField name="sfield2" width="6"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
      &lt;/sx:flatRecordTypeChoice&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

</pre>
<p>
The record mapping refsection puts one field from the <code class="code">E</code> record and one field from the <code class="code">S</code> record into group 1,
and one field from the <code class="code">S</code> record into group 2.
</p>
<pre class="programlisting">

  &lt;sx:recordMapping id="ytdsToXmlMapping"&gt;
    &lt;ytds&gt;
      &lt;sx:groupBy fields="file_number"&gt;
        &lt;record&gt;
          &lt;sx:fieldAttributeMap field="file_number" attribute="fileno"/&gt;
          &lt;sx:innerGroup startTest="sx:current/ERecord"&gt;
            &lt;group1&gt;
              &lt;sx:onRecord recordType="ERecord"&gt;
                &lt;sx:fieldElementMap field="efield1" element="a"/&gt;
              &lt;/sx:onRecord&gt;
              &lt;sx:onRecord recordType="SRecord"&gt;
                &lt;sx:fieldElementMap field="sfield2" element="b"/&gt;
              &lt;/sx:onRecord&gt;
            &lt;/group1&gt;
          &lt;/sx:innerGroup&gt;
          &lt;sx:innerGroup startTest="sx:current/SRecord"&gt;
            &lt;group2&gt;
              &lt;sx:onRecord recordType="SRecord"&gt;
                &lt;sx:fieldElementMap field="sfield1" element="c"/&gt;
              &lt;/sx:onRecord&gt;
            &lt;/group2&gt;
          &lt;/sx:innerGroup&gt;
        &lt;/record&gt;
      &lt;/sx:groupBy&gt;
    &lt;/ytds&gt;
  &lt;/sx:recordMapping&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e6734"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:outerGroup" title="sx:outerGroup">sx:outerGroup</a>
</li><li>
<a class="xref" href="#sx:groupChoice" title="sx:groupChoice">sx:groupChoice</a>
</li><li>
<a class="xref" href="#sx:groupBy" title="sx:groupBy">sx:groupBy</a>
</li></ul></div>
</div>
</div>
  
<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:insertContent"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:insertContent
   &#8212; Deprecated in 0.9.3, replaced by <a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6750"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:mapXml"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:mapXml
   &#8212; Abstract element standing for any element that maps records to XML
</p></div>
<a class="indexterm" name="d4e6756"></a>
<div class="refsection" lang="en"><a name="d4e6758"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6775"></a><h2>Content</h2>

<p>None
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6778"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any record map element.</p> 
</div>
<div class="refsection" lang="en"><a name="d4e6781"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6784"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li><li>
<a class="xref" href="#sx:transformRecord" title="sx:transformRecord">sx:transformRecord</a>
</li><li>
<a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a>
</li><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:groupBy" title="sx:groupBy">sx:groupBy</a>
</li><li>
<a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a>
</li><li>
<a class="xref" href="#sx:outerGroup" title="sx:outerGroup">sx:outerGroup</a>
</li><li>
<a class="xref" href="#sx:groupChoice" title="sx:groupChoice">sx:groupChoice</a>
</li><li>
<a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:nestedContent"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:nestedContent
   &#8212; Nested XML content
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6811"></a>
<div class="refsection" lang="en"><a name="d4e6813"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6830"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
One or more <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6838"></a><h2>Examples</h2>

<p>
</p>
<div class="example"><a name="d4e6841"></a><p class="title"><b>Example&nbsp;67.&nbsp;Inserting content into a record mapping</b></p><div class="example-contents">
  
<p>
This example shows how to insert a schedule of dates from a second reader in a record mapping.
</p>
<pre class="programlisting">

&lt;sx:recordMapping id="swaption-xml-mapping" ...

  &lt;swaption ...

    &lt;sx:choose&gt;
      &lt;sx:when test="option_style_type='BERMUDA'"&gt;
        &lt;bermudaExercise&gt;
          &lt;bermudaExerciseDates&gt;
            &lt;sx:nestedContent&gt;
              &lt;sx:recordContent&gt;
                &lt;sx:sqlReader&gt;
                  &lt;sx:sqlConnectionPool ref="jdbcPool"/&gt;
                  &lt;sx:sqlQuery recordType="exerciseSchedule"
                               trim="yes"&gt;
                    SELECT E.settlement_date
                    FROM option_exer_schedule_dates E
                    WHERE E.exercise_schedule_id = {sec_id}
                  &lt;/sx:sqlQuery&gt;
                &lt;/sx:sqlReader&gt;
                &lt;sx:recordMapping ref="exerciseScheduleMapping"/&gt;
              &lt;/sx:recordContent&gt;
            &lt;/sx:nestedContent&gt;
          &lt;/bermudaExerciseDates&gt;
        &lt;/bermudaExercise&gt;
      &lt;/sx:when&gt;
      &lt;sx:when ...

</pre>
</div></div><br class="example-break">

</div>
<div class="refsection" lang="en"><a name="d4e6845"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:onRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:onRecord
   &#8212; On record event
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6856"></a>
<div class="refsection" lang="en"><a name="d4e6858"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">
Records with the specified recordType name will trigger this event processing.  If no
recordType attribute is specified, all records will be processed.
</td></tr><tr><td align="left">test</td><td align="left">No</td><td align="left">XPath</td><td align="left">An XPath boolean expression evaluated against the XML representation of the record.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6886"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>
Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a>.
</li><li>
Any number of <a class="xref" href="#sx:subrecordMapping" title="sx:subrecordMapping">sx:subrecordMapping</a> elements.
</li><li>
Any number of <a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6899"></a><h2>Description</h2>

<p>
This instruction allows markup to be inserted into the output for each record received event.
It may be restricted to records of a certain record type, or, more generally, to records satisfying an XPath expression evaluated against the
XML representation of the record (in which case the record type is the root element.)  
Either the <code class="sgmltag-element">recordType</code> or the <code class="sgmltag-element">test</code> attribute, but not both, may be set to restrict 
the instruction to selected records.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:outerGroup"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:outerGroup
   &#8212; Output outer grouping elements
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e6910"></a>
<div class="refsection" lang="en"><a name="d4e6912"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e6941"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.
</li><li>
Any number of specializations of <a class="xref" href="#sx:sort" title="sx:sort">sx:sort</a>, including <a class="xref" href="#sx:reorderRecords" title="sx:reorderRecords">sx:reorderRecords</a>.
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e6953"></a><h2>Description</h2>

<p>
Grouping begins when processing a record and the <code class="sgmltag-element">startTest</code> expression 
  evaluates as <code class="code">true</code>.  Grouping ends on a succeeding record when the
<code class="sgmltag-element">endTest</code> expression evaluates as 
<code class="code">true</code>, or when a parent group to which this group belongs ends.  The test
for the end of a group is exclusive, that is, if <code class="sgmltag-element">endTest</code>
evaluates as <code class="code">true</code> when processing a record,
  that record is 
excluded from the group.
</p>
<p>
  The test expressions are XPATH expressions evaluated against the XML 
  representations of the current (sx:current) and previous (sx:previous) 
  records.
</p>
<p>
A <code class="sgmltag-element">sx:outerGroup</code> element has  <code class="sgmltag-attribute">startTest</code> and 
<code class="sgmltag-attribute">endTest</code>
attributes to determine the beginning and end of a group.  This element, unlike 
an <a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a>, may allow descendant elements to be
 produced even if a grouping at this level is not recognized.
</p>
<p>
This element will not produce any immediate descendents unless a grouping at this level is recognized, 
  it will not produce
any content <span class="emphasis"><em>between</em></span> this element and an immediate 
descendent grouping element.  It will, however, allow content to be produced in 
a contained grouping element, if the conditions are in effect for grouping at 
that level.
</p>
<p>
An <code class="sgmltag-element">sx:outerGroup</code> checks the start/end conditions for each
   record, and if the 
record does not belong to the group, it still processes the child 
elements, looking for another contained group element (innerGroup, 
outerGroup, groupBy, etc.), and if it finds one the start/end conditions 
for that group are checked.  If the record belongs to that contained group, 
the content of the contained group will be output, but not the content 
between the ancestor outerGroup and the interior group.  
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e6972"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:reorderRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:reorderRecords
   &#8212; Reorder records within a group
</p></div>
<a class="indexterm" name="d4e6983"></a>
<p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:sort" title="sx:sort">sx:sort</a></b></p>
<div class="refsection" lang="en"><a name="d4e6987"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordTypes</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">A space separated list of record types.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7010"></a><h2>Content</h2>

<p>None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7013"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a>
</li><li>
<a class="xref" href="#sx:outerGroup" title="sx:outerGroup">sx:outerGroup</a>
</li><li>
<a class="xref" href="#sx:groupBy" title="sx:groupBy">sx:groupBy</a>
</li><li>
<a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordMapping"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordMapping
   &#8212; Mapping of records to XML
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7030"></a>
<div class="refsection" lang="en"><a name="d4e7032"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7049"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li><li>Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> 
  elements.  
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7057"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordSubtreeMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordSubtreeMap
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:transformRecord" title="sx:transformRecord">sx:transformRecord</a>
</p></div>
<a class="indexterm" name="d4e7071"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:segmentMapping"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:segmentMapping
   &#8212; Deprecated in 0.9.3, replaced by <a class="xref" href="#sx:subrecordMapping" title="sx:subrecordMapping">sx:subrecordMapping</a>
</p></div>
<a class="indexterm" name="d4e7078"></a>
<p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:subrecordMapping"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:subrecordMapping
   &#8212; Map subrecords of a composite record to XML
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7088"></a>
<div class="refsection" lang="en"><a name="d4e7090"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">field</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of a repeating group field to map (deprecated in 0.9.5, use 
            repeatingGroup instead.)</td></tr><tr><td align="left">repeatingGroup</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of a repeating group field to map.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7119"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>
Any number of <a class="xref" href="#record-mapping-literal-element" title="Literal Element">literal</a> elements and <a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a> elements.
</li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sort"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sort
   &#8212; Abstract element standing for a sort element
</p></div>
<a class="indexterm" name="d4e7132"></a>
<div class="refsection" lang="en"><a name="d4e7134"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7145"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e7148"></a><h2>Description</h2>

<p>This is an abstract element that represents sorting.</p> 
</div>
<div class="refsection" lang="en"><a name="d4e7151"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7154"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:reorderRecords" title="sx:reorderRecords">sx:reorderRecords</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:transformRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:transformRecord
   &#8212; Transform record to XML
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:mapXml" title="sx:mapXml">sx:mapXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7165"></a>
<div class="refsection" lang="en"><a name="d4e7167"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7184"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</p></li><li><p>
Any number of <a class="xref" href="#sx:content" title="sx:content">sx:content</a> elements, such as <a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a> elements.
These will be applied in document order.
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e7194"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li><li>
<a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a>
</li></ul></div>
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-inverserecordmapping"></a>Inverse Record Mapping Elements</h1></div></div><hr></div>


<div class="refentry" lang="en"><a name="sx:documentSubtreeMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:documentSubtreeMap
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:shredXml" title="sx:shredXml">sx:shredXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7210"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flattenSubtree"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flattenSubtree
   &#8212; Flatten XML subtree
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:shredXml" title="sx:shredXml">sx:shredXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7218"></a>
<div class="refsection" lang="en"><a name="d4e7220"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">match</td><td align="left">No</td><td align="left">XSLT pattern</td><td align="left">
Define a condition that an element in the XML fragment must satisfy in order to be mapped to a record of the specified type.
Defaults to "/*" 
</td></tr><tr><td align="left">recordType</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">
The record type of the output record.  
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7248"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>
Any number of <a class="xref" href="#sx:subtreeFieldMap" title="sx:subtreeFieldMap">sx:subtreeFieldMap</a> elements.            
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:inverseRecordMapping"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:inverseRecordMapping
   &#8212; Map XML to records
</p></div>
<a class="indexterm" name="d4e7259"></a>
<div class="refsection" lang="en"><a name="d4e7261"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7278"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li><span>
Any number of <a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a> elements.            
</span></li><li>
Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</li></ul></div><p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7287"></a><h2>Description</h2>

  <p>The <code class="sgmltag-element">sx:inverseRecordMapping</code> element takes a stream of 
    XML tags and transforms them to a flow of records. Each record flowing 
    through <code class="code">ServingXML</code> must have a recordType, say "book". In the
    content of an <code class="sgmltag-element">sx:inverseRecordMapping</code>, the instructions
</p><pre class="programlisting"> 
    &lt;sx:onSubtree path="/myns:books/myns:book"&gt;
      &lt;sx:flattenSubtree recordType="book"&gt;
        &lt;sx:subtreeFieldMap select="myns:title" field="title"/&gt;
        &lt;sx:subtreeFieldMap select="myns:author" field="author"/&gt;
      &lt;/sx:flattenSubtree&gt;

</pre><p>extract the "myns:book" subtrees from the XML and map them to 
records of type "book".
  </p>
  <p>
Now, when writing the records to a flat file, you can use the recordType "book" 
in the flat file definition to discriminate between different record types, for 
example
  </p> 
<pre class="programlisting">

  &lt;sx:flatRecordTypeChoice id="bookType"&gt; 
    &lt;sx:delimitedField name="xxx"/&gt; &lt;!-- unused, used for input only --&gt; 
    &lt;sx:when test="/book"&gt; &lt;!-- matches against record type "book" --&gt; 
      &lt;sx:flatRecordType name="book"&gt;
        &lt;sx:fieldDelimiter value=","/&gt;
        &lt;sx:delimitedField name="title" quote="always"/&gt;
        &lt;sx:delimitedField name="author"/&gt;
      &lt;/sx:flatRecordType&gt;

</pre> 
 
  <p>
  Note that the recordType of the record becomes the root element of the XML representation of the 
    record, so the test is written as "/book". Also note that the discrimination 
    is based on the test expression, it's unrelated to the <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> attribute 
    <code class="sgmltag-element">name</code>, which could just as well be "ABook".
  </p>
  <p>
One restriction of referring to the recordType in the flat file definition like this is that this 
    flat file definition can be used for XML -&gt; flat only, for flat -&gt; XML the 
    discrimination has to be based on field values. But generally you'll want to
    use the same flat file definiton for flat-&gt;XML and XML-&gt;flat.

  </p>
  <p>
Using one flat file definition is always possible in simple cases with a single 
recordType, but in more complex cases using 
            <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a>, it requires that flat-&gt;XML and
XML-&gt;flat both discriminate by field values. 
  </p> 
  <p>
So suppose you have a flat file definition like 
  </p> 
<pre class="programlisting">

  &lt;sx:flatRecordTypeChoice id="bookType"&gt; 
    &lt;sx:delimitedField name="tag"/&gt; &lt;!-- used for input only --&gt; 
    &lt;sx:when test="tag = 'B'"&gt; &lt;!-- matches against field "tag" --&gt; 
    &lt;sx:flatRecordType name="book"&gt; 
    &lt;sx:delimitedField name="tag"/&gt; 
    &lt;!-- other fields --&gt; 

</pre> 
  <p>
  On input, the first field of the record will be read in, and generally speaking, 
    as many fields will be read in as appear immediately below the 
    <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a>. These fields may then be referred to in test 
    expressions to determine the record type. Once the type is known, the 
    complete record is read and assigned a recordType. 
  </p>
 
  <p>
  On output, the fields appearing immediately below the <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a> aren't used. 
    Instead, the sx:when test expressions test against the record about to be 
    written, and if that record has a field called tag with the value 'B', 
</p><pre class="programlisting">

&lt;sx:when test="tag = 'B'"

</pre><p>
     will evaluate as true.  
  </p>
 
  <p>
  So note the following: 
  </p>
  <div class="itemizedlist"><ul type="disc"><li><p>
   In the second line of
</p><pre class="programlisting">

&lt;sx:flatRecordTypeChoice id="bookType"&gt; 
&lt;sx:delimitedField name="tag"/&gt; &lt;!-- used for input only --&gt; 
&lt;sx:when test="tag = 'B'"&gt; &lt;!-- matches against field "tag" --&gt; 

</pre><p> 
the field "tag" is used in flat-&gt;xml but not xml-&gt;flat, where it is ignored. 
      </p></li><li><p>
In the second line of 
</p><pre class="programlisting">

&lt;sx:when test="tag = 'B'"&gt; &lt;!-- matches against field "tag" --&gt; 
&lt;sx:flatRecordType name="book"&gt; 

</pre><p> 
                the name "book" becomes the recordType of the input record in 
                flat-&gt;XML, 
  but is ignored in XML-&gt;flat (the recordType is thrown away, it isn't written 
  to the flat file.) 
      </p></li><li><p>
In the third line of  
</p><pre class="programlisting">

&lt;sx:flatRecordTypeChoice id="bookType"&gt; 
&lt;sx:delimitedField name="tag"/&gt; &lt;!-- used for input only --&gt; 
&lt;sx:when test="tag = 'B'"&gt; &lt;!-- matches against field "tag" --&gt; 

</pre><p> 
the field tag appearing in the test expression is a field at the beginning of 
the input record in flat-&gt;XML, and it's a field of the output record in 
XML-&gt;flat.
      </p></li></ul></div> 
  </div>
<div class="refsection" lang="en"><a name="d4e7320"></a><h2>Examples</h2>

<p>
</p>
<div class="example"><a name="d4e7323"></a><p class="title"><b>Example&nbsp;68.&nbsp;Mapping master/detail content to composite records</b></p><div class="example-contents">
  
  <p>
    Suppose you have a document of countries,
  </p>
<pre class="programlisting">

&lt;countries&gt;
  &lt;country countryCode="ATF"&gt;
    &lt;countryName&gt;FRENCH SOUTHERN TERRITORIES, D.R. OF&lt;/countryName&gt;
  &lt;/country&gt;
  &lt;country countryCode="VUT"&gt;
    &lt;countryName&gt;VANUATU&lt;/countryName&gt;
  &lt;/country&gt;
  &lt;country countryCode="WLF"&gt;
    &lt;countryName&gt;WALLIS &amp;amp; FUTUNA ISLANDS&lt;/countryName&gt;
  &lt;/country&gt;
&lt;/countries&gt;

</pre>
  <p>
    Now suppose you want to map each "country" subtree to a corresponding 
    "country" record containing two fields, "name" and "code". For this you can 
    use the
        <a class="xref" href="#sx:inverseRecordMapping" title="sx:inverseRecordMapping">sx:inverseRecordMapping</a> instruction below.
  </p>
<pre class="programlisting">

  &lt;sx:inverseRecordMapping id="countriesToFileMapping"&gt;
    &lt;sx:onSubtree path="country"&gt;
      &lt;sx:flattenSubtree  recordType="country"&gt;
        &lt;sx:subtreeFieldMap select="countryName" field="name"/&gt;
        &lt;sx:subtreeFieldMap select="@countryCode" field="code"/&gt;
      &lt;/sx:flattenSubtree&gt;
    &lt;/sx:onSubtree&gt;
  &lt;/sx:inverseRecordMapping&gt;

</pre>
  <p>Note that the <a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a> element extracts the 
    "country" subtrees.  The <a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a> element 
    flattens the subtree into a record.
  </p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e7333"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a>
</li><li>
<a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a>
</li><li>
<a class="xref" href="#sx:subtreeFieldMap" title="sx:subtreeFieldMap">sx:subtreeFieldMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:onSubtree"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:onSubtree
   &#8212; On subtree event
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:shredXml" title="sx:shredXml">sx:shredXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7348"></a>
<div class="refsection" lang="en"><a name="d4e7350"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">path</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a></td><td align="left">
A <a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a> expression.  
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7374"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>
Any number of <a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a> and <a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a> elements.            
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e7382"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:inverseRecordMapping" title="sx:inverseRecordMapping">sx:inverseRecordMapping</a>
</li><li>
<a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a>
</li><li>
<a class="xref" href="#sx:subtreeFieldMap" title="sx:subtreeFieldMap">sx:subtreeFieldMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:shredXml"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:shredXml
   &#8212; Abstract element standing for any element that maps XML to records
</p></div>
<a class="indexterm" name="d4e7395"></a>
<div class="refsection" lang="en"><a name="d4e7397"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7414"></a><h2>Content</h2>

<p>None
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7417"></a><h2>Description</h2>

<p>This is an abstract element that stands for any inverse record mapping element.</p> 
</div>
<div class="refsection" lang="en"><a name="d4e7420"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7423"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:subtreeFieldMap" title="sx:subtreeFieldMap">sx:subtreeFieldMap</a>
</li><li>
<a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a>
</li><li>
<a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:subtreeFieldMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:subtreeFieldMap
   &#8212; Map from subtree to field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:shredXml" title="sx:shredXml">sx:shredXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7438"></a>
<div class="refsection" lang="en"><a name="d4e7440"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">match</td><td align="left">No</td><td align="left">XSLT pattern</td><td align="left">
Define a condition that an element in the XML fragment must satisfy in order to be selected by an XPath expression.
Defaults to "/*"</td></tr><tr><td align="left">select</td><td align="left">No</td><td align="left">XPath expression</td><td align="left">
Apply an XPath expression to the collection of elements in the XML fragment that satisfy the conditon of the <code class="sgmltag-element">match</code> pattern.  
The expression is evaluated as a string.  If the match pattern matches several elements, the XPath expression will be applied to each of them,
evaluating to multiple field values.
</td></tr><tr><td align="left">field</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">
The name of an output field.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7474"></a><h2>Content</h2>

<p>
None.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7477"></a><h2>Examples</h2>

<p>
</p>
<div class="example"><a name="d4e7480"></a><p class="title"><b>Example&nbsp;69.&nbsp;Mapping master/detail content to composite records</b></p><div class="example-contents">
  
  <p>
    Suppose you have a master/detail XML document
  </p>
<pre class="programlisting">

&lt;masterDetail&gt;
  &lt;master id="1"&gt;
    &lt;name&gt;aName&lt;/name&gt;
    &lt;detail id="11"&gt;
      &lt;date&gt;2008-09-03&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
    &lt;detail id="12"&gt;
      &lt;date&gt;2008-09-06&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
    &lt;detail id="13"&gt;
      &lt;date&gt;2008-09-10&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
  &lt;/master&gt;
  &lt;master id="2"&gt;
    &lt;name&gt;anotherName&lt;/name&gt;
    &lt;detail id="21"&gt;
      &lt;date&gt;2008-10-03&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
    &lt;detail id="22"&gt;
      &lt;date&gt;2008-10-06&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
    &lt;detail id="23"&gt;
      &lt;date&gt;2008-10-07&lt;/date&gt;
      &lt;type&gt;anotherType&lt;/type&gt;
    &lt;/detail&gt;
  &lt;/master&gt;
&lt;/masterDetail&gt;

</pre>
  <p>
    Suppose also that you want to map the two "master" subtrees to two composite 
    records, each composed of a repeating group field named "details" that 
    contains the "detail" subrecords.  For this you can use the 
                                                   <a class="xref" href="#sx:inverseRecordMapping" title="sx:inverseRecordMapping">sx:inverseRecordMapping</a> 
    instruction below.
  </p>
<pre class="programlisting">

  &lt;sx:inverseRecordMapping id="masterDetailMapping"&gt;
    &lt;sx:onSubtree path="/masterDetail/master"&gt;
      &lt;sx:flattenSubtree recordType="master"&gt;
        &lt;sx:subtreeFieldMap select="@id" field="masterId"/&gt;
        &lt;sx:subtreeFieldMap select="name" field="name"/&gt;
        &lt;sx:subtreeFieldMap match="detail" field="details"&gt;
          &lt;sx:flattenSubtree recordType="detail"&gt;
            &lt;sx:subtreeFieldMap select="@id" field="detailId"/&gt;
            &lt;sx:subtreeFieldMap select="date" field="date"/&gt;
            &lt;sx:subtreeFieldMap select="type" field="type"/&gt;
          &lt;/sx:flattenSubtree&gt;
        &lt;/sx:subtreeFieldMap&gt;
      &lt;/sx:flattenSubtree&gt;
    &lt;/sx:onSubtree&gt;
  &lt;/sx:inverseRecordMapping&gt;

</pre>
  <p>
    Note that the instruction 
  
    &lt;sx:subtreeFieldMap match="detail" field="details"&gt;
      &lt;sx:flattenSubtree recordType="detail"&gt;
        &lt;sx:subtreeFieldMap select="@id" field="detailId"/&gt;
        &lt;sx:subtreeFieldMap select="date" field="date"/&gt;
        &lt;sx:subtreeFieldMap select="type" field="type"/&gt;
      &lt;/sx:flattenSubtree&gt;
    &lt;/sx:subtreeFieldMap&gt;

    matches each "detail" child in the "master" subtree and produces the 
    repeating group field "details" containing the "detail" subrecords.
  </p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e7488"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:inverseRecordMapping" title="sx:inverseRecordMapping">sx:inverseRecordMapping</a>
</li><li>
<a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a>
</li><li>
<a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:subtreeRecordMap"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:subtreeRecordMap
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:shredXml" title="sx:shredXml">sx:shredXml</a></b></p>
</p></div>
<a class="indexterm" name="d4e7504"></a>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-flatfile-module"></a>Flat File Elements</h1></div></div><hr></div>

<div class="refentry" lang="en"><a name="flat-file-option-attributes"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  Flat File Options - Attributes
   &#8212; Flat file options
</p></div>
<div class="refsection" lang="en"><a name="d4e7512"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">flushRecordOnWrite</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to flush the output stream every time a record is written.  Defaults to <code class="code">false</code>.
</td></tr><tr><td align="left">trim</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading and trailing whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">zeroBased</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether position indexes are zero-based, defaults to 
  <code class="code">false</code>, by
  default position indexes are one-based.
</td></tr><tr><td align="left">trimLeading</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimWithinQuotes</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim quoted values of leading and trailing 
  whitespace.  Defaults to <code class="code">false</code>.
</td></tr><tr><td align="left">trimLeadingWithinQuotes</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim quoted values of leading whitespace.  Defaults 
  to <code class="code">false</code> .
</td></tr><tr><td align="left">trimTrailingWithinQuotes</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim quoted values of trailing whitespace.  Defaults 
  to <code class="code">false</code>.
</td></tr><tr><td align="left">trimQuoted</td><td align="left">No</td><td align="left">true|false</td><td align="left">Deprecated as of version 1.1.0, use <code class="sgmltag-element">trimWithinQuotes</code> 
  instead.
</td></tr><tr><td align="left">trimTrailing</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim trailing whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">quote</td><td align="left">No</td><td align="left">"auto" or "always" or "never"</td><td align="left">
Indicates whether a value should be searched for a field delimiter, and if so enclosed in quote marks, or whether a value should
always be enclosed in quote marks.  The default is <code class="code">never</code> for 
positional files, <code class="code">auto</code> for delimited or mixed files.  Previous 
versions supported yes/no values, which have been deprecated, but are translated 
to "auto" and "never" respectively.
</td></tr><tr><td align="left">omitFinalFieldDelimiter</td><td align="left">No</td><td align="left">true|false</td><td align="left">Defaults to <code class="code">true</code>.  (For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">omitFinalRepeatDelimiter</td><td align="left">No</td><td align="left">true|false</td><td align="left">Defaults to <code class="code">true</code>  (For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">padCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">
The pad character used for formatting values into a field of fixed width, e.g., a space or zero. 
</td></tr><tr><td align="left">justify</td><td align="left">No</td><td align="left">"left","right", or "center"</td><td align="left">Indicates how to align the data within the field.</td></tr><tr><td align="left">lineDelimited</td><td align="left">No</td><td align="left">true|false</td><td align="left">If set to <code class="code">true</code>, records are expected to end with end-of-line delimiters, otherwise fixed width records are assumed.  
Defaults to <code class="code">true</code>.  (For backwards compatability, "yes"/"no" is also supported.)</td></tr><tr><td align="left">countPositionsInBytes</td><td align="left">No</td><td align="left">true|false</td><td align="left">If set to <code class="code">true</code>, positions between fields are counted in 
  bytes, otherwise positons are counted in characters.  Defaults to 
            <code class="code">true</code> if any field is a binary field or if flat file 
            signatures are specified, otherwise defaults to <code class="code">false</code>. 
            </td></tr><tr><td align="left">ignoreTrailingEmptyLines</td><td align="left">No</td><td align="left">true|false</td><td align="left">If set to <code class="code">true</code>, lines at the end of files that are empty (apart from space, tab and record delimiter characters) are ignored.  
Defaults to <code class="code">true</code>.    (For backwards compatability, "yes"/"no" is also supported.)</td></tr><tr><td align="left">ignoreEmptyLines</td><td align="left">No</td><td align="left">true|false</td><td align="left">If set to <code class="code">true</code>, all lines in the files that are empty (apart from space, tab and record delimiter characters) are ignored.  
Defaults to <code class="code">false</code>.   (For backwards compatability, "yes"/"no" is also supported.)</td></tr></tbody></table>
</div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="flat-file-option-elements"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  Flat File Options - Elements
   &#8212; Flat File Options
</p></div>
<div class="refsection" lang="en"><a name="d4e7636"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Any number of <a class="xref" href="#sx:recordDelimiter" title="sx:recordDelimiter">sx:recordDelimiter</a> elements.
</p></li><li><p>Any number of <a class="xref" href="#sx:segmentDelimiter" title="sx:segmentDelimiter">sx:segmentDelimiter</a> elements.
</p></li><li><p>Any number of <a class="xref" href="#sx:repeatDelimiter" title="sx:repeatDelimiter">sx:repeatDelimiter</a> elements.
</p></li><li><p>Any number of <a class="xref" href="#sx:fieldDelimiter" title="sx:fieldDelimiter">sx:fieldDelimiter</a> elements.
</p></li><li><p>Any number of <a class="xref" href="#sx:subfieldDelimiter" title="sx:subfieldDelimiter">sx:subfieldDelimiter</a> elements.
</p></li><li><p>Any number of <a class="xref" href="#sx:nameDelimiter" title="sx:nameDelimiter">sx:nameDelimiter</a> elements.
</p></li><li><p>A <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element. 
</p></li><li><p>Zero or many <a class="xref" href="#sx:commentStarter" title="sx:commentStarter">sx:commentStarter</a> 
            elements.</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:annotationRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:annotationRecord
   &#8212; Annotation record
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a></b></p>
</p></div>
<a class="indexterm" name="d4e7669"></a>
<div class="refsection" lang="en"><a name="d4e7671"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the annotation record.</td></tr><tr><td align="left">width</td><td align="left">Yes</td><td align="left">number</td><td align="left">The width of the annotation record.
</td></tr><tr><td align="left">justify</td><td align="left">No</td><td align="left">"left","right", or "center"</td><td align="left">Indicates how to align the data within the field.  The default is "left".</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7704"></a><h2>Content</h2>

<p>An input string.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e7707"></a><h2>Description</h2>

<p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:binaryField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:binaryField
   &#8212; Binary field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e7716"></a>
<div class="refsection" lang="en"><a name="d4e7718"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified, it defaults to the end of the previous field.
</td></tr><tr><td align="left">width</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The width of the field.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7758"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
  Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty 
  string (for writing if there are missing field values.)
  </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e7763"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e7768"></a><h2>Examples</h2>

<div class="example"><a name="d4e7770"></a><p class="title"><b>Example&nbsp;70.&nbsp;First field of each record has a special character.</b></p><div class="example-contents">

<p>
In the example below, the first two records in the file start with the hexadecimal values 03 and 04.
These values are needed to differentiate the record type, but these valued cannot be written as 
&amp;#x03; and &amp;#x04; in XML, as these are not valid XML characters.
</p>
<pre class="programlisting">

  &lt;sx:flatFile id="transactionFile"&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordTypeChoice&gt;
        &lt;sx:binaryField name="firstField" width="1"/&gt;
        &lt;sx:when test="firstField='03'"&gt;
          &lt;sx:flatRecordType id="R03" name="R03"&gt;
            &lt;sx:binaryField name="firstField" label="firstField" width="1" /&gt;
            &lt;sx:positionalField name="CLIENUM" label="CLIENUM" width="007" /&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
        &lt;sx:when test="firstField='04'"&gt;
          &lt;sx:flatRecordType id="R04" name="R04"&gt;
            &lt;sx:binaryField name="firstField" label="firstField" width="1" /&gt;
            &lt;sx:positionalField name="NAME" label="NAME" width="020" /&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
      &lt;/sx:flatRecordTypeChoice&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:combinePhysicalRecords"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:combinePhysicalRecords
   &#8212; Combine multiple physical records into a composite logical 
    record
</p></div>
<a class="indexterm" name="d4e7778"></a>
<div class="refsection" lang="en"><a name="d4e7780"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr><tr><td align="left">suppressRDW</td><td align="left">No</td><td align="left">true|false</td><td align="left">Suppress the 4-byte record descriptor word (RDW) from the front of 
  the logical record, defaults to <code class="code">false</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7821"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One <a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a> element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e7830"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:compositeFlatRecordType" title="sx:compositeFlatRecordType">sx:compositeFlatRecordType</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:commentStarter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:commentStarter
  
</p></div>
<a class="indexterm" name="d4e7839"></a>
<div class="refsection" lang="en"><a name="d4e7841"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">value</td><td align="left">Yes</td><td align="left">String</td><td align="left">The value of a comment symbol.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7863"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:commentSymbol"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:commentSymbol
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:commentStarter" title="sx:commentStarter">sx:commentStarter</a>
</p></div>
<a class="indexterm" name="d4e7871"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:compositeFlatRecordType"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:compositeFlatRecordType
   &#8212; Composite flat record type
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a></b></p>
</p></div>
<a class="indexterm" name="d4e7879"></a>
<div class="refsection" lang="en"><a name="d4e7881"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e7904"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One or more specializations of the abstract <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a> element, 
including <a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a>,
<a class="xref" href="#sx:binaryField" title="sx:binaryField">sx:binaryField</a>, <a class="xref" href="#sx:integerField" title="sx:integerField">sx:integerField</a> and 
  <a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>. If 
positional and delimited fields are mixed, the positional fields should precede 
the delimited fields. 
</p>
  </li><li>
<p>One <a class="xref" href="#sx:combinePhysicalRecords" title="sx:combinePhysicalRecords">sx:combinePhysicalRecords</a> element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e7920"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a>
</li><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:crcFlatFileSignature"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:crcFlatFileSignature
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a> with method="crc"
</p></div>
<a class="indexterm" name="d4e7936"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:delimitedField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:delimitedField
   &#8212; Delimited field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e7944"></a>
<div class="refsection" lang="en"><a name="d4e7946"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified,
it defaults to the end of the previous field.
</td></tr><tr><td align="left">trim</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading and trailing whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimLeading</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimTrailing</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim trailing whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimWithinQuotes</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim quoted values of leading and trailing 
  whitespace.  Defaults to the setting at the record level.
</td></tr><tr><td align="left">trimLeadingWithinQuotes</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim quoted values of leading whitespace.  Defaults 
  to the setting at the record level.
</td></tr><tr><td align="left">trimTrailingWithinQuotes</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim quoted values of trailing whitespace.  Defaults 
  to the setting at the record level.
</td></tr><tr><td align="left">quote</td><td align="left">No</td><td align="left">"auto" or "always" or "never"</td><td align="left">
Indicates whether a value should be searched for a field delimiter, and if so enclosed in quote marks, or whether a value should
always be enclosed in quote marks.  The default is <code class="code">auto</code>.  Previous versions supported yes/no values,
which have been deprecated, but are translated to "auto" and "never" respectively.
</td></tr><tr><td align="left">alwaysQuote</td><td align="left">No</td><td align="left">"yes" or "no"</td><td align="left">Deprecated as of version 0.6.3, use quote="always" instead.
</td></tr><tr><td align="left">minLength</td><td align="left">No</td><td align="left">number</td><td align="left">If the length of the field value is less than <code class="code">minLength</code>, it will be padded with the <code class="code">padCharacter</code>.
</td></tr><tr><td align="left">maxLength</td><td align="left">No</td><td align="left">number</td><td align="left">If the length of the field is greater than <code class="code">maxValue</code>, it will be truncated.
</td></tr><tr><td align="left">justify</td><td align="left">No</td><td align="left">"left","right", or "center"</td><td align="left">The alignment rule used for formatting values into a field of fixed width.  The default is "left".
</td></tr><tr><td align="left">padCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">
The pad character used for formatting values into a field of fixed width, e.g., 
a space or zero.  The default is a space.
</td></tr><tr><td align="left">maxWidth</td><td align="left">No</td><td align="left">number</td><td align="left">The maximum field width, <span class="emphasis"><em>including</em></span> delimiter.  If the number of
characters read exceeds the specified <code class="code">width</code>, that will be regarded as the end of this field
and the beginning of the next.  Defaults to the record width.
</td></tr><tr><td align="left">width</td><td align="left">No</td><td align="left">number</td><td align="left">Deprecated, use <code class="sgmltag-attribute">maxWidth</code> instead.
</td></tr><tr><td align="left">omitFinalFieldDelimiter</td><td align="left">No</td><td align="left">true|false</td><td align="left">Defaults to <code class="code">true</code>
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8063"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:fieldDelimiter" title="sx:fieldDelimiter">sx:fieldDelimiter</a> and <a class="xref" href="#sx:subfieldDelimiter" title="sx:subfieldDelimiter">sx:subfieldDelimiter</a> elements.  If not specified, defaults to the field and subfield delimiters in scope, if any.element.  
</p></li><li><p>Optionally, a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element. If not specified, defaults to the quote symbol in scope, if none, defaults to <code class="code">"</code>. 
</p></li><li><p>Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty string (for writing if there are missing field values.)
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8077"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8082"></a><h2>Notes</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
If you have a field value that includes a character that is the same as the quote symbol, you must escape that
character.  For example, if the quote symbol is the default double quotation mark, 
escaped by a second quote symbol, and if your record data is
</p><pre class="programlisting">
"Gun, with Occaisonal Music","""SHARP, FUNNY, VISIONARY"""
</pre><p>
then the values become
</p><pre class="programlisting">
Gun, with Occaisonal Music
"SHARP, FUNNY, VISIONARY"
</pre><p>
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:delimitedNamedField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:delimitedNamedField
   &#8212; Delimited name/value pair
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a>,&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e8096"></a>
<div class="refsection" lang="en"><a name="d4e8098"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified,
it defaults to the end of the previous field.
</td></tr><tr><td align="left">trim</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading and trailing whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimLeading</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimTrailing</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim trailing whitespace.  Defaults to the setting at the record level.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">minLength</td><td align="left">No</td><td align="left">number</td><td align="left">If the length of the field value is less than <code class="code">minLength</code>, it will be padded with the <code class="code">padCharacter</code>.
</td></tr><tr><td align="left">maxLength</td><td align="left">No</td><td align="left">number</td><td align="left">If the length of the field is greater than <code class="code">maxValue</code>, it will be truncated.
</td></tr><tr><td align="left">justify</td><td align="left">No</td><td align="left">"left","right", or "center"</td><td align="left">The alignment rule used for formatting values into a field of fixed width.  The default is "left".
</td></tr><tr><td align="left">padCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">
The pad character used for formatting values into a field of fixed width, e.g., 
a space or zero.  The default is a space.
</td></tr><tr><td align="left">maxWidth</td><td align="left">No</td><td align="left">number</td><td align="left">The maximum field width, <span class="emphasis"><em>including</em></span> delimiter.  If the number of
characters read exceeds the specified <code class="code">width</code>, that will be regarded as the end of this field
and the beginning of the next.  Defaults to the record width.
</td></tr><tr><td align="left">omitFinalFieldDelimiter</td><td align="left">No</td><td align="left">true|false</td><td align="left">Defaults to <code class="code">true</code>
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8177"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:fieldDelimiter" title="sx:fieldDelimiter">sx:fieldDelimiter</a> and <a class="xref" href="#sx:subfieldDelimiter" title="sx:subfieldDelimiter">sx:subfieldDelimiter</a> elements.  If not specified, defaults to the field and subfield delimiters in scope, if any.  
</p></li><li><p>Optionally, a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element. If not specified, defaults to the quote symbol in scope, if none, defaults to <code class="code">"</code>. 
</p></li><li><p>Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty string (for writing if there are missing field values.)
</p></li><li><p>Optionally, a <a class="xref" href="#sx:nameDelimiter" title="sx:nameDelimiter">sx:nameDelimiter</a> element. If not specified, defaults to the tag delimiter in scope. If there is no tag
delimiter, an error is raised.
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8194"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:repeatingField" title="sx:repeatingField">sx:repeatingField</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8199"></a><h2>Notes</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
If you have a field value that includes a character that is the same as the quote symbol, you must escape that
character.  For example, if the quote symbol is the default double quotation mark, 
escaped by a second quote symbol, and if your record data is
</p><pre class="programlisting">
"Gun, with Occaisonal Music","""SHARP, FUNNY, VISIONARY"""
</pre><p>
then the values become
</p><pre class="programlisting">
Gun, with Occaisonal Music
"SHARP, FUNNY, VISIONARY"
</pre><p>
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:fieldDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:fieldDelimiter
   &#8212; Field delimiter
</p></div>
<a class="indexterm" name="d4e8210"></a>
<div class="refsection" lang="en"><a name="d4e8212"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that indicates the end of a field.</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">An escape character used to escape the delimiter.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8240"></a><h2>Content</h2>

<p>Optionally, a <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e8244"></a><h2>Description</h2>

<p>
The field delimiter indicates the end of the field value.  It is excluded from the field value.
It may be one or more characters in length.  
</p>
<p>
The following special encodings may appear in a delimiter value.
</p><div class="itemizedlist"><ul type="disc"><li>\t, to indicate a tab.
</li><li>\r, to indicate a carriage return.
</li><li>\n, to indicate a line feed.
</li></ul></div><p>
</p>
<p>You can also use numerical entity references to specify delimiter values, e.g. &amp;#x09; 
is another way of specifying a tab character.
</p>
<p>
The value of the delimiter may be specified either by a <code class="code">value</code> attribute
or by the <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> content. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e8256"></a><h2>Notes</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
If you have a field value that includes a character that is the same as the delimiter, you must 
define the field to have quoted field values and enclose the value of the field in quotes.
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFile"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFile
   &#8212; Flat file
</p></div>
<a class="indexterm" name="d4e8265"></a>
<div class="refsection" lang="en"><a name="d4e8267"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8290"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
Optionally, any number of <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>, for
example, any number of 
                     <a class="xref" href="#sx:recordDelimiter" title="sx:recordDelimiter">sx:recordDelimiter</a> elements, or any 
                     number of <a class="xref" href="#sx:commentStarter" title="sx:commentStarter">sx:commentStarter</a> elements.
</p></li><li><p>Optionally, a <a class="xref" href="#sx:flatFileTrailer" title="sx:flatFileTrailer">sx:flatFileTrailer</a> element.</p></li><li><p>A <a class="xref" href="#sx:flatFileBody" title="sx:flatFileBody">sx:flatFileBody</a> element.</p></li><li><p>Optionally, any number of <a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a> elements.</p></li></ul></div>
</div>
  <div class="refsection" lang="en"><a name="d4e8307"></a><h2>Description</h2>
    
<p>By default there are two record delimiters:  a linefeed, or a carriage
return followed by a linefeed. When serializing XML to a flat file, if more than
one record delimiter has been defined, the serializer checks to see if one of
the delimiters matches the system conventional end-of-line character. If so, it
uses that one, otherwise it uses the first one.
</p>
    
  </div>
<div class="refsection" lang="en"><a name="d4e8310"></a><h2>Examples</h2>

<p>See <a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a></p>
</div>
<div class="refsection" lang="en"><a name="d4e8314"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
<a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a>
</p></li><li><p>
<a class="xref" href="#sx:flatFileWriter" title="sx:flatFileWriter">sx:flatFileWriter</a>
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFileBody"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFileBody
   &#8212; Flat file body
</p></div>
<a class="indexterm" name="d4e8327"></a>
<div class="refsection" lang="en"><a name="d4e8329"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8352"></a><h2>Content</h2>

<p>
A <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> element, or a <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a> element.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e8357"></a><h2>See also</h2>
<div class="refsection" lang="en"><a name="d4e8358"></a><h3>Examples</h3>

<div class="example"><a name="d4e8360"></a><p class="title"><b>Example&nbsp;71.&nbsp;Using a sx:flatFileBody element.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:flatFile id="tradesFlatFile"&gt;
    &lt;sx:commentStarter value="#"/&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordTypeChoice&gt;
        &lt;sx:positionalField name="record_type" width="2"/&gt;
        &lt;sx:when test="record_type='TR'"&gt;
          &lt;sx:flatRecordType name="trade"&gt;
            &lt;sx:positionalField name="record_type" width="2"/&gt;
            &lt;sx:positionalField name="id" width="4"/&gt;
            &lt;sx:positionalField name="trade_date" width="10"/&gt;
            &lt;sx:positionalField name="trade_time" width="8"/&gt;
            &lt;sx:positionalField name="description" width="30"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
        &lt;sx:when test="record_type='TN'"&gt;
          &lt;sx:flatRecordType name="transaction"&gt;
            &lt;sx:positionalField name="record_type" width="2"/&gt;
            &lt;sx:positionalField name="id" width="4"/&gt;
            &lt;sx:positionalField name="reference" width="5"/&gt;
            &lt;sx:positionalField name="description" width="30"/&gt;
          &lt;/sx:flatRecordType&gt;
        &lt;/sx:when&gt;
      &lt;/sx:flatRecordTypeChoice&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;
  
  &lt;sx:recordMapping id="tradesToXmlMapping"&gt;
    &lt;trades&gt;
      &lt;sx:onRecord recordType="trade"&gt;
        &lt;trade&gt;
          &lt;sx:fieldAttributeMap field="id" attribute="id"/&gt;
          &lt;sx:fieldElementMap field="description" element="description"/&gt;
        &lt;/trade&gt;  
      &lt;/sx:onRecord&gt;
      &lt;sx:onRecord recordType="transaction"&gt;
        &lt;transaction&gt;
          &lt;sx:fieldAttributeMap field="id" attribute="id"/&gt;
          &lt;sx:fieldElementMap field="reference" element="reference"/&gt;
          &lt;sx:fieldElementMap field="description" element="description"/&gt;
        &lt;/transaction&gt;  
      &lt;/sx:onRecord&gt;
    &lt;/trades&gt;
  &lt;/sx:recordMapping&gt;  

</pre>
</div></div><br class="example-break">
</div>

<div class="itemizedlist"><ul type="disc"><li><p>
<a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a>
</p></li><li><p>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</p></li><li><p>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</p></li><li><p>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFileSignature"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFileSignature
   &#8212; Flat file signature
</p></div>
<a class="indexterm" name="d4e8381"></a>
<div class="refsection" lang="en"><a name="d4e8383"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Identifies a header or trailer record.</td></tr><tr><td align="left">field</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Identifies a field in a header or trailer record.</td></tr><tr><td align="left">method</td><td align="left">Yes</td><td align="left">string</td><td align="left">Must be one of "crc", "size, or "custom".</td></tr><tr><td align="left">class</td><td align="left">No (unless method is "custom")</td><td align="left">Java class name</td><td align="left">The name of a Java class that implements com.servingxml.components.flatfile.SignatureMethod</td></tr><tr><td align="left">validate</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether, when reading a file, the computed signature should be validated against the value stored in the header or trailer.
Defaults to <code class="code">true</code>.   (For backwards compatability, "yes"/"no" is also supported.)</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8428"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e8431"></a><h2>Description</h2>

<p>
Computes the size, CRC, or custom signature of the raw data from the body of the flat file (excluding header and trailer.)
When the file is being written, the signature is stored in the header or trailer field identified by record type and field name.
When the file is being read, the computed signature is compared to the signature from the header or trailer field,
and an error is raised if they differ.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e8434"></a><h2>Examples</h2>

<p>See <a class="xref" href="#sx:flatFileHeader" title="sx:flatFileHeader">sx:flatFileHeader</a> and <a class="xref" href="#sx:flatFileTrailer" title="sx:flatFileTrailer">sx:flatFileTrailer</a></p>
</div>
<div class="refsection" lang="en"><a name="d4e8439"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
<a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a>
</p></li><li><p>
<a class="xref" href="#sx:flatFileHeader" title="sx:flatFileHeader">sx:flatFileHeader</a>
</p></li><li><p>
<a class="xref" href="#sx:flatFileTrailer" title="sx:flatFileTrailer">sx:flatFileTrailer</a>
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFileHeader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFileHeader
   &#8212; Flat file header
</p></div>
<a class="indexterm" name="d4e8455"></a>
<div class="refsection" lang="en"><a name="d4e8457"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">lineCount</td><td align="left">No</td><td align="left">Number</td><td align="left">The number of lines in the header.</td></tr><tr><td align="left">recordLength</td><td align="left">No</td><td align="left">Integer</td><td align="left">The total length of the header records, including record delimiter, if 
  any.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8484"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>One or more <a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8489"></a><h2>Examples</h2>

<div class="example"><a name="d4e8491"></a><p class="title"><b>Example&nbsp;72.&nbsp;A flat file header which contains title headings for columns.</b></p><div class="example-contents">

<p>The header declaration below will prepend a two line header to a flat file:
</p>
<div class="itemizedlist"><ul type="disc"><li><p>A list of title headings for columns.
  </p></li><li><p>A blank line before the data section.
  </p></li></ul></div>
<pre class="programlisting">

  &lt;sx:flatFile id="booksFile"&gt;
    &lt;sx:flatFileHeader&gt;
      &lt;sx:flatRecordType ref="bookType"/&gt;
      &lt;sx:annotationRecord/&gt;
    &lt;/sx:flatFileHeader&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType ref="bookType"/&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;      

  &lt;sx:flatRecordType id="bookType" name="bookType"&gt;
    &lt;sx:positionalField name="category" label="Category" width="1"/&gt;
    &lt;sx:positionalField name="author" label="Author" width="30"/&gt;
    &lt;sx:positionalField name="title" label="Title" width="30"/&gt;
    &lt;sx:positionalField name="price" label="Price" width="10" justify="right"/&gt;
  &lt;/sx:flatRecordType&gt;

</pre>
<p>
Note the following:
</p>
<div class="itemizedlist"><ul type="disc"><li><p>In header and trailer sections, the <code class="sgmltag-attribute">label</code> attributes of fields are treated as data values.
  </p></li></ul></div>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e8505"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFileReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFileReader
   &#8212; Read flat file
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a></b></p>
</p></div>
<a class="indexterm" name="d4e8516"></a>
<div class="refsection" lang="en"><a name="d4e8518"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8541"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
    Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> 
  elements.
  </p></li><li><p>
Optionally, any number of <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>, for
example, any number of 
                     <a class="xref" href="#sx:recordDelimiter" title="sx:recordDelimiter">sx:recordDelimiter</a> elements, or any 
                     number of <a class="xref" href="#sx:commentStarter" title="sx:commentStarter">sx:commentStarter</a> elements.
</p></li><li><p>
    Optionally, a <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> 
  element.
  </p></li><li><p>
    Optionally, a <a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a> element. 
    Defaults to a file reader that examines the first row of the file for
    delimited column headings.
  </p>
  </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8558"></a><h2>Examples</h2>

<div class="example"><a name="d4e8560"></a><p class="title"><b>Example&nbsp;73.&nbsp;Example of a flat file record reader.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:flatFileReader id="countries"&gt;
    &lt;sx:urlSource url="books/countries.csv"/&gt;
    
    &lt;sx:flatFile&gt;
      &lt;sx:flatFileBody&gt;
        &lt;sx:flatRecordType name="country"&gt;
          &lt;sx:fieldDelimiter value=","/&gt; 
          &lt;sx:delimitedField name="countryCode"/&gt;
          &lt;sx:delimitedField name="countryName"/&gt;
        &lt;/sx:flatRecordType&gt;
      &lt;/sx:flatFileBody&gt;
    &lt;/sx:flatFile&gt;
    
  &lt;/sx:flatFileReader&gt;
</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e8563"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatRecordField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatRecordField
   &#8212; Abstract element standing for any flat record field
</p></div>
<a class="indexterm" name="d4e8572"></a>
<div class="refsection" lang="en"><a name="d4e8574"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8591"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e8594"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:flatRecordField</code>, such as <a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e8599"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e8602"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a>
</li><li>
<a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>
</li><li>
<a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a>
</li><li>
<a class="xref" href="#sx:binaryField" title="sx:binaryField">sx:binaryField</a>
</li><li>
<a class="xref" href="#sx:integerField" title="sx:integerField">sx:integerField</a>
</li><li>
<a class="xref" href="#sx:repeatingGroup" title="sx:repeatingGroup">sx:repeatingGroup</a>
</li><li>
<a class="xref" href="#sx:repeatingField" title="sx:repeatingField">sx:repeatingField</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatRecordType"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatRecordType
   &#8212; Flat record type
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a>, <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e8626"></a>
<div class="refsection" lang="en"><a name="d4e8628"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">name</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A QName, or an expression that evaluates to a QName.  Defaults to 
  "record"</td></tr><tr><td align="left">recordLength</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The total length of the record, including record delimiter, if 
  any.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8663"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One or more specializations of the abstract <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a> element, 
including <a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>, <a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a>,
<a class="xref" href="#sx:repeatingGroup" title="sx:repeatingGroup">sx:repeatingGroup</a>, and <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> elements.  If positional
and delimited fields are mixed, the positional fields should precede the delimited fields.
Note that you can extend other flat record types by referring to the base <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> elements 
in the content.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8677"></a><h2>Examples</h2>

<div class="example"><a name="d4e8679"></a><p class="title"><b>Example&nbsp;74.&nbsp;The "country" record.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:flatRecordType id="countryRec" name="country"&gt;
  &lt;sx:fieldDelimiter value=","/&gt;
  &lt;sx:delimitedField name="code"/&gt;
  &lt;sx:delimitedField name="name"/&gt;
&lt;/sx:flatRecordType&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e8682"></a><p class="title"><b>Example&nbsp;75.&nbsp;Extending the "country" record with a "message" field.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:flatRecordType name="countryDiscard"&gt;
    &lt;sx:fieldDelimiter value=","/&gt;
    &lt;sx:delimitedField name="message"/&gt;
    &lt;sx:flatRecordType ref="countryRec"/&gt;
  &lt;/sx:flatRecordType&gt;

</pre>
<p>The reference to the "country" record above is expanded into the fields of the "country" record.
</p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e8686"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a>
</li><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatRecordTypeChoice"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatRecordTypeChoice
   &#8212; Choose from alternative record definitions
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a></b></p>
</p></div>
<a class="indexterm" name="d4e8703"></a>
<div class="refsection" lang="en"><a name="d4e8705"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8728"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One or more specializations of the abstract <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a> element, 
including <a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a>,
<a class="xref" href="#sx:binaryField" title="sx:binaryField">sx:binaryField</a>, <a class="xref" href="#sx:integerField" title="sx:integerField">sx:integerField</a> and 
  <a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>. If 
positional and delimited fields are mixed, the positional fields should precede 
the delimited fields. 
</p>
  </li><li>
<p>One or more <code class="sgmltag-element">sx:when</code> elements, optionally followed by one <code class="sgmltag-element">sx:otherwise</code> element.
The <code class="sgmltag-element">sx:when</code> elements must have a <code class="sgmltag-attribute">test</code> attribute, an XPath expression that is evaluated
against a document containing the above fields.  The <code class="sgmltag-element">sx:when</code> and <code class="sgmltag-element">sx:otherwise</code> elements must contain
one <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> or <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a> child element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8751"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a>
</li><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFileTrailer"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFileTrailer
   &#8212; Flat file trailer
</p></div>
<a class="indexterm" name="d4e8766"></a>
<div class="refsection" lang="en"><a name="d4e8768"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">lineCount</td><td align="left">No</td><td align="left">Number</td><td align="left">The number of lines in the trailer.</td></tr><tr><td align="left">recordLength</td><td align="left">No</td><td align="left">Integer</td><td align="left">The total length of the header records, including record delimiter, if 
  any.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8795"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>One or more <a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8800"></a><h2>Examples</h2>

<div class="example"><a name="d4e8802"></a><p class="title"><b>Example&nbsp;76.&nbsp;A flat file trailer which contains a record count.</b></p><div class="example-contents">

<p>The trailer declaration below will append a two line trailer to a flat file:
</p>
<div class="itemizedlist"><ul type="disc"><li><p>A blank line, followed by
  </p></li><li><p>Number of records:  &lt;recordCount&gt;
  </p></li></ul></div>
<pre class="programlisting">

  &lt;sx:flatFileTrailer&gt;
    &lt;sx:annotationRecord&gt;&lt;/sx:annotationRecord&gt;
    &lt;sx:flatRecordType ref="trailer"/&gt;
  &lt;/sx:flatFileTrailer&gt;

  &lt;sx:flatRecordType id="trailer" name="trailer"&gt;
    &lt;sx:positionalField name="recordCountLabel" width="19" label="Number of records: "/&gt;
    &lt;sx:positionalField name="recordCount"  width="10" label="{$sx:recordCount}"/&gt;
  &lt;/sx:flatRecordType&gt;

</pre>
<p>
Note the following:
</p><div class="itemizedlist"><ul type="disc"><li><p>In header and trailer sections, the <code class="sgmltag-attribute">label</code> attributes of fields are treated as data values.
  </p></li><li><p>In a <code class="sgmltag-element">sx:positionalField</code> element, the value of the <code class="sgmltag-attribute">label</code> 
  attribute can contain references to parameters, in
  particular to <code class="code">$sx:recordCount</code>, which is a parameter that the file record writer adds after finishing writing records.
  </p></li></ul></div><p>
</p>
</div></div><br class="example-break">
<div class="example"><a name="d4e8821"></a><p class="title"><b>Example&nbsp;77.&nbsp;A flat file trailer which contains size and CRC file signatures.</b></p><div class="example-contents">

<p>The flat file declaration below will append a trailer to a flat file that contains the size in bytes of the flat file body,
followed by the CRC value calculated for the flat file body.
</p>
<pre class="programlisting">

  &lt;sx:flatFile id="sampleFlatFile"&gt;
    &lt;sx:flatFileBody&gt; 
      ...
    &lt;/sx:flatFileBody&gt;
    
    &lt;sx:flatFileSignature recordType="fileSignatures" field="filecrc" method="crc"/&gt;
    &lt;sx:flatFileSignature recordType="fileSignatures" field="filesize" method="size"/&gt;
    &lt;sx:flatFileTrailer&gt;
      &lt;sx:flatRecordType ref="sampleTrailerRecord"/&gt;
    &lt;/sx:flatFileTrailer&gt;
  &lt;/sx:flatFile&gt;

  &lt;sx:flatRecordType id="sampleTrailerRecord" name="fileSignatures"&gt;
    &lt;sx:fieldDelimiter value="|"/&gt;
    &lt;sx:delimitedField name="filesize"/&gt;
    &lt;sx:delimitedField name="filecrc"/&gt;
  &lt;/sx:flatRecordType&gt;

</pre>
<p>
Note the following:
</p>
<div class="itemizedlist"><ul type="disc"><li><p>The <code class="sgmltag-element">sx:flatFile</code> element contains two <code class="sgmltag-element">sx:flatFileSignature</code> elements,
  which define the rules for checking the CRC and size when reading the file, and signing the header or trailer with a CRC and size when writing the file.
  </p></li><li><p>The <code class="sgmltag-element">sx:flatFileSignature</code> element has attributes 
  <code class="sgmltag-attribute">recordType</code> and <code class="sgmltag-attribute">field</code>, which 
  identify where in the header or trailer the signature value belongs.
  </p></li></ul></div>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e8836"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:flatFileWriter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:flatFileWriter
   &#8212; Abstract element standing for any flat file writer
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a></b></p>
</p></div>
<a class="indexterm" name="d4e8847"></a>
<div class="refsection" lang="en"><a name="d4e8849"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8872"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Optionally, a <a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a> element.</li><li>Optionally, a <a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a> element.  If omitted, the file structure defaults to a 
  CSV file format with labels and values reflecting the names and values in the records. </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8881"></a><h2>Examples</h2>

<div class="example"><a name="d4e8883"></a><p class="title"><b>Example&nbsp;78.&nbsp;Example of a flat file record writer.</b></p><div class="example-contents">

<pre class="programlisting">

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e8886"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a>
</li></ul></div>
</div>
</div>
  
<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:integerField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:integerField
   &#8212; Integer field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e8897"></a>
<div class="refsection" lang="en"><a name="d4e8899"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified, it defaults to the end of the previous field.
</td></tr><tr><td align="left">width</td><td align="left">Yes</td><td align="left">number</td><td align="left">The width of the field, which must be 1, 2, 4, or 8.
</td></tr><tr><td align="left">bigEndian</td><td align="left">No</td><td align="left">true|false</td><td align="left">Specifies the byte order, defaults to <code class="code">true</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e8944"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
  Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty 
  string (for writing if there are missing field values.)
  </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e8949"></a><h2>Description</h2>

<p>This element supports reading and writing of integer values encoded as BIG 
  ENDIAN or LITTLE ENDIAN.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e8952"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:mergePhysicalSegments"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:mergePhysicalSegments
   &#8212; Merges a number of physical segments into one logical 
    record.
</p></div>
<a class="indexterm" name="d4e8961"></a>
<div class="refsection" lang="en"><a name="d4e8963"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr><tr><td align="left">segmentLength</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The length of the segment, may be read from a field in the 
  header.</td></tr><tr><td align="left">suppressRDW</td><td align="left">No</td><td align="left">true|false</td><td align="left">Suppress the 4-byte record descriptor word (RDW) from the front of 
  the logical record, defaults to <code class="code">false</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9010"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One <a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a> element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9019"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:vbsFlatRecordType" title="sx:vbsFlatRecordType">sx:vbsFlatRecordType</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:metaRecord"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:metaRecord
   &#8212; Meta record
</p></div>
<a class="indexterm" name="d4e9028"></a>
<div class="refsection" lang="en"><a name="d4e9030"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9047"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:metaRecord</code>, such as <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9052"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a>
</li><li>
<a class="xref" href="#sx:annotationRecord" title="sx:annotationRecord">sx:annotationRecord</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:nameDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:nameDelimiter
   &#8212; Separate a field name and value
</p></div>
<a class="indexterm" name="d4e9063"></a>
<div class="refsection" lang="en"><a name="d4e9065"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The character(s) used to separate name/value pairs.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9088"></a><h2>Content</h2>

<p>Optionally, a <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9092"></a><h2>Description</h2>

<p>
Value of the character(s) used to separate name/value pairs.  
</p>
<p>
The following special encodings may appear in a delimiter value.
</p><div class="itemizedlist"><ul type="disc"><li>\t, to indicate a tab.
</li><li>\r, to indicate a carriage return.
</li><li>\n, to indicate a line feed.
</li></ul></div><p>
</p>
<p>You can also use numerical entity references to specify delimiter values, e.g. &amp;#x09; 
is another way of specifying a tab character.
</p>
<p>
The value of the delimiter may be specified either by a <code class="code">value</code> attribute
or by the <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> content. 
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:packedDecimalField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:packedDecimalField
   &#8212; Packed decimal field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e9110"></a>
<div class="refsection" lang="en"><a name="d4e9112"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified, it defaults to the end of the previous field.
</td></tr><tr><td align="left">width</td><td align="left">No</td><td align="left">number</td><td align="left">The width of the field.  Defaults to the width corresponding to the digitCount.
</td></tr><tr><td align="left">digitCount</td><td align="left">No</td><td align="left">number</td><td align="left">The total number of digits in the packed decimal number.
</td></tr><tr><td align="left">decimalPlaces</td><td align="left">No</td><td align="left">number</td><td align="left">The number of places to the right of the implied decimal.  Defaults to <code class="code">0</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9162"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty string (for writing if there are missing field values.)</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9167"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:nonrepeatingGroup"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:nonrepeatingGroup
   &#8212; A nonrepeating group is a field that contains at most one group of 
    subfields within a segment (an area of a record terminated with a segment 
    delimiter.)
  
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e9178"></a>
<div class="refsection" lang="en"><a name="d4e9180"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the nonrepeating group field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified, it defaults to the end of the previous field.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9214"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
  </li><li>
<p>
A <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> element, or a <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a> element.
</p>
  </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9224"></a><h2>Description</h2>

  <p>
The <a class="xref" href="#sx:segmentDelimiter" title="sx:segmentDelimiter">sx:segmentDelimiter</a>, if not supplied, defaults to the end of the record.
</p>
<p>A nonrepeating group reads at most one record</p>
</div>
<div class="refsection" lang="en"><a name="d4e9229"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:repeatingGroup" title="sx:repeatingGroup">sx:repeatingGroup</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:overpunchField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:overpunchField
   &#8212; Overpunch field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e9240"></a>
<div class="refsection" lang="en"><a name="d4e9242"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified, it defaults to the end of the previous field.
</td></tr><tr><td align="left">width</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The width of the field.
</td></tr><tr><td align="left">decimalPlaces</td><td align="left">No</td><td align="left">number</td><td align="left">The number of places to the right of the implied decimal.  Defaults to <code class="code">0</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9288"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty string (for writing if there are missing field values.)</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9293"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9298"></a><h2>Examples</h2>

<div class="example"><a name="d4e9300"></a><p class="title"><b>Example&nbsp;79.&nbsp;Overpunch field.</b></p><div class="example-contents">

  <p>The input consists of five overpunch fields with field width 5.
  </p>
<pre class="programlisting">

11110111112222}2222J2222K12349
 
</pre>
  <p>The flat file definition is
  </p>
<pre class="programlisting">

  &lt;sx:flatFile id="t:overpunch-file"&gt;
      &lt;sx:recordDelimiter value="!"/&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType&gt;
        &lt;sx:overpunchField name="value1" width="5" decimalPlaces="1"/&gt;
        &lt;sx:overpunchField name="value2" width="5" decimalPlaces="2"/&gt;
        &lt;sx:overpunchField name="value3" width="5" decimalPlaces="3"/&gt;
        &lt;sx:overpunchField name="value4" width="5" decimalPlaces="4"/&gt;
        &lt;sx:overpunchField name="value5" width="5" decimalPlaces="5"/&gt;
      &lt;/sx:flatRecordType&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

</pre>
  <p>
    The output with default record mapping is
  </p>
<pre class="programlisting">

&lt;document&gt;
  &lt;record&gt;
    &lt;value1&gt;1111.0&lt;/value1&gt;
    &lt;value2&gt;111.11&lt;/value2&gt;
    &lt;value3&gt;-22.220&lt;/value3&gt;
    &lt;value4&gt;-2.2221&lt;/value4&gt;
    &lt;value5&gt;-0.22222&lt;/value5&gt;
  &lt;/record&gt;
&lt;/document&gt;
 
</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:positionalField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:positionalField
   &#8212; Positional field
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e9314"></a>
<div class="refsection" lang="en"><a name="d4e9316"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the field.</td></tr><tr><td align="left">label</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A label for the field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left">number</td><td align="left">The one-based starting position of the field in the record.  If it is not specified, it defaults to the end of the previous field.
</td></tr><tr><td align="left">width</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The width of the field.
</td></tr><tr><td align="left">trim</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading and trailing whitespace.  The default is <code class="code">true</code></td></tr><tr><td align="left">trimLeading</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading whitespace.  The default is <code class="code">true</code></td></tr><tr><td align="left">trimTrailing</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim trailing whitespace.  The default is <code class="code">true</code></td></tr><tr><td align="left">justify</td><td align="left">No</td><td align="left">"left","right", or "center"</td><td align="left">The alignment rule used for formatting values into a field of fixed width.  The default is "left".
</td></tr><tr><td align="left">padCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">
The pad character used for formatting values into a field of fixed width, e.g., 
a space or zero.  The default is a space.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9384"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty string (for writing if there are missing field values.)</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9389"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9394"></a><h2>Examples</h2>

<div class="example"><a name="d4e9396"></a><p class="title"><b>Example&nbsp;80.&nbsp;Positional field using start attribute.</b></p><div class="example-contents">

<p>
In the example below, positions one through two are assigned to <code class="code">short-record-type</code>,
and positions one through five are assigned to <code class="code">record-type</code>.  The <code class="code">value</code>
field starts at position six.
</p>
<pre class="programlisting">

   &lt;sx:flatRecordType name="hot"&gt;
     &lt;sx:positionalField name="short-record-type"  width="2"/&gt;
     &lt;sx:positionalField name="record-type" start="1" width="5"/&gt;
     &lt;sx:positionalField name="value" width="7"/&gt;
   &lt;/sx:flatRecordType&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e9403"></a><p class="title"><b>Example&nbsp;81.&nbsp;Variable length positional field.</b></p><div class="example-contents">

<p>
In the example below, the input file contains a variable length field called 
"remarksText".  The field width is specified using the value of its preceding
field, called "remarksSize".
</p>
<pre class="programlisting">

  &lt;sx:flatRecordType name="transaction"&gt;
    &lt;sx:positionalField name="remarksSize" width="4"/&gt;
    &lt;sx:positionalField name="remarksText" width="{remarksSize}"/&gt;
  &lt;/sx:flatRecordType&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordComposition"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordComposition
   &#8212; Deprecated in version 1.1.2, aliased to <a class="xref" href="#sx:combinePhysicalRecords" title="sx:combinePhysicalRecords">sx:combinePhysicalRecords</a>
    
</p></div>
<a class="indexterm" name="d4e9412"></a>
<div class="refsection" lang="en"><a name="d4e9414"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr><tr><td align="left">suppressRDW</td><td align="left">No</td><td align="left">true|false</td><td align="left">Suppress the 4-byte record descriptor word (RDW) from the front of 
  the logical record, defaults to <code class="code">false</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9455"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One <a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a> element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9464"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:compositeFlatRecordType" title="sx:compositeFlatRecordType">sx:compositeFlatRecordType</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:recordDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:recordDelimiter
   &#8212; Separate records
</p></div>
<a class="indexterm" name="d4e9473"></a>
<div class="refsection" lang="en"><a name="d4e9475"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that identifies the beginning of a record.
If omitted, the record begins past the end of the previous record, or the beginning of the file.</td></tr><tr><td align="left">end</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that identifies the end of a record.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Same as <code class="sgmltag-attribute">end</code>.</td></tr><tr><td align="left">continuation</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that indicates a continuation 
  character, which allows a record to be extended onto the next line.</td></tr><tr><td align="left">continuationSequence</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The continuation + delimiter.</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">An escape character used to escape the delimiter.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9528"></a><h2>Content</h2>

<p>Optionally, a <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9532"></a><h2>Description</h2>

<p>
The record delimiter indicates the end of the record.
</p>
<p>
The following special encodings may appear in a record delimiter or continuation 
value.
</p><div class="itemizedlist"><ul type="disc"><li>\t, to indicate a tab.
</li><li>\r, to indicate a carriage return.
</li><li>\n, to indicate a line feed.
</li></ul></div><p>
</p>
<p>You can also use numerical entity references to specify delimiter values, e.g. &amp;#x0A; 
is another way of specifying a line feed character.
</p>
<p>
The value of the delimiter may be specified either by a <code class="code">value</code> attribute
or by the <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> content. 
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:repeatDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:repeatDelimiter
   &#8212; Separate repeating groups within a segment
</p></div>
<a class="indexterm" name="d4e9548"></a>
<div class="refsection" lang="en"><a name="d4e9550"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that identifies the beginning of a segment separated by start-end delimiters.</td></tr><tr><td align="left">end</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that identifies the end of a segment separated by start-end delimiters.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that indicates the end of a segment within a repeating group.</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">An escape character used to escape the delimiter.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9590"></a><h2>Content</h2>

<p>Optionally, a <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9594"></a><h2>Description</h2>

<p>
The repeat delimiter separates segments within a repeating group.
It may be one or more characters in length.  
</p>
<p>
The following special encodings may appear in a delimiter value.
</p><div class="itemizedlist"><ul type="disc"><li>\t, to indicate a tab.
</li><li>\r, to indicate a carriage return.
</li><li>\n, to indicate a line feed.
</li></ul></div><p>
</p>
<p>You can also use numerical entity references to specify delimiter values, e.g. &amp;#x09; 
is another way of specifying a tab character.
</p>
<p>
The value of the delimiter may be specified either by a <code class="code">value</code> attribute
or by the <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> content. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e9606"></a><h2>Notes</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
If you have a value that includes a character that is the same as the delimiter, the value must be enclosed in quotes.
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:repeatingField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:repeatingField
   &#8212; Field repeats
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e9617"></a>
<div class="refsection" lang="en"><a name="d4e9619"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">count</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A fixed number of repeating tagged fields.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9648"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p></li><li><p>Optionally, a <a class="xref" href="#sx:defaultValue" title="sx:defaultValue">sx:defaultValue</a> element, defaults to the empty string (for writing if there are missing field values.)
</p></li><li><p>One <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a> element.
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9660"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordMapping" title="sx:recordMapping">sx:recordMapping</a>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9665"></a><h2>Notes</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
If you have a field value that includes a character that is the same as the quote symbol, you must escape that
character.  For example, if the quote symbol is the default double quotation mark, 
escaped by a second quote symbol, and if your record data is
</p><pre class="programlisting">
"Gun, with Occaisonal Music","""SHARP, FUNNY, VISIONARY"""
</pre><p>
then the values become
</p><pre class="programlisting">
Gun, with Occaisonal Music
"SHARP, FUNNY, VISIONARY"
</pre><p>
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:repeatingNamedField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:repeatingNamedField
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:repeatingField" title="sx:repeatingField">sx:repeatingField</a>
</p></div>
<a class="indexterm" name="d4e9677"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:repeatingGroup"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:repeatingGroup
   &#8212; A repeating group is a field that contains zero or more groups of 
    subfields within a segment (an area of a record terminated with a segment
    delimiter.)  The groups may be separated by <a class="xref" href="#sx:repeatDelimiter" title="sx:repeatDelimiter">sx:repeatDelimiter</a>s,
    or may be of fixed length.
  
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></b></p>
</p></div>
<a class="indexterm" name="d4e9686"></a>
<div class="refsection" lang="en"><a name="d4e9688"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">name</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of the repeating group field.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The (by default) one-based starting position of the field in the record.  
  If it is not specified, it defaults to the end of the previous field.
</td></tr><tr><td align="left">count</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A fixed number of repeating records.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9729"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
  </li><li>
<p>
A <a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a> element, or a <a class="xref" href="#sx:flatRecordTypeChoice" title="sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a> element.
</p>
  </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9739"></a><h2>Description</h2>

<p>If an <a class="xref" href="#sx:repeatDelimiter" title="sx:repeatDelimiter">sx:repeatDelimiter</a> is supplied in the content, or is inherited from an ancestor element 
of the record type, each member of the repeating group is assumed to be separated by the repeat delimiter, and terminated
either by the <a class="xref" href="#sx:segmentDelimiter" title="sx:segmentDelimiter">sx:segmentDelimiter</a>, or earlier by the value of the <code class="sgmltag-attribute">count</code> 
attribute (if supplied.)   The <a class="xref" href="#sx:segmentDelimiter" title="sx:segmentDelimiter">sx:segmentDelimiter</a>, if not supplied, defaults to the end of the record.
</p>
<p>If an <a class="xref" href="#sx:repeatDelimiter" title="sx:repeatDelimiter">sx:repeatDelimiter</a> is neither supplied in the content nor inherited from an ancestor element, 
each member of the repeating group is assumed to follow sequentially, and is read according, up to the value of the
<code class="sgmltag-attribute">count</code> attribute.
</p>
<p>
The difference between a repeating group and a repeating segment is that only a specific composite of fields is repeated, not an entire segment. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e9750"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:repeatingField" title="sx:repeatingField">sx:repeatingField</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:segmentComposition"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:segmentComposition
   &#8212; Deprecated in 1.1.2, aliased to <a class="xref" href="#sx:mergePhysicalSegments" title="sx:mergePhysicalSegments">sx:mergePhysicalSegments</a>
</p></div>
<a class="indexterm" name="d4e9760"></a>
<div class="refsection" lang="en"><a name="d4e9762"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr><tr><td align="left">startTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for start of grouping. Defaults to
  <code class="code">true</code></td></tr><tr><td align="left">endTest</td><td align="left">No</td><td align="left">XPath Boolean Expr</td><td align="left">XPath boolean expression to test for end of grouping.  Defaults to 
  <code class="sgmltag-element">startTest</code>.
</td></tr><tr><td align="left">suppressRDW</td><td align="left">No</td><td align="left">true|false</td><td align="left">Suppress the 4-byte record descriptor word (RDW) from the front of 
  the logical record, defaults to <code class="code">false</code>.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9803"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One <a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a> element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e9812"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:vbsFlatRecordType" title="sx:vbsFlatRecordType">sx:vbsFlatRecordType</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:segmentDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:segmentDelimiter
   &#8212; Separate a record into segments containing repeating groups
</p></div>
<a class="indexterm" name="d4e9821"></a>
<div class="refsection" lang="en"><a name="d4e9823"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">start</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that identifies the beginning of a segment separated by start-end delimiters.</td></tr><tr><td align="left">end</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that identifies the end of a segment separated by start-end delimiters.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that indicates the end of a segment.</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">An escape character used to escape the delimiter.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9863"></a><h2>Content</h2>

<p>Optionally, a <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9867"></a><h2>Description</h2>

<p>
The segment delimiter indicates the end of a repeating group of segments within a record.  
It may be one or more characters in length.  
</p>
<p>
The following special encodings may appear in a delimiter value.
</p><div class="itemizedlist"><ul type="disc"><li>\t, to indicate a tab.
</li><li>\r, to indicate a carriage return.
</li><li>\n, to indicate a line feed.
</li></ul></div><p>
</p>
<p>You can also use numerical entity references to specify delimiter values, e.g. &amp;#x09; 
is another way of specifying a tab character.
</p>
<p>
The value of the delimiter may be specified either by a <code class="code">value</code> attribute
or by the <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> content. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e9879"></a><h2>Notes</h2>

<div class="itemizedlist"><ul type="disc"><li><p>
If you have a value that includes a character that is the same as the delimiter, the value must be enclosed in quotes.
</p></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:separator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:separator
   &#8212; Abstract element standing for any separator
</p></div>
<a class="indexterm" name="d4e9888"></a>
<div class="refsection" lang="en"><a name="d4e9890"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9907"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:separator</code>, such as <a class="xref" href="#sx:whitespaceSeparator" title="sx:whitespaceSeparator">sx:whitespaceSeparator</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9912"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:whitespaceSeparator" title="sx:whitespaceSeparator">sx:whitespaceSeparator</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sizeFlatFileSignature"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sizeFlatFileSignature
   &#8212; Deprecated, replaced by <a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a> with method="size"
</p></div>
<a class="indexterm" name="d4e9922"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:subfieldDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:subfieldDelimiter
   &#8212; Separate values within a field
</p></div>
<a class="indexterm" name="d4e9928"></a>
<div class="refsection" lang="en"><a name="d4e9930"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">value</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A string of one or more characters that indicates the end of a value in a multivalued field.</td></tr><tr><td align="left">escapeCharacter</td><td align="left">No</td><td align="left">Character</td><td align="left">An escape character used to escape the delimiter.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e9958"></a><h2>Content</h2>

<p>Optionally, a <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> element.</p>
</div>
<div class="refsection" lang="en"><a name="d4e9962"></a><h2>Description</h2>

<p>
The subfield delimiter indicates the end of a value in a multivalued delimiter separated field.
</p>
<p>
The following special encodings may appear in a delimiter value.
</p><div class="itemizedlist"><ul type="disc"><li>\t, to indicate a tab.
</li><li>\r, to indicate a carriage return.
</li><li>\n, to indicate a line feed.
</li></ul></div><p>
</p>
<p>You can also use numerical entity references to specify delimiter values, e.g. &amp;#x09; 
is another way of specifying a tab character.
</p>
<p>
The value of the delimiter may be specified either by a <code class="code">value</code> attribute
or by the <a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a> content. 
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:tagDelimiter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:tagDelimiter
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:nameDelimiter" title="sx:nameDelimiter">sx:nameDelimiter</a>
</p></div>
<a class="indexterm" name="d4e9979"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:taggedDelimitedField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:taggedDelimitedField
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:delimitedNamedField" title="sx:delimitedNamedField">sx:delimitedNamedField</a>
</p></div>
</div> 
  
  <div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:taggedFlatRecordField"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:taggedFlatRecordField
   &#8212; Deprecated, aliased to <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a>
</p></div>
  </div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:vbsFlatRecordType"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:vbsFlatRecordType
   &#8212; Variable Block Segment (VBS) record type
</p></div>
<a class="indexterm" name="d4e9995"></a>
<p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:metaRecord" title="sx:metaRecord">sx:metaRecord</a></b></p>
<div class="refsection" lang="en"><a name="d4e9999"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left"><a class="xref" href="#flat-file-option-attributes" title="Flat File Options - Attributes">flat file option attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Standard flat file options, may be overriden in a descendent</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10022"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
<p>
Optionally, <a class="xref" href="#flat-file-option-elements" title="Flat File Options - Elements">flat file option elements</a>.  These apply to the current and descendent elements, if applicable they may be overriden in descendent elements 
</p>
</li><li>
<p>One or more specializations of the abstract <a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a> element, 
including <a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a>,
<a class="xref" href="#sx:binaryField" title="sx:binaryField">sx:binaryField</a>, <a class="xref" href="#sx:integerField" title="sx:integerField">sx:integerField</a> and 
  <a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a>. If 
positional and delimited fields are mixed, the positional fields should precede 
the delimited fields. 
</p>
  </li><li>
<p>One <a class="xref" href="#sx:mergePhysicalSegments" title="sx:mergePhysicalSegments">sx:mergePhysicalSegments</a> element.
</p>
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10038"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a>
</li><li>
<a class="xref" href="#sx:onRecord" title="sx:onRecord">sx:onRecord</a>
</li><li>
<a class="xref" href="#sx:fieldAttributeMap" title="sx:fieldAttributeMap">sx:fieldAttributeMap</a>
</li><li>
<a class="xref" href="#sx:fieldElementMap" title="sx:fieldElementMap">sx:fieldElementMap</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:whitespaceSeparator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:whitespaceSeparator
   &#8212; Separate fields with whitespace
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:separator" title="sx:separator">sx:separator</a></b></p>
</p></div>
<a class="indexterm" name="d4e10055"></a>
<div class="refsection" lang="en"><a name="d4e10057"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10074"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e10077"></a><h2>Description</h2>

<p>
The whitespace separator permits fields or records to be separated by one or more whitespace characters.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10080"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:recordDelimiter" title="sx:recordDelimiter">sx:recordDelimiter</a>
</li><li>
<a class="xref" href="#sx:fieldDelimiter" title="sx:fieldDelimiter">sx:fieldDelimiter</a>
</li><li>
<a class="xref" href="#sx:subfieldDelimiter" title="sx:subfieldDelimiter">sx:subfieldDelimiter</a>
</li></ul></div>
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-sql-module"></a>SQL Elements</h1></div></div><hr></div>

<div class="refentry" lang="en"><a name="sx:customJdbcConnectionPool"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:customJdbcConnectionPool
   &#8212; Custom JDBC connection pool
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a></b></p>
</p></div>
<a class="indexterm" name="d4e10097"></a>
<div class="refsection" lang="en"><a name="d4e10099"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">class</td><td align="left">Yes</td><td align="left">Java class</td><td align="left">The name of a Java class that implements <code class="code">com.servingxml.components.sql.JdbcConnectionPool</code>.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10122"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
Optionally, any number of <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10127"></a><h2>Description</h2>

<p>This element allows you to configure a custom JDBC connection pool by providing an implementation of the
interface
</p><pre class="programlisting">

public interface JdbcConnectionPool {

  Connection getConnection() throws SQLException;

  void releaseConnection(Connection connection);
}

</pre><p>
</p>
<p>
The implementation should have a constructor that takes one argument, a <code class="code">java.util.Properties</code> instance.
There you will find the custom properties you specified with the <a class="xref" href="#sx:property" title="sx:property">sx:property</a> elements.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10134"></a><h2>Example</h2>

<div class="example"><a name="d4e10136"></a><p class="title"><b>Example&nbsp;82.&nbsp;Example of a custom JDBC connection pool.</b></p><div class="example-contents">

<div class="figure"><a name="custom-pool"></a><p class="title"><b>Figure&nbsp;2.&nbsp;Resources script entry</b></p><div class="figure-contents">
  
<pre class="programlisting">

  &lt;sx:customJdbcConnectionPool id="custom-jdbc-pool" class="MyJdbcConnectionPool"&gt;
    &lt;sx:property name="driver" value="oracle.jdbc.driver.OracleDriver"/&gt;
    &lt;sx:property name="databaseUrl" value="jdbc:oracle:thin:@127.0.0.1:1521:dev"/&gt;
    &lt;sx:property name="user" value="scott"/&gt;
    &lt;sx:property name="password" value="spring"/&gt;
  &lt;/sx:customJdbcConnectionPool&gt;

</pre>
</div></div><br class="figure-break">
<div class="figure"><a name="custom-pool-java"></a><p class="title"><b>Figure&nbsp;3.&nbsp;Simple JdbcConnectionPool implementation</b></p><div class="figure-contents">
  
<pre class="programlisting">

public class MyJdbcConnectionPool implements JdbcConnectionPool {

  private final String driver;
  private final String databaseUrl;
  private final String user;
  private final String password;

  public MyJdbcConnectionPool(Properties properties) 
   {
    this.driver = properties.getProperty("driver");
    this.databaseUrl = properties.getProperty("databaseUrl");
    this.user = properties.getProperty("user");
    this.password = properties.getProperty("password");

    if (driver == null) {
      throw new ServingXmlException("driver required");
    }

    try {
      Class.forName(driver);
    } catch (java.lang.ClassNotFoundException e) {
      throw new ServingXmlException("Failed to load jdbc driver class.  " + e.getMessage());
    }

    if (databaseUrl == null) {
      throw new ServingXmlException("databaseUrl required");
    }
    if (user == null) {
      throw new ServingXmlException("user required");
    }
    if (password == null) {
      throw new ServingXmlException("password required");
    }
  }

  public Connection getConnection() throws SQLException {
    Connection connection = DriverManager.getConnection(databaseUrl, user, password);
    return connection;
  }

  public void releaseConnection(Connection connection) {
    try {
      connection.close();
    } catch(Exception e) {
    }
  }
}

</pre>
</div></div><br class="figure-break">
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:jdbcConnectionPool"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:jdbcConnectionPool
   &#8212; Abstract element standing for a JDBC connection pool
</p></div>
<a class="indexterm" name="d4e10148"></a>
<div class="refsection" lang="en"><a name="d4e10150"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference the id of a JDBC connection pool.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10167"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e10170"></a><h2>Description</h2>

<p>This is an abstract element that allows us to refer generically to any specialization of 
<code class="sgmltag-element">sx:jdbcConnectionPool</code>, such as <a class="xref" href="#sx:sqlConnectionPool" title="sx:sqlConnectionPool">sx:sqlConnectionPool</a>.</p>
</div>
<div class="refsection" lang="en"><a name="d4e10175"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10178"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlConnectionPool" title="sx:sqlConnectionPool">sx:sqlConnectionPool</a>
</li><li>
<a class="xref" href="#sx:customJdbcConnectionPool" title="sx:customJdbcConnectionPool">sx:customJdbcConnectionPool</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlBatchWriter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlBatchWriter
   &#8212; SQL batch writer
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a></b></p>
</p></div>
<a class="indexterm" name="d4e10191"></a>
<div class="refsection" lang="en"><a name="d4e10193"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">batchSize</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The batch size.  Defaults to 100.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10216"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>A <a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a> element.</li><li>One <a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10225"></a><h2>Description</h2>
  
  <p>
For bulk inserts, JDBC batches may be expected to take only 10-20% of the time needed for 
default (autocommit) behavior.  There is a DB-dependent limit on the 
number of records in the batch, which is likely related to the size of the 
SQL statement that gets issued on the executeBatch.  There is, however, a rapidly 
diminishing return to the batch size. In general,  50-100 rows per batch will likely achieve 
most of the benefit.  
  </p>
  <p>
Note that some DBMS's (or JDBC drivers) may 
not support JDBC batches.
  </p>
</div>
<div class="refsection" lang="en"><a name="d4e10229"></a><h2>Examples</h2>

</div>
<div class="refsection" lang="en"><a name="d4e10231"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a>
</li><li>
<a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>
</li><li>
<a class="xref" href="#sx:sqlWriter" title="sx:sqlWriter">sx:sqlWriter</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlCommand"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlCommand
   &#8212; Execute a command on the server after opening a connection
</p></div>
<a class="indexterm" name="d4e10244"></a>
<div class="refsection" lang="en"><a name="d4e10246"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10263"></a><h2>Content</h2>

<p>An SQL command.</p>
</div>
<div class="refsection" lang="en"><a name="d4e10266"></a><h2>Examples</h2>

<div class="example"><a name="d4e10268"></a><p class="title"><b>Example&nbsp;83.&nbsp;Example of a SQL command.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:sqlCommand&gt;set forceplan on&lt;/sx:sqlCommand&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlConnectionPool"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlConnectionPool
   &#8212; SQL connection pool
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a></b></p>
</p></div>
<a class="indexterm" name="d4e10277"></a>
<div class="refsection" lang="en"><a name="d4e10279"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">driver</td><td align="left">Yes</td><td align="left">Java class</td><td align="left">The class name of the JDBC driver.</td></tr><tr><td align="left">databaseUrl</td><td align="left">Yes</td><td align="left">URL</td><td align="left">The JDBC database URL.</td></tr><tr><td align="left">user</td><td align="left">No</td><td align="left">String</td><td align="left">The database user name.</td></tr><tr><td align="left">password</td><td align="left">No</td><td align="left">String</td><td align="left">The database password.</td></tr><tr><td align="left">minConnections</td><td align="left">No</td><td align="left">Number</td><td align="left">The minimum number of connections to keep in the pool.  The default is zero.</td></tr><tr><td align="left">maxConnections</td><td align="left">No</td><td align="left">Number</td><td align="left">The maximum number of connections to keep in the pool.  The default is any number.</td></tr><tr><td align="left">testStatement</td><td align="left">No</td><td align="left">String</td><td align="left">A statement to test the liveness of the database before obtaining a connection.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10331"></a><h2>Content</h2>

<p> Optionally, any number of <a class="xref" href="#sx:sqlCommand" title="sx:sqlCommand">sx:sqlCommand</a> elements.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlPrepare"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlPrepare
   &#8212; Prepare SQL statement
</p></div>
<a class="indexterm" name="d4e10339"></a>
<div class="refsection" lang="en"><a name="d4e10341"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10358"></a><h2>Content</h2>

<p>
The content is a SQL insert or update statement.  The statement may have embedded parameter
and field names.  The format for an embedded parameter is {$parameterName}, and for an
embedded field name is {fieldName}.  
</p>
<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10362"></a><h2>Examples</h2>

<div class="example"><a name="d4e10364"></a><p class="title"><b>Example&nbsp;84.&nbsp;Example of a SQL prepare statement.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:sqlUpdate&gt;                                                                                                                        
    &lt;sx:parameter name="employee-no" value="{EMPNO}" type="xs:long"/&gt;
    &lt;sx:parameter name="mgr" value="{MGR}" type="xs:long"/&gt;
    &lt;sx:parameter name="hiredate" value="{HIREDATE}" type="xs:date"/&gt;              
    &lt;sx:parameter name="salary" value="{SAL}" type="xs:decimal"/&gt;              
    &lt;sx:parameter name="commission" value="{COMM}" type="xs:decimal"/&gt;              
    &lt;sx:sqlPrepare&gt;
      INSERT INTO EMP_HISTORY(EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM) 
      VALUES({$employee-no},{NAME},{JOB}, {$mgr}, {$hiredate},  {$salary}, {$commission})
    &lt;/sx:sqlPrepare&gt;
  &lt;/sx:sqlUpdate&gt;

</pre>
<p>
Because the SQL insert executes a prepared statement, values must be
associated with appropriate types.  If the data source is a SQL query source, 
they will already be associated with SQL types, 
and no further action is really necessary.  In the case of other data sources, however,
values by default will be associated with string types, and may need
to be recast in parameter assignments, as shown.
</p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10368"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlWriter" title="sx:sqlWriter">sx:sqlWriter</a>
</li><li>
<a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlQuery"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlQuery
   &#8212; SQL query
</p></div>
<a class="indexterm" name="d4e10379"></a>
<div class="refsection" lang="en"><a name="d4e10381"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The record type of the SQL query.  Defaults to "record"</td></tr><tr><td align="left">trim</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim both leading and trailing whitespace from all returned values.  Defaults to <code class="code">false</code>.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimLeading</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim leading whitespace from all returned values.  Defaults to <code class="code">false</code>.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr><tr><td align="left">trimTrailing</td><td align="left">No</td><td align="left">true|false</td><td align="left">Indicates whether to trim trailing whitespace from all returned values.  Defaults to <code class="code">false</code>.
(For backwards compatability, "yes"/"no" is also supported.)
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10422"></a><h2>Content</h2>

<p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p>
<p>Optionally, but deprecated, a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element,
  to specify escaping of quote symbols in substitution variables.  
The default, if there is no <a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a> element in 
scope, is to escape single quote characters, "'", with two single quote 
characters, "''".  If you need to change the default, use the the configuration 
element 
        <a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a> instead of <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a>. 
</p>.
<p>
The content is a SQL select statement.  The statement may have embedded parameter
and field names.  The format for an embedded parameter is {$parameterName}, and for an
embedded field name is {fieldName}.  Parameter and field values in the current context
will be substituted by name.  Parameter and field references bracketed by quote symbols
will have their values searched for quote symbols, which if found will be escaped.
</p>
<p>
The SQL statement may also contain a sx:choose element.  This allows for the
construction of ad hoc SQL statements based on passed parameters.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10433"></a><h2>Examples</h2>

<div class="example"><a name="d4e10435"></a><p class="title"><b>Example&nbsp;85.&nbsp;Example of a parameterized query with double quote escaping.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:sqlQuery recordType = "employee"&gt;
    &lt;sx:escapeSubstitutions character='"' escapeCharacter='"'/&gt;
    SELECT EMPNO, ENAME AS NAME,JOB FROM EMP 
        WHERE JOB = "{$job}"
  &lt;/sx:sqlQuery&gt;

</pre>
<p>
In this example, we specify the double quote as the quote symbol, to be escaped with two double quotes.
Since the parameter "job" appears within the specified quote symbols, values of "job" will be searched for double quotes,
which if found will be replaced by two double quotes.
</p>
<p>Note that if the <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element is omitted, the default quote symbol is
the single quote, to be escaped with two single quotes.
</p>
</div></div><br class="example-break">
<div class="example"><a name="d4e10441"></a><p class="title"><b>Example&nbsp;86.&nbsp;Example of a parameterized query that resolves into alternate SQL statements.</b></p><div class="example-contents">

<pre class="programlisting">
                                 
    &lt;sx:parameter name="jobList"&gt;
      &lt;sx:toString value="{$job}" separator=","&gt;
        &lt;sx:quoteSymbol character="'" escapeCharacter="'"/&gt;
      &lt;/sx:toString&gt;
    &lt;/sx:parameter&gt;

    &lt;sx:sqlQuery recordType = "employee"&gt;
      SELECT EMPNO, ENAME AS NAME,JOB FROM EMP WHERE 1=1 
      &lt;sx:choose&gt;
        &lt;sx:when test="$jobList"&gt;
          AND JOB IN ({$jobList})
        &lt;/sx:when&gt;
      &lt;/sx:choose&gt;
      ORDER BY JOB,ENAME
    &lt;/sx:sqlQuery&gt;

</pre>
<p>In this example, the parameter "job" may have multiple values.  In the <a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a> instruction,
the multiple values are concatenated into a string of comma-separated, quoted values.  If the
string is non-empty, the query expression resolves into a select statement with an "IN" clause;
otherwise it resolves into a select statement that selects all rows.
</p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10446"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlReader" title="sx:sqlReader">sx:sqlReader</a>
</li><li>
<a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a>
</li><li>
<a class="xref" href="#sx:toString" title="sx:toString">sx:toString</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlReader
   &#8212; SQL record reader
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a></b></p>
</p></div>
<a class="indexterm" name="d4e10461"></a>
<div class="refsection" lang="en"><a name="d4e10463"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10480"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>A <a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a> element.</li><li>A <a class="xref" href="#sx:sqlQuery" title="sx:sqlQuery">sx:sqlQuery</a> element.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10489"></a><h2>Description</h2>
  
<p>Note that data values resulting from a SQL query are mapped to XML Schema types according to the rules given in <a class="xref" href="#jdbc-datatype-mappings" title="Table&nbsp;A.2.&nbsp;Supported JDBC Data Type Mappings">XML Schema types</a>.
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10493"></a><h2>Examples</h2>

<div class="example"><a name="d4e10495"></a><p class="title"><b>Example&nbsp;87.&nbsp;Example of a SQL Record Reader.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"&gt;

  &lt;sx:service id="employees"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:content ref="employees"/&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

  &lt;sx:sqlConnectionPool id="jdbcPool"
                         driver="oracle.jdbc.driver.OracleDriver"
                         databaseUrl="jdbc:oracle:thin:@127.0.0.1:1521:dev"
                         user="scott"
                         password="spring"
                         minConnections="2"
                         testStatement="SELECT * FROM DUAL"/&gt;

  &lt;sx:recordContent id="employees"&gt;
    &lt;sx:sqlReader&gt;
      &lt;sx:sqlConnectionPool ref="jdbcPool"/&gt;
      
      &lt;sx:parameter name="jobList"&gt;
        &lt;sx:toString value="{$job}" separator=","&gt;
          &lt;sx:quoteSymbol character="'" escapeCharacter="'"/&gt;
        &lt;/sx:toString&gt;
      &lt;/sx:parameter&gt;
        
      &lt;sx:sqlQuery recordType = "employee"&gt;
        SELECT EMPNO, ENAME AS NAME,JOB FROM EMP WHERE 1=1
        &lt;sx:choose&gt;
          &lt;sx:when test="$jobList"&gt;
            AND JOB IN ({$jobList})
          &lt;/sx:when&gt;
        &lt;/sx:choose&gt;
        ORDER BY JOB,ENAME
      &lt;/sx:sqlQuery&gt;
    &lt;/sx:sqlReader&gt;
    
    &lt;sx:recordMapping&gt;
      &lt;employees&gt;
        &lt;sx:groupBy fields="JOB"&gt;
          &lt;sx:elementMap element="{JOB}"&gt;
            &lt;sx:onRecord&gt;
              &lt;employee&gt;
                &lt;sx:fieldAttributeMap field="EMPNO" attribute="employee-no"/&gt;
                &lt;sx:fieldElementMap field="NAME" element="name"/&gt;
              &lt;/employee&gt;
            &lt;/sx:onRecord&gt;
          &lt;/sx:elementMap&gt;
        &lt;/sx:groupBy&gt;
      &lt;/employees&gt;
    &lt;/sx:recordMapping&gt;
    
  &lt;/sx:recordContent&gt;

&lt;/sx:resources&gt;

</pre>
<p>
Executing the <code class="code">employees</code> service with two <code class="code">job</code> parameters, like this
</p><pre class="programlisting">

    java -jar dir/servingxml.jar -r resources.xml employees -o output/analysts.txt employees 
        job=ANALYST job=CLERK

</pre><p>
results in the following SQL statement being sent to the Oracle server:
</p><pre class="programlisting">

SELECT EMPNO, ENAME AS NAME,JOB 
  FROM EMP 
  WHERE 1=1 AND JOB IN ('ANALYST','CLERK') 
  ORDER BY JOB,ENAME
</pre><p>
</p>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10503"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a>
</li><li>
<a class="xref" href="#sx:sqlQuery" title="sx:sqlQuery">sx:sqlQuery</a>
</li><li>
<a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlUpdate"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlUpdate
   &#8212; Update or insert rows
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a></b></p>
</p></div>
<a class="indexterm" name="d4e10518"></a>
<div class="refsection" lang="en"><a name="d4e10520"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recordType</td><td align="left">No</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">Apply updates to records of this record type.  Defaults to all 
  records.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10543"></a><h2>Content</h2>

<p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p>
<p>
A <code class="sgmltag-element">sx:sqlUpdate</code> may contain either text with embedded parameters and fields,
which will be evaluated as a SQL statement, or alternatively an <a class="xref" href="#sx:sqlPrepare" title="sx:sqlPrepare">sx:sqlPrepare</a> element,
which will be compiled into a SQL prepared statement.  
</p> 
  <p>Any number of <a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a> elements, 
such as an
  <a class="xref" href="#sx:sqlUpdateDetail" title="sx:sqlUpdateDetail">sx:sqlUpdateDetail</a> element.  The child updates will be part
  of the same transaction as the parent.
  </p>
<p>Optionally, but deprecated, a <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element,
  to specify escaping of quote symbols in substitution variables.  
The default, if there is no <a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a> element in 
scope, is to escape single quote characters, "'", with two single quote 
characters, "''".  If you need to change the default, use the the configuration 
element 
        <a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a> instead of <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a>. 
</p>.
<p>
A text SQL update or insert statement may have embedded parameter
and field names.  The format for an embedded parameter is {$parameterName}, and for an
embedded field name is {fieldName}.  Parameter and field values in the current context
will be substituted by name.  Parameter and field references bracketed by quote symbols
will have their values searched for quote symbols, which if found will be escaped.
</p>
<p>
A text SQL statement may also contain a sx:choose element. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10560"></a><h2>Examples</h2>

<div class="example"><a name="d4e10562"></a><p class="title"><b>Example&nbsp;88.&nbsp;Example of a text SQL update statement.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:sqlUpdate&gt;
  &lt;sx:quoteSymbol character='"' escapeCharacter='"'/&gt;
  UPDATE EMP SET JOB = "{$job}" WHERE EMPNO={$empNo}
&lt;/sx:sqlUpdate&gt;

</pre>
<p>
In this example, we specify the double quote as the quote symbol, to be escaped with two double quotes.
Since the parameter "job" appears within the specified quote symbols, values of "job" will be searched for double quotes,
which if found will be replaced by two double quotes. Values of the parameter "empNo", however, will not be
searched for double quotes.
</p>
<p>Note that if the <a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a> element is omitted, the default quote symbol is
the single quote, to be escaped with two single quotes.
</p>
</div></div><br class="example-break">
<div class="example"><a name="d4e10568"></a><p class="title"><b>Example&nbsp;89.&nbsp;Example of a prepared SQL update statement.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:sqlUpdate&gt;
    &lt;!-- Because the SQL insert executes a prepared statement, values must be
          associated with appropriate types.  
    --&gt;
    &lt;sx:parameter name="employee-no" value="{EMPNO}" type="xs:long"/&gt;
    &lt;sx:parameter name="mgr" value="{MGR}" type="xs:long"/&gt;
    &lt;sx:parameter name="hiredate" value="{HIREDATE}" type="xs:date"/&gt;              
    &lt;sx:parameter name="salary" value="{SAL}" type="xs:decimal"/&gt;              
    &lt;sx:parameter name="commission" value="{COMM}" type="xs:decimal"/&gt;              
    &lt;sx:sqlPrepare&gt;
      INSERT INTO EMP_HISTORY(EMPNO, ENAME, JOB, MGR, HIREDATE, SAL, COMM) 
      VALUES({$employee-no},{NAME},{JOB}, {$mgr}, {$hiredate},  {$salary}, {$commission})
    &lt;/sx:sqlPrepare&gt;
  &lt;/sx:sqlUpdate&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10571"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlWriter" title="sx:sqlWriter">sx:sqlWriter</a>
</li><li>
<a class="xref" href="#sx:quoteSymbol" title="sx:quoteSymbol">sx:quoteSymbol</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlUpdateChoice"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlUpdateChoice
   &#8212; Update based on results of query
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a></b></p>
</p></div>
<a class="indexterm" name="d4e10584"></a>
<div class="refsection" lang="en"><a name="d4e10586"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10603"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.
</p></li><li><p>A <a class="xref" href="#sx:sqlQuery" title="sx:sqlQuery">sx:sqlQuery</a> element.
</p></li><li><p>Optionally, a <code class="sgmltag-element">sx:recordFound</code> element, which contains 
<a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a> elements that will be executed if the 
  query returns rows.
</p></li><li><p>Optionally, a <code class="sgmltag-element">sx:recordNotFound</code> element, which contains 
<a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a> elements that will be executed if the 
  query does not returns rows.
</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10620"></a><h2>Examples</h2>

<div class="example"><a name="d4e10622"></a><p class="title"><b>Example&nbsp;90.&nbsp;Example of a SQL update statement.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;sx:sqlUpdateChoice&gt;
    &lt;sx:sqlQuery&gt;
      SELECT EMPNO FROM EMP_HISTORY WHERE EMPNO = {EMPNO}
    &lt;/sx:sqlQuery&gt;
    &lt;sx:recordNotFound&gt;
      &lt;sx:sqlUpdate&gt;
        INSERT INTO EMP_HISTORY(EMPNO, ENAME) VALUES({EMPNO},'{NAME}')
      &lt;/sx:sqlUpdate&gt;
    &lt;/sx:recordNotFound&gt;
    &lt;sx:recordFound&gt;
      &lt;sx:sqlUpdate&gt;
        UPDATE EMP_HISTORY SET ENAME = '{NAME}' WHERE EMPNO = {EMPNO}
      &lt;/sx:sqlUpdate&gt;
    &lt;/sx:recordFound&gt;
  &lt;/sx:sqlUpdateChoice&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10625"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlWriter" title="sx:sqlWriter">sx:sqlWriter</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlUpdateDatabase"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlUpdateDatabase
   &#8212; Abstract element standing for a SQL update
</p></div>
<a class="indexterm" name="d4e10634"></a>
<div class="refsection" lang="en"><a name="d4e10636"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ref</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">This attribute is used to reference an id.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10653"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e10656"></a><h2>Description</h2>

<p>This is an abstract element that allows you to refer generically to any 
  element supporting add, change, and delete in a SQL database, including 
        <a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>,
<a class="xref" href="#sx:sqlUpdateChoice" title="sx:sqlUpdateChoice">sx:sqlUpdateChoice</a>, and <a class="xref" href="#sx:sqlUpdateDetail" title="sx:sqlUpdateDetail">sx:sqlUpdateDetail</a>. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10662"></a><h2>Examples</h2>

<p>
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10665"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>
</li><li>
<a class="xref" href="#sx:sqlUpdateChoice" title="sx:sqlUpdateChoice">sx:sqlUpdateChoice</a>
</li><li>
<a class="xref" href="#sx:sqlUpdateDetail" title="sx:sqlUpdateDetail">sx:sqlUpdateDetail</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlUpdateDetail"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlUpdateDetail
   &#8212; Update detail rows in one transaction
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a></b></p>
</p></div>
<a class="indexterm" name="d4e10680"></a>
<div class="refsection" lang="en"><a name="d4e10682"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">field</td><td align="left">Yes</td><td align="left"><a class="xref" href="#QName" title="QName">QName</a></td><td align="left">The name of a repeating group field whose subrecords are to be written to 
  the database.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10705"></a><h2>Content</h2>

  <div class="itemizedlist"><ul type="disc"><li><p>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</p></li><li><p>Any number of <a class="xref" href="#sx:sqlUpdateDatabase" title="sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a> 
                                  elements.</p></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10714"></a><h2>Examples</h2>

<div class="example"><a name="d4e10716"></a><p class="title"><b>Example&nbsp;91.&nbsp;Example of a SQL update detail statement.</b></p><div class="example-contents">

  <p>
    Suppose you have a stream of composite records of type "master" that contain 
    a repeating group field named "details" having subrecords of type "detail".
    The XML representation of one of these records might look like this:
  </p>
<pre class="programlisting">

&lt;master&gt;
  &lt;masterId&gt;1&lt;/masterId&gt;
  &lt;name&gt;aName&lt;/name&gt;
  &lt;details&gt;
    &lt;detail&gt;
      &lt;detailId&gt;11&lt;/detailId&gt;
      &lt;date&gt;2008-09-03&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
    &lt;detail&gt;
      &lt;detailId&gt;12&lt;/detailId&gt;
      &lt;date&gt;2008-09-06&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
    &lt;detail&gt;
      &lt;detailId&gt;13&lt;/detailId&gt;
      &lt;date&gt;2008-09-10&lt;/date&gt;
      &lt;type&gt;aType&lt;/type&gt;
    &lt;/detail&gt;
  &lt;/details&gt;
&lt;/master&gt;

</pre>
  <p>
    The SQL writer below inserts the master/detail records into a master table
    and a detail table as a single transaction.
  </p>
<pre class="programlisting">

  &lt;sx:sqlWriter id="masterDetailWriter"&gt;                          
    &lt;sx:sqlConnectionPool ref="jdbcPool"/&gt;
    &lt;sx:sqlUpdate&gt;
        INSERT INTO master(master_id,name) VALUES({masterId},'{name}')
      &lt;sx:sqlUpdateDetail field="details"&gt;
        &lt;sx:sqlUpdate&gt;
          INSERT INTO detail(detail_id,detail_date,detail_type) 
          VALUES({detailId},to_date('{date}','yyyy-mm-dd'),'{type}')
        &lt;/sx:sqlUpdate&gt;
      &lt;/sx:sqlUpdateDetail&gt;
    &lt;/sx:sqlUpdate&gt;
  &lt;/sx:sqlWriter&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10722"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:sqlWriter" title="sx:sqlWriter">sx:sqlWriter</a>
</li><li>
<a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="sx:sqlWriter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  sx:sqlWriter
   &#8212; SQL record writer
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a></b></p>
</p></div>
<a class="indexterm" name="d4e10735"></a>
<div class="refsection" lang="en"><a name="d4e10737"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10754"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>A <a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a> element.</li><li>One or more <a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a> or <a class="xref" href="#sx:sqlUpdateChoice" title="sx:sqlUpdateChoice">sx:sqlUpdateChoice</a> elements.  
The updates are wrapped in a transaction and will either all succeed or all fail.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10764"></a><h2>Examples</h2>

</div>
<div class="refsection" lang="en"><a name="d4e10766"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a>
</li><li>
<a class="xref" href="#sx:sqlUpdate" title="sx:sqlUpdate">sx:sqlUpdate</a>
</li><li>
<a class="xref" href="#sx:recordWriter" title="sx:recordWriter">sx:recordWriter</a>
</li></ul></div>
</div>
</div>
</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="ref-msv-module"></a>SUN Multi Schema Validator Extension</h1></div></div><hr></div>
  <div class="partintro" lang="en"><div></div>
<p>
This section describes the SUN Multi Schema Validator extension elements.
All SUN MSV extension elements require the namespace declaration 
<code class="sgmltag-element">xmlns:msv="http://www.servingxml.com/extensions/msv"</code>
to appear in the resources script.
</p>
  </div>

<div class="refentry" lang="en"><a name="msv:msvFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  msv:msvFilter
   &#8212; Deprecated, replaced by <a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e10787"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="msv:msvRecordFilter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  msv:msvRecordFilter
   &#8212; Deprecated, replaced by <a class="xref" href="#msv:recordValidator" title="msv:recordValidator">msv:recordValidator</a>
</p></div>
<a class="indexterm" name="d4e10794"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="msv:recordValidator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  msv:recordValidator
   &#8212; Validate record with XML schema
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordFilter" title="sx:recordFilter">sx:recordFilter</a></b></p>
</p></div>
<a class="indexterm" name="d4e10802"></a>
<div class="refsection" lang="en"><a name="d4e10804"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10821"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><span>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</span></li><li>
A <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> element, or a <a class="xref" href="#sx:saxSource" title="sx:saxSource">sx:saxSource</a> element,
or an in-lined XML schema document.
  </li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10830"></a><h2>Description</h2>

<p>
This instruction validates individual records as they are read in from a flat file or SQL source, and discards
records when errors are encountered. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10833"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
A <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> element, or a <a class="xref" href="#sx:saxSource" title="sx:saxSource">sx:saxSource</a> element,
or an in-lined XSLT tree.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10839"></a><h2>Examples</h2>

<div class="example"><a name="d4e10841"></a><p class="title"><b>Example&nbsp;92.&nbsp;Validating individual records in the incoming countries flat file.</b></p><div class="example-contents">

<div class="refsection" lang="en"><a name="d4e10843"></a><h3>Resources script</h3>

<pre class="programlisting">

&lt;sx:recordContent id="countries"&gt;
  &lt;sx:recordStream&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countries.csv"/&gt;
      &lt;sx:flatFile ref="countriesFile"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;msv:recordValidator&gt;
      &lt;sx:urlSource url="data/country-record.xsd"/&gt;
    &lt;/msv:recordValidator&gt;
    &lt;sx:discardHandler&gt;
      &lt;sx:log message="{$sx:message}"/&gt;
      &lt;sx:modifyRecord&gt;
        &lt;sx:newField name="message" value="{$sx:message}"/&gt;
      &lt;/sx:modifyRecord&gt;
      &lt;sx:flatFileWriter&gt;
        &lt;sx:fileSink file="output/countryDiscards.csv"/&gt;
        &lt;sx:flatFile ref="discardFile"/&gt;
      &lt;/sx:flatFileWriter&gt;
    &lt;/sx:discardHandler&gt;
  &lt;/sx:recordStream&gt;
  &lt;sx:recordMapping ref="countriesToXmlMapping"/&gt;
&lt;/sx:recordContent&gt;

&lt;sx:flatRecordType id="country" name="country"&gt;
  &lt;sx:fieldDelimiter value=","/&gt;
  &lt;sx:delimitedField name="code"/&gt;
  &lt;sx:delimitedField name="name"/&gt;
&lt;/sx:flatRecordType&gt;

&lt;sx:flatFile id="discardFile"&gt;
  &lt;sx:flatFileBody&gt;
    &lt;sx:flatRecordType name="countryDiscard"&gt;
      &lt;sx:fieldDelimiter value=","/&gt;
      &lt;sx:delimitedField name="message"/&gt;
      &lt;sx:flatRecordType ref="country"/&gt;
    &lt;/sx:flatRecordType&gt;
  &lt;/sx:flatFileBody&gt;
&lt;/sx:flatFile&gt;

</pre>
</div>
<div class="refsection" lang="en"><a name="d4e10846"></a><h3>Schema</h3>

<pre class="programlisting">

&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;

 &lt;!-- This element's name matches the value of the name attribute in the sx:flatRecordType element. --&gt;
 &lt;xs:element name="country" type="CountryType"/&gt;

 &lt;xs:complexType name="CountryType"&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name="code" type="CountryCode"/&gt;
   &lt;xs:element name="name" type="xs:string"/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;

  &lt;xs:simpleType name='CountryCode'&gt;
    &lt;xs:restriction base='xs:string'&gt;
      &lt;xs:length value='3' fixed='true'/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
&lt;/xs:schema&gt;

</pre>
</div>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e10849"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li>
<a class="xref" href="#sx:discardHandler" title="sx:discardHandler">sx:discardHandler</a>
</li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="msv:schemaValidator"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  msv:schemaValidator
   &#8212; Validate XML with schema
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a>, <a class="xref" href="#sx:validator" title="sx:validator">sx:validator</a></b></p>
</p></div>
<a class="indexterm" name="d4e10861"></a>
<div class="refsection" lang="en"><a name="d4e10863"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">message</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A message indicating the error if validation fails, defaults to 
  the message provided by the MSV validator.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10886"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>
A <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> element, or a <a class="xref" href="#sx:saxSource" title="sx:saxSource">sx:saxSource</a> element,
or an in-lined XML schema document.
</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e10892"></a><h2>Description</h2>

<p>
This instruction validates the XML output as it is produced, and will abort processing if an error is encountered. 
</p>
</div>
<div class="refsection" lang="en"><a name="d4e10895"></a><h2>Examples</h2>

<div class="example"><a name="d4e10897"></a><p class="title"><b>Example&nbsp;93.&nbsp;Validating the countries document.</b></p><div class="example-contents">

<div class="refsection" lang="en"><a name="d4e10899"></a><h3>Resources script</h3>

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
              xmlns:msv="http://www.servingxml.com/extensions/msv"&gt;
   
  &lt;sx:service id="countries"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="countries"/&gt; 
        &lt;msv:schemaValidator&gt;
          &lt;sx:urlSource url="data/countries.xsd"/&gt;
        &lt;/msv:schemaValidator&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

  &lt;sx:recordContent id="countries" name="countries"&gt;
    &lt;sx:flatFileReader&gt;
      &lt;sx:urlSource url="data/countries.csv"/&gt;
      &lt;sx:flatFile ref="countriesFile"/&gt;
    &lt;/sx:flatFileReader&gt;
    &lt;sx:recordMapping ref="countriesToXmlMapping"/&gt;
  &lt;/sx:recordContent&gt;

  &lt;sx:flatFile id="countriesFile"&gt;
    &lt;sx:commentStarter value="#"/&gt;
    &lt;sx:flatFileBody&gt;
      &lt;sx:flatRecordType name="country"&gt;
        &lt;sx:fieldDelimiter value=","/&gt;
        &lt;sx:delimitedField name="code"/&gt;
        &lt;sx:delimitedField name="name" trimLeading="true"/&gt;
      &lt;/sx:flatRecordType&gt;
    &lt;/sx:flatFileBody&gt;
  &lt;/sx:flatFile&gt;

  &lt;sx:recordMapping id="countriesToXmlMapping"&gt;
    &lt;countries&gt;
      &lt;sx:onRecord&gt;
        &lt;country&gt;
          &lt;sx:fieldElementMap field="name" element="countryName"/&gt;
          &lt;sx:fieldAttributeMap field="code" attribute="countryCode"/&gt;
        &lt;/country&gt;
      &lt;/sx:onRecord&gt;
    &lt;/countries&gt;
  &lt;/sx:recordMapping&gt;
  
&lt;/sx:resources&gt;

</pre>
</div>
<div class="refsection" lang="en"><a name="d4e10902"></a><h3>Schema</h3>

<pre class="programlisting">

&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;

 &lt;!-- This element's name is the same as that of the root element appearing inside the sx:recordMapping element. --&gt;
 &lt;xs:element name="countries" type="CountriesType"/&gt;

 &lt;xs:complexType name="CountriesType"&gt;
  &lt;xs:sequence&gt;
      &lt;xs:element name="country" type="CountryType" minOccurs="0" maxOccurs="unbounded"/&gt;
  &lt;/xs:sequence&gt;
 &lt;/xs:complexType&gt;

 &lt;xs:complexType name="CountryType"&gt;
  &lt;xs:sequence&gt;
   &lt;xs:element name="countryName" type="xs:string"/&gt;
  &lt;/xs:sequence&gt;
  &lt;xs:attribute name="countryCode" type="CountryCode"/&gt;
 &lt;/xs:complexType&gt;

  &lt;xs:simpleType name='CountryCode'&gt;
    &lt;xs:restriction base='xs:string'&gt;
      &lt;xs:length value='3' fixed='true'/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;
&lt;/xs:schema&gt;

</pre>
</div>
</div></div><br class="example-break">
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="chap-fop-module"></a>Apache FOP Extension</h1></div></div><hr></div>
<div class="partintro" lang="en"><div></div>
<p>
This section describes the Apache FOP extension elements.
All Apache FOP extension elements require the namespace declaration 
<code class="sgmltag-element">xmlns:fop="http://www.servingxml.com/extensions/fop"</code>
to appear in the resources script.
</p>
</div>

<div class="refentry" lang="en"><a name="fop:foEmitter"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  fop:foEmitter
   &#8212; Deprecated, aliased to <a class="xref" href="#fop:foSerializer" title="fop:foSerializer">fop:foSerializer</a>
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e10917"></a>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="fop:foSerializer"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  fop:foSerializer
   &#8212; Apache FOP xsl/fo serializer
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:saxSink" title="sx:saxSink">sx:saxSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e10925"></a>
<div class="refsection" lang="en"><a name="d4e10927"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">mimeType</td><td align="left">No</td><td align="left">string</td><td align="left">The MIME type of the output, which must be a supported <a class="ulink" href="http://www.jeremias-maerki.ch/development/jaxg/javadocs/constant-values.html#org.xml.graphics.helpers.MimeConstants.MIME_PDF" target="_top">FOP MIME type</a>.  Defaults to 
  "application/pdf".</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10950"></a><h2>Content</h2>

<p>None.</p>
</div>
<div class="refsection" lang="en"><a name="d4e10953"></a><h2>Examples</h2>


<div class="example"><a name="d4e10955"></a><p class="title"><b>Example&nbsp;94.&nbsp;Serializing xsl-fo with an Apache FOP serializer to produce pdf.</b></p><div class="example-contents">

<pre class="programlisting"> 
&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
              xmlns:fop="http://www.servingxml.com/extensions/fop"&gt; ...
              
  &lt;sx:service id="pulp"&gt;
    &lt;sx:serialize&gt;
      &lt;fop:foSerializer/&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="myns:pulp"/&gt;
        &lt;sx:xslt ref="novel-fo"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e10958"></a><p class="title"><b>Example&nbsp;95.&nbsp;Serializing xsl-fo with an Apache FOP serializer to produce RTF.</b></p><div class="example-contents">

<pre class="programlisting"> 
&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
              xmlns:fop="http://www.servingxml.com/extensions/fop"&gt; ...
              
  &lt;sx:service id="pulp"&gt;
    &lt;sx:serialize&gt;
      &lt;fop:foSerializer mimeType="application/rtf"/&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="myns:pulp"/&gt;
        &lt;sx:xslt ref="novel-fo"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

</div>


<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="chap-mail-module"></a>Java Mail Extension</h1></div></div><hr></div>
<div class="partintro" lang="en"><div></div>
<p>
This section describes the Java Mail extension elements.
All Java Mail extension elements require the namespace declaration 
<code class="sgmltag-element">xmlns:jm="http://www.servingxml.com/extensions/javamail"</code>
to appear in the resources script.
</p>
</div>

<div class="refentry" lang="en"><a name="jm:attachment"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  jm:attachment
   &#8212; Attachment
</p></div>
<a class="indexterm" name="d4e10970"></a>
<div class="refsection" lang="en"><a name="d4e10972"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">filename</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The name of the attached file.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e10995"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:task" title="sx:task">sx:task</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e11002"></a><h2>Description</h2>

<p>A jm:attachment instruction defines a sequence of content generation, transform, filter and serialization steps
that result in serialized output of some MIME type as an attachment to a message.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="jm:mailAccount"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  jm:mailAccount
   &#8212; Mail account
</p></div>
<a class="indexterm" name="d4e11009"></a>
<div class="refsection" lang="en"><a name="d4e11011"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">smtpHost</td><td align="left">Yes</td><td align="left">host</td><td align="left">The smtp host.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11033"></a><h2>Content</h2>

A <a class="xref" href="#jm:sender" title="jm:sender">jm:sender</a> element.
</div>
<div class="refsection" lang="en"><a name="d4e11036"></a><h2>Examples</h2>

<div class="example"><a name="d4e11038"></a><p class="title"><b>Example&nbsp;96.&nbsp;Defining a mail account.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;jm:mailAccount id="my-account" 
                  smtpHost="changeme"&gt; 
    &lt;jm:sender displayName="changeme" emailAddress="changeme"/&gt;
  &lt;/jm:mailAccount&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="jm:message"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  jm:message
   &#8212; Message
</p></div>
<a class="indexterm" name="d4e11045"></a>
<div class="refsection" lang="en"><a name="d4e11047"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">smtpHost</td><td align="left">Yes</td><td align="left">host</td><td align="left">The smtp host.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11069"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>Optionally, a text body.</li><li>Optionally, any number of <a class="xref" href="#jm:part" title="jm:part">jm:part</a> elements.</li><li>Optionally, any number of <a class="xref" href="#jm:attachment" title="jm:attachment">jm:attachment</a> elements.</li></ul></div><p>itemizedlist&gt;
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="jm:part"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  jm:part
   &#8212; MIME part
</p></div>
<a class="indexterm" name="d4e11082"></a>
<div class="refsection" lang="en"><a name="d4e11084"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">type</td><td align="left">No</td><td align="left">type code</td><td align="left">The type of a part.  The only allowed value is "alternative"</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11106"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>Any number of <a class="xref" href="#sx:task" title="sx:task">sx:task</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e11113"></a><h2>Description</h2>

<p>A jm:part instruction defines a sequence of content generation, transform, filter and serialization steps
that result in serialized output of some MIME type in the body of a message.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="jm:sender"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  jm:sender
   &#8212; Sender
</p></div>
<a class="indexterm" name="d4e11120"></a>
<div class="refsection" lang="en"><a name="d4e11122"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">displayName</td><td align="left">No</td><td align="left">String</td><td align="left">The display name for the owner of the account.</td></tr><tr><td align="left">emailAddess</td><td align="left">Yes</td><td align="left">address</td><td align="left">The email address of the sender.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11149"></a><h2>Content</h2>

<p>None.</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="jm:sendMail"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  jm:sendMail
   &#8212; Send mail
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:task" title="sx:task">sx:task</a>, <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a></b></p>
</p></div>
<a class="indexterm" name="d4e11159"></a>
<div class="refsection" lang="en"><a name="d4e11161"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">subject</td><td align="left">Yes</td><td align="left">String</td><td align="left">The subject of the message.</td></tr><tr><td align="left">to</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A comma separated list of email addresses of recipients.</td></tr><tr><td align="left">cc</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">A comma separated list of email addresses of recipients.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11195"></a><h2>Content</h2>

<p>
</p><div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li><li>A <a class="xref" href="#jm:mailAccount" title="jm:mailAccount">jm:mailAccount</a> element.</li><li>A <a class="xref" href="#jm:message" title="jm:message">jm:message</a> element.</li><li>A <a class="xref" href="#sx:onError" title="sx:onError">sx:onError</a> element.</li></ul></div><p>itemizedlist&gt;
</p>
</div>
<div class="refsection" lang="en"><a name="d4e11207"></a><h2>Examples</h2>

<div class="example"><a name="d4e11209"></a><p class="title"><b>Example&nbsp;97.&nbsp;Mail example.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
              xmlns:fop="http://www.servingxml.com/extensions/fop"
              xmlns:jm="http://www.servingxml.com/extensions/javamail"&gt; ...
    
  &lt;sx:service id="pulp"&gt;                         
      &lt;!--  Our first action is to send an email with the pulp novel as an attachment   --&gt;
      &lt;jm:sendMail subject="test" to="john@yyy.com" cc="linda@zzz.com"&gt;
        &lt;jm:mailAccount ref="myMailAccount"/&gt;
        &lt;jm:message&gt;

          &lt;!-- Put some HTML in the message body --&gt; 
          &lt;jm:part type="alternative"&gt;
            &lt;sx:transform&gt;           
              &lt;sx:document&gt;&lt;xxx/&gt;&lt;/sx:document&gt;
              &lt;sx:xslt ref="welcome/html"/&gt;
            &lt;/sx:transform&gt;        
          &lt;/jm:part&gt;

          &lt;jm:attachment filename="pulp.pdf"&gt;
            &lt;fop:foSerializer/&gt;
            &lt;sx:transform&gt;
               &lt;sx:content ref="pulp"/&gt;
               &lt;sx:xslt ref="novel/fo"/&gt;
            &lt;/sx:transform&gt;
          &lt;/jm:attachment&gt;      
        &lt;/jm:message&gt;
      &lt;/jm:sendMail&gt; 

  &lt;/sx:service&gt;                                                                                                             

</pre>
</div></div><br class="example-break">
</div>
</div>

</div>

 
<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="chap-edtftpj"></a>EDT FTP Extension</h1></div></div><hr></div>
<div class="partintro" lang="en"><div></div>
<p>
This section describes the EDT FTP extension elements.
All EDT FTP extension elements require the namespace declaration 
<code class="sgmltag-element">xmlns:edt="http://www.servingxml.com/extensions/edtftp"</code>
to appear in the resources script.
</p>                              
</div>

<div class="refentry" lang="en"><a name="edt:ftpClient"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  edt:ftpClient
   &#8212; FTP client
</p></div>
<a class="indexterm" name="d4e11221"></a>
<div class="refsection" lang="en"><a name="d4e11223"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">host</td><td align="left">Yes</td><td align="left">String</td><td align="left">Host name.</td></tr><tr><td align="left">port</td><td align="left">No</td><td align="left">Number</td><td align="left">The port number, defaults to 21.</td></tr><tr><td align="left">user</td><td align="left">Yes</td><td align="left">String</td><td align="left">The user name.</td></tr><tr><td align="left">password</td><td align="left">No</td><td align="left">String</td><td align="left">The password.</td></tr><tr><td align="left">remoteSiteCommand</td><td align="left">No</td><td align="left">String</td><td align="left">Optional remote site command.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11265"></a><h2>Content</h2>

<p>
None.
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="edt:ftpDirectoryReader"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  edt:ftpDirectoryReader
   &#8212; FTP directory reader
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:recordReader" title="sx:recordReader">sx:recordReader</a></b></p>
</p></div>
<a class="indexterm" name="d4e11274"></a>
<div class="refsection" lang="en"><a name="d4e11276"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">recurse</td><td align="left">No</td><td align="left">true|false</td><td align="left">Set to <code class="code">true</code> to recurse through a directory tree, <code class="code">false</code> otherwise.  Defaults to "false."
(For backwards compatability, yes/no is also supported.)</td></tr><tr><td align="left">maxItems</td><td align="left">No</td><td align="left">Number</td><td align="left">The maximum number of directory items to read.</td></tr><tr><td align="left">directory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The remote directory.  Defaults to the current directory on the remote server.</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11311"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li>Optionally, any number of <a class="xref" href="#sx:parameter" title="sx:parameter">sx:parameter</a> elements.</li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e11316"></a><h2>Description</h2>

<p>
Each record will have type  
</p><div class="itemizedlist"><ul type="disc"><li><span>directory - if the entry is a directory</span></li><li><span>file - if the entry is a file.</span></li></ul></div><p>
</p>
<p>
Each record will contain the following fields:
</p><div class="itemizedlist"><ul type="disc"><li><span>parentDir - the parent directory, if any (deprecated, use 
            parentDirectory instead)</span></li><li><span>parentDirectory - the parent directory, if any 
            </span></li><li><span>name - the name of the file or directory.</span></li><li><span>lastModified -  the time the file was last modified,
with a lexical representation as defined for <a class="ulink" href="http://www.w3.org/TR/xmlschema-2/#dateTime" target="_top">xs:dateTime</a> of
<a class="ulink" href="http://www.w3.org/TR/xmlschema-2/" target="_top">XML Schema Part 2: Datatypes</a>.
</span></li><li><span>size - the file size, in bytes</span></li><li><span>permissions</span></li><li><span>owner</span></li><li><span>isLink - "yes" or "no"</span></li></ul></div><p>
</p>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="edt:ftpSink"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  edt:ftpSink
   &#8212; FTP sink
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a></b></p>
</p></div>
<a class="indexterm" name="d4e11350"></a>
<div class="refsection" lang="en"><a name="d4e11352"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">transferType</td><td align="left">No</td><td align="left">binary or ascii</td><td align="left">The transfer type, defaults to ascii.</td></tr><tr><td align="left">remoteDir</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Deprecated - use <code class="sgmltag-element">remoteDirectory</code> instead.</td></tr><tr><td align="left">remoteDirectory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The remote directory.</td></tr><tr><td align="left">remoteFile</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">String</td><td align="left">The name of the remote output file, may contain parameters in the form {$myParam}.</td></tr><tr><td align="left">localDir</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The local directory.</td></tr><tr><td align="left">localFile</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The local file to write to before sending it to the remote directory.  Defaults to a timestamped temporary file.</td></tr><tr><td align="left">deleteLocalFile</td><td align="left">No</td><td align="left">true|false</td><td align="left">Delete the local file after processing the remote file.  Defaults to <code class="code">false</code>.
(For backwards compatability, yes/no is also supported.)</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11411"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><span>A <a class="xref" href="#edt:ftpClient" title="edt:ftpClient">edt:ftpClient</a> element.</span></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e11417"></a><h2>Examples</h2>

<div class="example"><a name="d4e11419"></a><p class="title"><b>Example&nbsp;98.&nbsp;Example of FTP file sink.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
              xmlns:edt="http://www.servingxml.com/extensions/edtftp"&gt;
  
  &lt;edt:ftpClient  id="myhost" host="myhost.com" 
          user="anonymous" password="xxx"/&gt;
  
  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:xsltSerializer&gt;
        &lt;edt:ftpSink remoteDirectory="incoming" remoteFile="books.xml"&gt;
          &lt;edt:ftpClient ref="myhost"/&gt;
        &lt;/edt:ftpSink&gt;
      &lt;/sx:xsltSerializer&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
  &lt;sx:document id="books" href="documents/books.xml"/&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e11422"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSink" title="sx:streamSink">sx:streamSink</a>
</span></li><li><span>
<a class="xref" href="#edt:ftpClient" title="edt:ftpClient">edt:ftpClient</a>
</span></li></ul></div>
</div>
</div>

<div class="refentry" lang="en"><div class="refentry.separator"><hr></div><a name="edt:ftpSource"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  edt:ftpSource
   &#8212; FTP source
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a></b></p>
</p></div>
<a class="indexterm" name="d4e11437"></a>
<div class="refsection" lang="en"><a name="d4e11439"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">transferType</td><td align="left">No</td><td align="left">binary or ascii</td><td align="left">The transfer type, defaults to ascii.</td></tr><tr><td align="left">remoteDir</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">Deprecated - use <code class="sgmltag-element">remoteDirectory</code> instead.</td></tr><tr><td align="left">remoteDirectory</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The remote directory.</td></tr><tr><td align="left">remoteFile</td><td align="left">Yes</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The name of the remote input file, may contain parameters in the form {$myParam}.</td></tr><tr><td align="left">localDir</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The local directory.</td></tr><tr><td align="left">localFile</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">The local file to write to before reading its content.  Defaults to a timestamped temporary file.</td></tr><tr><td align="left">deleteLocalFile</td><td align="left">No</td><td align="left">true|false</td><td align="left">Delete the local file after processing the remote file.  Defaults to <code class="code">false</code>.
(For backwards compatability, yes/no is also supported.)</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11498"></a><h2>Content</h2>

<div class="itemizedlist"><ul type="disc"><li><span>A <a class="xref" href="#edt:ftpClient" title="edt:ftpClient">edt:ftpClient</a> element.</span></li></ul></div>
</div>
<div class="refsection" lang="en"><a name="d4e11504"></a><h2>Examples</h2>

<div class="example"><a name="d4e11506"></a><p class="title"><b>Example&nbsp;99.&nbsp;Example of FTP file source.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:resources xmlns:sx="http://www.servingxml.com/core"
              xmlns:edt="http://www.servingxml.com/extensions/edtftp"&gt;
  
  &lt;edt:ftpClient  id="myhost" host="myhost.com" 
          user="anonymous" password="xxx"/&gt;
  
  &lt;sx:service id="books"&gt;
    &lt;sx:serialize&gt;
      &lt;sx:transform&gt;
        &lt;sx:content ref="books"/&gt;
      &lt;/sx:transform&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;
  
  &lt;sx:document id="books" href="documents/books.xml"&gt;
      &lt;edt:ftpSource remoteDirectory="incoming" remoteFile="books.xml"&gt;
          &lt;edt:ftpClient ref="myhost"/&gt;
      &lt;/edt:ftpSource&gt;
&lt;/sx:document&gt;
  
&lt;/sx:resources&gt;

</pre>
</div></div><br class="example-break">
</div>
<div class="refsection" lang="en"><a name="d4e11509"></a><h2>See also</h2>

<div class="itemizedlist"><ul type="disc"><li><span>
<a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a>
</span></li><li><span>
<a class="xref" href="#edt:ftpClient" title="edt:ftpClient">edt:ftpClient</a>
</span></li></ul></div>
</div>
</div>
</div>

 
<div class="reference" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="chap-saxon"></a>Saxon XQuery Extension</h1></div></div><hr></div>
<div class="partintro" lang="en"><div></div>
<p>
This section describes the Saxon XQuery extension element. All Saxon extension
elements require the namespace declaration 
<code class="sgmltag-element">xmlns:saxon="http://www.servingxml.com/extensions/saxon"</code> to 
appear in the resources script.
</p>                              
</div>

<div class="refentry" lang="en"><a name="saxon:xquery"></a><div class="titlepage"></div>
<div class="refnamediv"><h2>Name</h2><p>
  saxon:xquery
   &#8212; Saxon 9 xquery processor
  <p><b>&nbsp;&nbsp;&#9492;&nbsp;<a class="xref" href="#sx:content" title="sx:content">sx:content</a></b></p>
</p></div>
<a class="indexterm" name="d4e11529"></a>
<div class="refsection" lang="en"><a name="d4e11531"></a><h2>Attributes</h2>

<div class="informaltable">
<table border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Name</th><th align="left">Required</th><th align="left">Value</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#idref-attributes" title="id ref attributes">idref-attributes</a></td><td align="left">No</td><td align="left">&nbsp;</td><td align="left">Common id ref attributes.</td></tr><tr><td align="left">documentBase</td><td align="left">No</td><td align="left"><a class="xref" href="#SubstitutionExpr" title="SubstitutionExpr">SubstitutionExpr</a></td><td align="left">This attribute is used to explicitly set the the static 
      context of the query.  The base can be relative,
  in which case it is resolved relative to xml:base, if in scope, or otherwise
  the location of the resources script.
</td></tr></tbody></table>
</div>
</div>
<div class="refsection" lang="en"><a name="d4e11554"></a><h2>Content</h2>

  <div class="itemizedlist"><ul type="disc"><li><p>
Optionally, an <a class="xref" href="#sx:content" title="sx:content">sx:content</a> specialization, such as a <a class="xref" href="#sx:document" title="sx:document">sx:document</a>, <a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> 
or <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> element, to specify the initial context item.  
</p></li><li>
    <p>Either an <a class="xref" href="#sx:streamSource" title="sx:streamSource">sx:streamSource</a> element to load the 
      query, or an <a class="xref" href="#sx:stringable" title="sx:stringable">sx:stringable</a> element to specify 
      the query inline (usually a <a class="xref" href="#sx:preserveMarkup" title="sx:preserveMarkup">sx:preserveMarkup</a> element.)
    </p>
    </li></ul></div>
</div>
  <div class="refsection" lang="en"><a name="d4e11568"></a><h2>Description</h2>
    
    <p>The <code class="sgmltag-element">saxon:xquery</code> element wraps the Saxon XQuery
      processor.
    </p>
    <p>
Prefix declarations appearing in the
      <code class="sgmltag-element">saxon:xquery</code> element will form part of the static 
      context of the query, but they will not be copied into result trees unless 
      the prefix is actually used in an element or attribute name.  These 
      declarations will be overridden by declarations
that appear in the query prolog.
    </p>
    <p>The attribute <code class="sgmltag-element">documentBase</code> can be used to set the 
      static base URI for the query, defaults to the                                    
      <code class="sgmltag-element">xml:base</code> in scope, or if there is none, to the location 
      of the resources file.
    </p>
  </div>
<div class="refsection" lang="en"><a name="d4e11577"></a><h2>Examples</h2>

<div class="example"><a name="d4e11579"></a><p class="title"><b>Example&nbsp;100.&nbsp;XQuery example.</b></p><div class="example-contents">

<pre class="programlisting">

  &lt;!-- This is "TestF" in the Saxon sample file XQJExamples.java --&gt;

&lt;sx:service id="test1"&gt;
  &lt;sx:serialize &gt; 
    &lt;sx:transform&gt;
      &lt;saxon:xquery&gt; 
        &lt;sx:preserveMarkup&gt; 
          document { &lt;a xmlns='http://a/uri' z:in='out'
                       xmlns:z='http://z/uri'&gt;&lt;b&gt;{2+2}&lt;/b&gt;&lt;/a&gt; }
        &lt;/sx:preserveMarkup&gt;
      &lt;/saxon:xquery&gt;
    &lt;/sx:transform&gt;
  &lt;/sx:serialize&gt;
&lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e11582"></a><p class="title"><b>Example&nbsp;101.&nbsp;XQuery example.</b></p><div class="example-contents">

<pre class="programlisting">

&lt;sx:service id="test2"&gt;
  &lt;sx:serialize&gt; 
    &lt;sx:transform&gt;
      &lt;saxon:xquery xmlns:myns="http://mycompany.com/mynames/"&gt; 
        &lt;sx:document&gt;
          &lt;sx:fileSource file="data/books.xml"/&gt;
        &lt;/sx:document&gt;
        &lt;sx:preserveMarkup&gt; 
          &lt;copy&gt;{//myns:book[1]}&lt;/copy&gt;
        &lt;/sx:preserveMarkup&gt;
      &lt;/saxon:xquery&gt;
    &lt;/sx:transform&gt;
  &lt;/sx:serialize&gt;
&lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
<div class="example"><a name="d4e11585"></a><p class="title"><b>Example&nbsp;102.&nbsp;Initializing parameters from an XML file.</b></p><div class="example-contents">

  <p>
    In this example, parameter values come from an XML file,
  </p>
  <pre class="programlisting">

&lt;parameters&gt;
  &lt;validate&gt;yes&lt;/validate&gt;
&lt;/parameters&gt;

</pre>
  <p>The parameter declaration below initializes the parameter
    <code class="code">validate</code> with an XQuery FLWOR expression.
  </p>
<pre class="programlisting">

  &lt;sx:service id="countries"&gt;
    &lt;sx:parameter name="validate"&gt;
      &lt;saxon:xquery&gt;
        &lt;sx:toString&gt;doc('data/parameters.xml')/parameters/validate
        &lt;/sx:toString&gt;
      &lt;/saxon:xquery&gt;
    &lt;/sx:parameter&gt;

    &lt;sx:serialize&gt;
      &lt;sx:choose&gt;
        &lt;sx:when test="$validate='yes'"&gt;
          &lt;sx:transform&gt;
            &lt;sx:content ref="countries"/&gt;
            &lt;msv:schemaValidator&gt;
              &lt;sx:urlSource url="data/countries.xsd"/&gt;
            &lt;/msv:schemaValidator&gt;
          &lt;/sx:transform&gt;
        &lt;/sx:when&gt;
        &lt;sx:otherwise&gt;
          &lt;sx:transform&gt;
            &lt;sx:content ref="countries"/&gt;
          &lt;/sx:transform&gt;
        &lt;/sx:otherwise&gt;
      &lt;/sx:choose&gt;
    &lt;/sx:serialize&gt;
  &lt;/sx:service&gt;

</pre>
</div></div><br class="example-break">
</div>
</div>
</div>


    

<div class="glossary"><div class="titlepage"><div><div><h2 class="title"><a name="d4e11592"></a>Glossary</h2></div></div></div><dl><dt><a name="csv"></a>CSV</dt><dd><p>
Comma separated values (CSV).
</p></dd><dt><a name="mimeType"></a>Mime Type</dt><dd><p>
The Multipurpose Internet Mail Extension (MIME) type, which identifies the type of document.
</p></dd><dt><a name="NameTest"></a>NameTest</dt><dd><p>
A qName, or a wildcard (*),or a space separated list of qNames. 
</p></dd><dt><a name="NCName"></a>NCName</dt><dd><p>
NCName stands for "no colon name."  An example is "books."
</p></dd><dt><a name="QName"></a>QName</dt><dd><p>
QName stands for "qualified name."  An example is "myns:books."
</p></dd><dt><a name="Regex"></a>Regex</dt><dd><p>
Regular expression.
</p></dd><dt><a name="SAXPath"></a>SAXPath</dt><dd><p>
A <code class="code">SAXPath</code> pattern is an expression that matches on a stack of SAX events as they flow through a SAX filter.
The syntax for a <code class="code">SAXPath</code> is a restricted XSLT match pattern, 
including the parts that make sense for filtering on the SAX <code class="code">startElement</code> event.
The match pattern is evaluated against the path of elements leading to the current element, 
the attributes of the elements, and any parameters in scope.
</p><p>
A SAXPath pattern consists of a series of one or more elements separated by "/" or  "//".
An absolute SAXPath pattern begins with a "/" or "//", and is matched against the entire path of elements.  
A relative SAXPath pattern is matched against a portion of the path that ends at the current element.
Each matched path is assigned a position, starting with 1.
</p><p>
A "//" expands to match any series of elements separating two matched path entries.  The wildcard "*" may be used to match against any element.  
</p><p>
Examples of <a class="xref" href="#SAXPath" title="SAXPath">SAXPath</a> expressions.
</p><div class="itemizedlist"><ul type="disc"><li><p><code class="code">/myns:books/myns:book</code> matches on all <code class="sgmltag-element">myns:book</code> child elements of
the root element <code class="sgmltag-element">myns:books</code>.
</p></li><li><p><code class="code">/myns:books/myns:book[1]</code> matches on the first <code class="sgmltag-element">myns:book</code> child element of
the root element <code class="sgmltag-element">myns:books</code>.
</p></li><li><p><code class="code">/myns:books/myns:book[2]</code> matches on the second <code class="sgmltag-element">myns:book</code> child element of
the root element <code class="sgmltag-element">myns:books</code>.
</p></li><li><p><code class="code">myns:book[@price=10.50]</code> matches on all <code class="sgmltag-element">myns:book</code> elements that
have an attribute <code class="sgmltag-attribute">price</code> with value <code class="code">10.5</code>.
</p></li><li><p><code class="sgmltag-element">myns:title</code> matches on all <code class="sgmltag-element">myns:title</code> elements</p></li><li><p><code class="sgmltag-element">//myns:title</code> matches on all <code class="sgmltag-element">myns:title</code> elements</p></li><li><p><code class="sgmltag-element">/myns:books/*/myns:author</code> matches on all <code class="sgmltag-element">myns:author</code> grandchild elements
of the root element <code class="sgmltag-element">myns:books</code></p></li><li><p><code class="code">product[@type='SWAP']/leg</code> matches on all <code class="sgmltag-element">leg</code> child elements
of <code class="sgmltag-element">product</code> parent elements that have an attribute <code class="sgmltag-attribute">type</code> with value <code class="code">SWAP</code>.
</p></li><li><p><code class="code">product[@type='SWAP']/leg[@side="PAY"]</code> matches on all <code class="sgmltag-element">leg</code> elements
that have an attribute <code class="sgmltag-attribute">side</code> with value <code class="code">PAY</code> 
and a parent element <code class="sgmltag-element">product</code> that has an attribute <code class="sgmltag-attribute">type</code> with value <code class="code">SWAP</code>.
</p></li></ul></div><p>
Predicates that a path entry must satisfy are appended to the entry with square brackets, for example,
</p><pre class="programlisting">
  product[@type='SWAP' and $selection='SWAP']
</pre><p>
Predicates may refer to attributes of the associated element, any parameters in scope, string literals, or numerical constants.
The supported binary operators are as follows.
</p><div class="table"><a name="d4e11682"></a><p class="title"><b>Table&nbsp;1.&nbsp;Binary operators.</b></p><div class="table-contents">
  
<table summary="Binary operators." border="1"><colgroup><col><col></colgroup><thead><tr><th>Precedence</th><th>Operator</th></tr></thead><tbody><tr><td>0
</td><td>or
</td></tr><tr><td>1
</td><td>and
</td></tr><tr><td>2
</td><td>=,!=,&lt;,&lt;,=,&gt;,&gt;=
</td></tr></tbody></table>
</div></div><br class="table-break"><p>
Expressions may be grouped inside parenthesis to override the default operator precedence, for example
</p><pre class="programlisting">
  product[(@type='SWAP' or @type='CDS' or @type='TRS') and $selection='SWAP']
</pre></dd><dt><a name="SubstitutionExpr"></a>SubstitutionExpr</dt><dd><p>
A string value that may contain one or more parameters enclosed in curly braces, e.g. "{$my-param}.xml"
and in contexts allowing a record, one or more fields in curly braces, e.g. "{my-field}"</p></dd><dt><a name="URI"></a>Uniform Resource Identifier</dt><dd><p>
A short string that stands for the name or address of a resource.
</p></dd></dl></div>

 
<div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="app-datatype-mappings"></a>Appendix&nbsp;A.&nbsp;Data Type Mappings</h2></div></div></div>
<div class="section" lang="en"><div class="titlepage"></div>
<div class="table"><a name="xml-schema-types"></a><p class="title"><b>Table&nbsp;A.1.&nbsp;Supported XML Schema Types</b></p><div class="table-contents">
<table summary="Supported XML Schema Types" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">&nbsp;</th><th align="left">XML Schema Type</th></tr></thead><tbody><tr><td align="left">Character types</td><td align="left">xs:string</td></tr><tr><td align="left">Numeric types</td><td align="left">xs:byte</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:integer</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:long</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:float</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:double</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:decimal</td></tr><tr><td align="left">Date types</td><td align="left">xs:dateTime</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:date</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:time</td></tr><tr><td align="left">Bit data types</td><td align="left">xs:boolean</td></tr><tr><td align="left">&nbsp;</td><td align="left">xs:hexBinary</td></tr></tbody></table>
</div></div><br class="table-break">
</div>
<div class="section" lang="en"><div class="titlepage"></div>
<div class="table"><a name="jdbc-datatype-mappings"></a><p class="title"><b>Table&nbsp;A.2.&nbsp;Supported JDBC Data Type Mappings</b></p><div class="table-contents">
<table summary="Supported JDBC Data Type Mappings" border="1"><colgroup><col><col><col></colgroup><thead><tr><th align="left">&nbsp;</th><th align="left">JBC Data Type</th><th align="left">XML Schema Type</th></tr></thead><tbody><tr><td align="left">Character types</td><td align="left">CHAR</td><td align="left">xs:string</td></tr><tr><td align="left">&nbsp;</td><td align="left">VARCHAR</td><td align="left">xs:string</td></tr><tr><td align="left">&nbsp;</td><td align="left">LONGVARCHAR</td><td align="left">xs:string</td></tr><tr><td align="left">&nbsp;</td><td align="left">CLOB</td><td align="left">xs:string</td></tr><tr><td align="left">Numeric types</td><td align="left">TINYINT</td><td align="left">xs:byte</td></tr><tr><td align="left">&nbsp;</td><td align="left">SMALLINT</td><td align="left">xs:short</td></tr><tr><td align="left">&nbsp;</td><td align="left">INTEGER</td><td align="left">xs:integer</td></tr><tr><td align="left">&nbsp;</td><td align="left">BIGINT</td><td align="left">xs:long</td></tr><tr><td align="left">&nbsp;</td><td align="left">BIGINT</td><td align="left">xs:long</td></tr><tr><td align="left">&nbsp;</td><td align="left">FLOAT</td><td align="left">xs:float</td></tr><tr><td align="left">&nbsp;</td><td align="left">DOUBLE</td><td align="left">xs:double</td></tr><tr><td align="left">&nbsp;</td><td align="left">BIGINT</td><td align="left">xs:long</td></tr><tr><td align="left">&nbsp;</td><td align="left">DECIMAL</td><td align="left">xs:decimal</td></tr><tr><td align="left">&nbsp;</td><td align="left">NUMERIC</td><td align="left">xs:decimal</td></tr><tr><td align="left">Date types</td><td align="left">TIMESTAMP</td><td align="left">xs:dateTime</td></tr><tr><td align="left">&nbsp;</td><td align="left">DATE</td><td align="left">xs:date</td></tr><tr><td align="left">&nbsp;</td><td align="left">TIME</td><td align="left">xs:time</td></tr><tr><td align="left">Bit data types</td><td align="left">BIT</td><td align="left">xs:boolean</td></tr><tr><td align="left">&nbsp;</td><td align="left">BINARY</td><td align="left">xs:hexBinary</td></tr><tr><td align="left">&nbsp;</td><td align="left">VARBINARY</td><td align="left">xs:hexBinary</td></tr><tr><td align="left">&nbsp;</td><td align="left">LONGVARBINARY</td><td align="left">xs:hexBinary</td></tr></tbody></table>
</div></div><br class="table-break">
</div>

</div>
 
<div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="app-deprecated"></a>Appendix&nbsp;B.&nbsp;Deprecated Elements and Attributes</h2></div></div></div>
<div class="section" lang="en"><div class="titlepage"></div>
<p>
</p>
<div class="table"><a name="d4e11854"></a><p class="title"><b>Table&nbsp;B.1.&nbsp;Deprecated and removed elements</b></p><div class="table-contents">
<table summary="Deprecated and removed elements" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Element</th><th align="left">Change</th><th align="left">Version changed</th><th align="left">Replace with</th><th align="left">Comment</th></tr></thead><tbody><tr><td align="left">sx:composeRecord</td><td align="left">Deprecated</td><td align="left">1.1.2</td><td align="left"><a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:decomposeRecord</td><td align="left">Deprecated</td><td align="left">1.1.2</td><td align="left"><a class="xref" href="#sx:splitRecord" title="sx:splitRecord">sx:splitRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:recordComposition</td><td align="left">Deprecated</td><td align="left">1.1.2</td><td align="left"><a class="xref" href="#sx:combinePhysicalRecords" title="sx:combinePhysicalRecords">sx:combinePhysicalRecords</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:segmentConcatenation</td><td align="left">Deprecated</td><td align="left">1.1.2</td><td align="left"><a class="xref" href="#sx:mergePhysicalSegments" title="sx:mergePhysicalSegments">sx:mergePhysicalSegments</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:repeatingSegment</td><td align="left">Removed</td><td align="left">1.2.0</td><td align="left"><a class="xref" href="#sx:repeatingGroup" title="sx:repeatingGroup">sx:repeatingGroup</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:replaceRecordFilter</td><td align="left">Deprecated</td><td align="left">1.0.2</td><td align="left"><a class="xref" href="#sx:replaceRecord" title="sx:replaceRecord">sx:replaceRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:defaultFieldMapping</td><td align="left">Deprecated</td><td align="left">1.0.0</td><td align="left"><a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:escapeVariables</td><td align="left">Deprecated</td><td align="left">1.0.0</td><td align="left"><a class="xref" href="#sx:escapeSubstitutions" title="sx:escapeSubstitutions">sx:escapeSubstitutions</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:spannedFlatRecordType</td><td align="left">Deprecated</td><td align="left">1.0.0</td><td align="left"><a class="xref" href="#sx:vbsFlatRecordType" title="sx:vbsFlatRecordType">sx:vbsFlatRecordType</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:xmlRecordReader</td><td align="left">Deprecated</td><td align="left">1.0.0</td><td align="left"><a class="xref" href="#sx:subtreeRecordReader" title="sx:subtreeRecordReader">sx:subtreeRecordReader</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:validateRecord</td><td align="left">Deprecated</td><td align="left">1.0.0</td><td align="left"><a class="xref" href="#sx:recordValidator" title="sx:recordValidator">sx:recordValidator</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:validateField</td><td align="left">Deprecated</td><td align="left">1.0.0</td><td align="left"><a class="xref" href="#sx:fieldValidator" title="sx:fieldValidator">sx:fieldValidator</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:insertContent</td><td align="left">Deprecated</td><td align="left">0.9.3</td><td align="left"><a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:segmentMapping</td><td align="left">Deprecated</td><td align="left">0.9.3</td><td align="left"><a class="xref" href="#sx:subrecordMapping" title="sx:subrecordMapping">sx:subrecordMapping</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:replace</td><td align="left">Deprecated</td><td align="left">0.9.2</td><td align="left"><a class="xref" href="#sx:findAndReplace" title="sx:findAndReplace">sx:findAndReplace</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:taggedFlatRecordField</td><td align="left">Removed</td><td align="left">0.9.0</td><td align="left"><a class="xref" href="#sx:flatRecordField" title="sx:flatRecordField">sx:flatRecordField</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:tagDelimiter</td><td align="left">Deprecated</td><td align="left">0.9.0</td><td align="left"><a class="xref" href="#sx:nameDelimiter" title="sx:nameDelimiter">sx:nameDelimiter</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:taggedDelimitedField</td><td align="left">Deprecated</td><td align="left">0.9.0</td><td align="left"><a class="xref" href="#sx:delimitedNamedField" title="sx:delimitedNamedField">sx:delimitedNamedField</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:repeatingTaggedField</td><td align="left">Deprecated</td><td align="left">0.9.0</td><td align="left"><a class="xref" href="#sx:repeatingField" title="sx:repeatingField">sx:repeatingField</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:repeatingSegment</td><td align="left">Deprecated</td><td align="left">0.8.4</td><td align="left"><a class="xref" href="#sx:repeatingGroup" title="sx:repeatingGroup">sx:repeatingGroup</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:aggregateRecord</td><td align="left">Deprecated</td><td align="left">0.8.3</td><td align="left"><a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:recordAggregator</td><td align="left">Deprecated</td><td align="left">0.8.2</td><td align="left"><a class="xref" href="#sx:combineRecords" title="sx:combineRecords">sx:combineRecords</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:subtreeRecordMap</td><td align="left">Deprecated</td><td align="left">0.8.1</td><td align="left"><a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentFragment</td><td align="left">Deprecated</td><td align="left">0.8.1</td><td align="left"><a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:removeEmptyElementFilter</td><td align="left">Deprecated</td><td align="left">0.8.0</td><td align="left"><a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:aggregate</td><td align="left">Deprecated</td><td align="left">0.8.1</td><td align="left"><a class="xref" href="#sx:nestedContent" title="sx:nestedContent">sx:nestedContent</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:recordTest</td><td align="left">Deprecated</td><td align="left">0.8.0</td><td align="left"><a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:regexFieldCriteria</td><td align="left">Deprecated</td><td align="left">0.8.0</td><td align="left"><a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:startGroup</td><td align="left">Deprecated</td><td align="left">0.6.5</td><td align="left"><code class="sgmltag-attribute">startTest</code></td><td align="left">The <code class="sgmltag-attribute">test</code> attribute of <code class="sgmltag-element">sx:startGroup"</code> 
has the same meaning as the <code class="sgmltag-attribute">startTest</code> attribute
attribute of <a class="xref" href="#sx:innerGroup" title="sx:innerGroup">sx:innerGroup</a> and <a class="xref" href="#sx:outerGroup" title="sx:outerGroup">sx:outerGroup</a> .
When converting, this value remains the same.</td></tr><tr><td align="left">sx:endGroup</td><td align="left">Deprecated</td><td align="left">0.6.5</td><td align="left"><code class="sgmltag-attribute">endTest</code> attribute</td><td align="left">The <code class="sgmltag-attribute">test</code> attribute of <code class="sgmltag-element">sx:endGroup</code> is applied to the "current" record, 
and identifies the last record (inclusive) of a group.  Consequently, it usually needs to test the "next" record.  The <code class="sgmltag-attribute">endTest</code>
attribute, by contrast, is applied to the "next" record.  When converting, a test against the "current" record must be changed 
to a test against the "previous" record, and a test against the "next" record must be changed to a test against the "current" record.</td></tr><tr><td align="left">msv:msvFilter</td><td align="left">Deprecated</td><td align="left">0.6.4</td><td align="left"><a class="xref" href="#msv:schemaValidator" title="msv:schemaValidator">msv:schemaValidator</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:discardFilter</td><td align="left">Deprecated</td><td align="left">0.6.2</td><td align="left"><a class="xref" href="#sx:discardHandler" title="sx:discardHandler">sx:discardHandler</a></td><td align="left"><code class="sgmltag-element">sx:discardFilter</code> came before a sequence of filters and writers; 
<code class="sgmltag-element">sx:discardHandler</code> comes after a sequence of filters and writers</td></tr><tr><td align="left">sx:date</td><td align="left">Deprecated</td><td align="left">0.6.1</td><td align="left"><a class="xref" href="#sx:currentDateTime" title="sx:currentDateTime">sx:currentDateTime</a> and <a class="xref" href="#sx:formatDateTime" title="sx:formatDateTime">sx:formatDateTime</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:xmlEmitter</td><td align="left">Deprecated</td><td align="left">0.6.1</td><td align="left"><a class="xref" href="#sx:xsltSerializer" title="sx:xsltSerializer">sx:xsltSerializer</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:customEmitter</td><td align="left">Deprecated</td><td align="left">0.6.1</td><td align="left"><a class="xref" href="#sx:customSerializer" title="sx:customSerializer">sx:customSerializer</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">fop:foEmitter</td><td align="left">Removed</td><td align="left">0.6.1</td><td align="left"><a class="xref" href="#fop:foSerializer" title="fop:foSerializer">fop:foSerializer</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:commentSymbol</td><td align="left">Deprecated</td><td align="left">0.6.0</td><td align="left"><a class="xref" href="#sx:commentStarter" title="sx:commentStarter">sx:commentStarter</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:restrictRecordType</td><td align="left">Deprecated</td><td align="left">0.6.0</td><td align="left"><a class="xref" href="#sx:recordRestriction" title="sx:recordRestriction">sx:recordRestriction</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:restrictField</td><td align="left">Deprecated</td><td align="left">0.6.0</td><td align="left"><a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:subtreeFilter</td><td align="left">Deprecated</td><td align="left">0.6.0</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:processRecordFilter</td><td align="left">Deprecated</td><td align="left">0.6.0</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:crcFlatFileSignature</td><td align="left">Deprecated</td><td align="left">0.5.5</td><td align="left"><a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:sizeFlatFileSignature</td><td align="left">Deprecated</td><td align="left">0.5.5</td><td align="left"><a class="xref" href="#sx:flatFileSignature" title="sx:flatFileSignature">sx:flatFileSignature</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:processRecords</td><td align="left">Deprecated</td><td align="left">0.5.3</td><td align="left"><a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:msvRecordFilter</td><td align="left">Deprecated</td><td align="left">0.5.2</td><td align="left"><a class="xref" href="#msv:recordValidator" title="msv:recordValidator">msv:recordValidator</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:recordSubtreeMap</td><td align="left">Deprecated</td><td align="left">0.5.0</td><td align="left"><a class="xref" href="#sx:transformRecord" title="sx:transformRecord">sx:transformRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:writeRecords</td><td align="left">Deprecated</td><td align="left">0.5.0</td><td align="left"><a class="xref" href="#sx:recordStream" title="sx:recordStream">sx:recordStream</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentSubtreeMap</td><td align="left">Deprecated</td><td align="left">0.5.0</td><td align="left"><a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:style</td><td align="left">Deprecated</td><td align="left">0.5.0</td><td align="left"><a class="xref" href="#sx:xslt" title="sx:xslt">sx:xslt</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">Record filter children of record reader</td><td align="left">Removed</td><td align="left">0.4.2</td><td align="left">Record filter siblings of record reader</td><td align="left">Discouraged since 0.4.0.  Examples were changed except for sx:directoryReader examples (now updated.)</td></tr><tr><td align="left">sx:flatFileContent</td><td align="left">Removed</td><td align="left">0.4.2</td><td align="left"><a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a> and <a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a></td><td align="left">Deprecated since 0.1.3.</td></tr><tr><td align="left">sx:processFragmentFilter</td><td align="left">Deprecated</td><td align="left">0.3.4</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentFragmentContentMap</td><td align="left">Deprecated</td><td align="left">0.3.4</td><td align="left"><a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentFragmentRecordMap</td><td align="left">Deprecated</td><td align="left">0.3.4</td><td align="left"><a class="xref" href="#sx:flattenSubtree" title="sx:flattenSubtree">sx:flattenSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentFragmentFieldMap</td><td align="left">Deprecated</td><td align="left">0.3.4</td><td align="left"><a class="xref" href="#sx:subtreeFieldMap" title="sx:subtreeFieldMap">sx:subtreeFieldMap</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentRecordMap</td><td align="left">Removed</td><td align="left">0.1.8</td><td align="left"><a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:element</td><td align="left">Deprecated</td><td align="left">0.3.2</td><td align="left"><a class="xref" href="#sx:elementMap" title="sx:elementMap">sx:elementMap</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:fieldSetElementMap</td><td align="left">Deprecated</td><td align="left">0.3.2</td><td align="left"><a class="xref" href="#sx:defaultFieldElementMap" title="sx:defaultFieldElementMap">sx:defaultFieldElementMap</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:flowFilter</td><td align="left">Deprecated</td><td align="left">0.3.2</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:flowRecordFilter</td><td align="left">Deprecated</td><td align="left">0.3.2</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:subrecordFilter</td><td align="left">Deprecated</td><td align="left">0.3.0</td><td align="left">See the edi example</td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:taskRunnerFilter</td><td align="left">Deprecated</td><td align="left">0.3.0</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:taskRunnerRecordFilter</td><td align="left">Deprecated</td><td align="left">0.3.0</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:flatFileRecordType</td><td align="left">Deprecated</td><td align="left">0.2.5</td><td align="left"><a class="xref" href="#sx:flatRecordType" title="sx:flatRecordType">sx:flatRecordType</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:chooseGroup</td><td align="left">Deprecated</td><td align="left">0.2.5</td><td align="left"><a class="xref" href="#sx:groupChoice" title="sx:groupChoice">sx:groupChoice</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:transformerSettings</td><td align="left">Deprecated</td><td align="left">0.2.5</td><td align="left"><a class="xref" href="#sx:xsltConfiguration" title="sx:xsltConfiguration">sx:xsltConfiguration</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:subtaskFilter</td><td align="left">Deprecated</td><td align="left">0.2.4</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:subtaskRecordFilter</td><td align="left">Deprecated</td><td align="left">0.2.4</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:processDocument</td><td align="left">Removed</td><td align="left">0.3.0</td><td align="left">Omit, <a class="xref" href="#sx:transform" title="sx:transform">sx:transform</a> is okay.</td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:currentRecordFilter</td><td align="left">Deprecated</td><td align="left">0.2.0</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentFragmentFilter</td><td align="left">Deprecated</td><td align="left">0.2.0</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:jaxpConfiguration</td><td align="left">Deprecated</td><td align="left">0.2.0</td><td align="left"><a class="xref" href="#sx:xsltConfiguration" title="sx:xsltConfiguration">sx:xsltConfiguration</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:documentFragmentFilter</td><td align="left">Deprecated</td><td align="left">0.1.8</td><td align="left"><a class="xref" href="#sx:processSubtree" title="sx:processSubtree">sx:processSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:pathFieldMap</td><td align="left">Removed</td><td align="left">0.1.8</td><td align="left"><a class="xref" href="#sx:subtreeFieldMap" title="sx:subtreeFieldMap">sx:subtreeFieldMap</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:expirySettings</td><td align="left">Removed</td><td align="left">0.1.8</td><td align="left"><a class="xref" href="#sx:expiryOptions" title="sx:expiryOptions">sx:expiryOptions</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:pathRecordMap</td><td align="left">Removed</td><td align="left">0.1.8</td><td align="left"><a class="xref" href="#sx:onSubtree" title="sx:onSubtree">sx:onSubtree</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:customSerializer</td><td align="left">Removed</td><td align="left">0.1.7</td><td align="left"><a class="xref" href="#sx:customSerializer" title="sx:customSerializer">sx:customSerializer</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">fop:fopSerializer</td><td align="left">Removed</td><td align="left">0.1.7</td><td align="left"><a class="xref" href="#fop:foSerializer" title="fop:foSerializer">fop:foSerializer</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:customProperty</td><td align="left">Deprecated</td><td align="left">0.1.7</td><td align="left"><a class="xref" href="#sx:property" title="sx:property">sx:property</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:taskRecordFilter</td><td align="left">Deprecated</td><td align="left">0.1.7</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:saxParser</td><td align="left">Deprecated</td><td align="left">0.1.7</td><td align="left"><a class="xref" href="#sx:saxReader" title="sx:saxReader">sx:saxReader</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:removeEmptyElements</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:customXmlFilter</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:saxFilter" title="sx:saxFilter">sx:saxFilter</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:emptyContent</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:emptyDocument" title="sx:emptyDocument">sx:emptyDocument</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:flatFileLayout</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:flatFile" title="sx:flatFile">sx:flatFile</a></td><td align="left">&nbsp;</td></tr><tr><td align="left"><a class="xref" href="#sx:jdbcConnectionPool" title="sx:jdbcConnectionPool">sx:jdbcConnectionPool</a></td><td align="left">Made abstract</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:sqlConnectionPool" title="sx:sqlConnectionPool">sx:sqlConnectionPool</a></td><td align="left">Old version still supported.</td></tr><tr><td align="left">sx:mailOutput</td><td align="left">Removed</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#jm:sendMail" title="jm:sendMail">jm:sendMail</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:readerWriterRecordFilter</td><td align="left">Removed</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:processRecord" title="sx:processRecord">sx:processRecord</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:recordOutput</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:writeRecords" title="sx:writeRecords">sx:writeRecords</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:restrictFieldFilter</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:fieldRestriction" title="sx:fieldRestriction">sx:fieldRestriction</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:streamContent</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:document" title="sx:document">sx:document</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:streamOutput</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:serialize" title="sx:serialize">sx:serialize</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:suppressEmptyElementFilter</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left"><a class="xref" href="#sx:removeEmptyElements" title="sx:removeEmptyElements">sx:removeEmptyElements</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:delimitedFieldType</td><td align="left">Deprecated</td><td align="left">0.1.4</td><td align="left"><a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:flatFileRecord</td><td align="left">Deprecated</td><td align="left">0.1.4</td><td align="left"><a class="xref" href="#sx:flatFileBody" title="sx:flatFileBody">sx:flatFileBody</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:positionalFieldType</td><td align="left">Deprecated</td><td align="left">0.1.4</td><td align="left"><a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:field</td><td align="left">Deprecated</td><td align="left">0.1.3</td><td align="left"><a class="xref" href="#sx:positionalField" title="sx:positionalField">sx:positionalField</a> or <a class="xref" href="#sx:delimitedField" title="sx:delimitedField">sx:delimitedField</a></td><td align="left">&nbsp;</td></tr><tr><td align="left">sx:flatFileContent</td><td align="left">Deprecated</td><td align="left">0.1.3</td><td align="left"><a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a></td><td align="left">Use a <a class="xref" href="#sx:flatFileReader" title="sx:flatFileReader">sx:flatFileReader</a>  child element.</td></tr><tr><td align="left">sx:sqlContent</td><td align="left">Removed</td><td align="left">0.1.3</td><td align="left"><a class="xref" href="#sx:recordContent" title="sx:recordContent">sx:recordContent</a></td><td align="left">Use a <a class="xref" href="#sx:sqlReader" title="sx:sqlReader">sx:sqlReader</a> child element</td></tr></tbody></table>
</div></div><br class="table-break">

<div class="table"><a name="d4e12572"></a><p class="title"><b>Table&nbsp;B.2.&nbsp;Deprecated and removed attributes</b></p><div class="table-contents">
<table summary="Deprecated and removed attributes" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th align="left">Element</th><th align="left">Attribute</th><th align="left">Change</th><th align="left">Version changed</th><th align="left">Replace with</th></tr></thead><tbody><tr><td align="left"><a class="xref" href="#sx:customJdbcConnectionPool" title="sx:customJdbcConnectionPool">sx:customJdbcConnectionPool</a></td><td align="left">className</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left">class</td></tr><tr><td align="left"><a class="xref" href="#sx:customRecordFilter" title="sx:customRecordFilter">sx:customRecordFilter</a></td><td align="left">className</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left">class</td></tr><tr><td align="left"><a class="xref" href="#sx:saxFilter" title="sx:saxFilter">sx:saxFilter</a> (saxFilter)</td><td align="left">className</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left">class</td></tr><tr><td align="left"><a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a></td><td align="left">className</td><td align="left">Deprecated</td><td align="left">0.1.6</td><td align="left">class</td></tr><tr><td align="left"><a class="xref" href="#sx:customRecordFilter" title="sx:customRecordFilter">sx:customRecordFilter</a></td><td align="left">classHandler</td><td align="left">Deprecated</td><td align="left">0.1.5</td><td align="left">class</td></tr><tr><td align="left"><a class="xref" href="#sx:saxFilter" title="sx:saxFilter">sx:saxFilter</a> (sx:saxFilter)</td><td align="left">classHandler</td><td align="left">Deprecated</td><td align="left">0.1.5</td><td align="left">class</td></tr><tr><td align="left"><a class="xref" href="#sx:dynamicContent" title="sx:dynamicContent">sx:dynamicContent</a></td><td align="left">classHandler</td><td align="left">Deprecated</td><td align="left">0.1.5</td><td align="left">class</td></tr></tbody></table>
</div></div><br class="table-break">

</div>

</div>




<div class="index"><div class="titlepage"><div><div><h2 class="title"><a name="d4e12632"></a>Index</h2></div></div></div><div class="index"><div class="indexdiv"><h3>A</h3><dl><dt>aggregateRecords, <a class="indexterm" href="#sx:aggregateRecords">sx:aggregateRecords</a></dt><dt>and, <a class="indexterm" href="#sx:and">sx:and</a></dt><dt>annotationRecord, <a class="indexterm" href="#sx:annotationRecord">sx:annotationRecord</a></dt><dt>assert, <a class="indexterm" href="#sx:assert">sx:assert</a></dt><dt>attachment, <a class="indexterm" href="#jm:attachment">jm:attachment</a></dt><dt>attribute, <a class="indexterm" href="#sx:attribute">sx:attribute</a></dt></dl></div><div class="indexdiv"><h3>B</h3><dl><dt>batchedRecordWriter, <a class="indexterm" href="#sx:batchedRecordWriter">sx:batchedRecordWriter</a></dt><dt>batchedSerializer, <a class="indexterm" href="#sx:batchedSerializer">sx:batchedSerializer</a></dt><dt>batchRecords, <a class="indexterm" href="#sx:batchRecords">sx:batchRecords</a></dt><dt>binaryField, <a class="indexterm" href="#sx:binaryField">sx:binaryField</a></dt></dl></div><div class="indexdiv"><h3>C</h3><dl><dt>cachedContent, <a class="indexterm" href="#sx:cachedContent">sx:cachedContent</a></dt><dt>cacheSettings, <a class="indexterm" href="#sx:cacheSettings">sx:cacheSettings</a></dt><dt>cdata, <a class="indexterm" href="#sx:cdata">sx:cdata</a></dt><dt>choose, <a class="indexterm" href="#sx:choose">sx:choose</a></dt><dt>combineFlatRecords, <a class="indexterm" href="#sx:recordComposition">sx:recordComposition</a></dt><dt>combinePhysicalRecords, <a class="indexterm" href="#sx:combinePhysicalRecords">sx:combinePhysicalRecords</a></dt><dt>combineRecords, <a class="indexterm" href="#sx:combineRecords">sx:combineRecords</a></dt><dt>command, <a class="indexterm" href="#sx:command">sx:command</a></dt><dt>commandArg, <a class="indexterm" href="#sx:commandArg">sx:commandArg</a></dt><dt>commandSink, <a class="indexterm" href="#sx:commandSink">sx:commandSink</a></dt><dt>commandSource, <a class="indexterm" href="#sx:commandSource">sx:commandSource</a></dt><dt>commentStarter, <a class="indexterm" href="#sx:commentStarter">sx:commentStarter</a></dt><dt>commentSymbol, <a class="indexterm" href="#sx:commentSymbol">sx:commentSymbol</a></dt><dt>composeRecord, <a class="indexterm" href="#sx:composeRecord">sx:composeRecord</a></dt><dt>compositeFlatRecordType, <a class="indexterm" href="#sx:compositeFlatRecordType">sx:compositeFlatRecordType</a></dt><dt>concat, <a class="indexterm" href="#sx:concat">sx:concat</a></dt><dt>content, <a class="indexterm" href="#sx:content">sx:content</a></dt><dt>convertDate, <a class="indexterm" href="#sx:convertDate">sx:convertDate</a></dt><dt>convertToDateTime, <a class="indexterm" href="#sx:convertToDateTime">sx:convertToDateTime</a></dt><dt>crcFlatFileSignature, <a class="indexterm" href="#sx:crcFlatFileSignature">sx:crcFlatFileSignature</a></dt><dt>currentDate, <a class="indexterm" href="#sx:currentDate">sx:currentDate</a></dt><dt>currentDateTime, <a class="indexterm" href="#sx:currentDateTime">sx:currentDateTime</a></dt><dt>currentTime, <a class="indexterm" href="#sx:currentTime">sx:currentTime</a></dt><dt>customEmitter, <a class="indexterm" href="#sx:customEmitter">sx:customEmitter</a></dt><dt>customJdbcConnectionPool, <a class="indexterm" href="#sx:customJdbcConnectionPool">sx:customJdbcConnectionPool</a></dt><dt>customRecordFilter, <a class="indexterm" href="#sx:customRecordFilter">sx:customRecordFilter</a></dt><dt>customRecordReader, <a class="indexterm" href="#sx:customRecordReader">sx:customRecordReader</a></dt><dt>customSerializer, <a class="indexterm" href="#sx:customSerializer">sx:customSerializer</a></dt></dl></div><div class="indexdiv"><h3>D</h3><dl><dt>date, <a class="indexterm" href="#sx:date">sx:date</a></dt><dt>decomposeRecord, <a class="indexterm" href="#sx:decomposeRecord">sx:decomposeRecord</a></dt><dt>decomposeRecords, <a class="indexterm" href="#sx:splitRecord">sx:splitRecord</a></dt><dt>defaultFieldAttributeMap, <a class="indexterm" href="#sx:defaultFieldAttributeMap">sx:defaultFieldAttributeMap</a></dt><dt>defaultFieldElementMap, <a class="indexterm" href="#sx:defaultFieldElementMap">sx:defaultFieldElementMap</a></dt><dt>defaultStreamSink, <a class="indexterm" href="#sx:defaultStreamSink">sx:defaultStreamSink</a></dt><dt>defaultStreamSource, <a class="indexterm" href="#sx:defaultStreamSource">sx:defaultStreamSource</a></dt><dt>defaultValue, <a class="indexterm" href="#sx:defaultValue">sx:defaultValue</a></dt><dt>delimitedField, <a class="indexterm" href="#sx:delimitedField">sx:delimitedField</a></dt><dt>delimitedNamedField, <a class="indexterm" href="#sx:delimitedNamedField">sx:delimitedNamedField</a></dt><dt>directoryReader, <a class="indexterm" href="#sx:directoryReader">sx:directoryReader</a></dt><dt>discard, <a class="indexterm" href="#sx:discard">sx:discard</a></dt><dt>discardFilter, <a class="indexterm" href="#sx:discardFilter">sx:discardFilter</a></dt><dt>discardHandler, <a class="indexterm" href="#sx:discardHandler">sx:discardHandler</a></dt><dt>document, <a class="indexterm" href="#sx:document">sx:document</a></dt><dt>documentation, <a class="indexterm" href="#sx:documentation">sx:documentation</a></dt><dt>documentFragment, <a class="indexterm" href="#sx:documentFragment">sx:documentFragment</a></dt><dt>documentSequence, <a class="indexterm" href="#sx:documentSequence">sx:documentSequence</a></dt><dt>documentSubtreeMap, <a class="indexterm" href="#sx:documentSubtreeMap">sx:documentSubtreeMap</a></dt><dt>dynamicContent, <a class="indexterm" href="#sx:dynamicContent">sx:dynamicContent</a></dt></dl></div><div class="indexdiv"><h3>E</h3><dl><dt>elementMap, <a class="indexterm" href="#sx:elementMap">sx:elementMap</a></dt><dt>emptyDocument, <a class="indexterm" href="#sx:emptyDocument">sx:emptyDocument</a></dt><dt>envVariable, <a class="indexterm" href="#sx:envVariable">sx:envVariable</a></dt><dt>escapeMarkup, <a class="indexterm" href="#sx:escapeMarkup">sx:escapeMarkup</a></dt><dt>escapeVariables, <a class="indexterm" href="#sx:escapeVariables">sx:escapeVariables</a></dt><dt>expiryOptions, <a class="indexterm" href="#sx:expiryOptions">sx:expiryOptions</a></dt></dl></div><div class="indexdiv"><h3>F</h3><dl><dt>fieldAttributeMap, <a class="indexterm" href="#sx:fieldAttributeMap">sx:fieldAttributeMap</a></dt><dt>fieldDelimiter, <a class="indexterm" href="#sx:fieldDelimiter">sx:fieldDelimiter</a></dt><dt>fieldElementMap, <a class="indexterm" href="#sx:fieldElementMap">sx:fieldElementMap</a></dt><dt>fieldElementSequenceMap, <a class="indexterm" href="#sx:fieldElementSequenceMap">sx:fieldElementSequenceMap</a></dt><dt>fieldRestriction, <a class="indexterm" href="#sx:fieldRestriction">sx:fieldRestriction</a></dt><dt>fieldValidator, <a class="indexterm" href="#sx:fieldValidator">sx:fieldValidator</a></dt><dt>fileFilter, <a class="indexterm" href="#sx:fileFilter">sx:fileFilter</a></dt><dt>fileSink, <a class="indexterm" href="#sx:fileSink">sx:fileSink</a></dt><dt>fileSource, <a class="indexterm" href="#sx:fileSource">sx:fileSource</a></dt><dt>filter, <a class="indexterm" href="#sx:filter">sx:filter</a></dt><dt>findAndReplace, <a class="indexterm" href="#sx:findAndReplace">sx:findAndReplace</a></dt><dt>flatFile, <a class="indexterm" href="#sx:flatFile">sx:flatFile</a></dt><dt>flatFileBody, <a class="indexterm" href="#sx:flatFileBody">sx:flatFileBody</a></dt><dt>flatFileHeader, <a class="indexterm" href="#sx:flatFileHeader">sx:flatFileHeader</a></dt><dt>flatFileReader, <a class="indexterm" href="#sx:flatFileReader">sx:flatFileReader</a></dt><dt>flatFileSignature, <a class="indexterm" href="#sx:flatFileSignature">sx:flatFileSignature</a></dt><dt>flatFileTrailer, <a class="indexterm" href="#sx:flatFileTrailer">sx:flatFileTrailer</a></dt><dt>flatFileWriter, <a class="indexterm" href="#sx:flatFileWriter">sx:flatFileWriter</a></dt><dt>flatRecordField, <a class="indexterm" href="#sx:flatRecordField">sx:flatRecordField</a></dt><dt>flatRecordType, <a class="indexterm" href="#sx:flatRecordType">sx:flatRecordType</a></dt><dt>flatRecordTypeChoice, <a class="indexterm" href="#sx:flatRecordTypeChoice">sx:flatRecordTypeChoice</a></dt><dt>flattenSubtree, <a class="indexterm" href="#sx:flattenSubtree">sx:flattenSubtree</a></dt><dt>foEmitter, <a class="indexterm" href="#fop:foEmitter">fop:foEmitter</a></dt><dt>formatDateTime, <a class="indexterm" href="#sx:formatDateTime">sx:formatDateTime</a></dt><dt>foSerializer, <a class="indexterm" href="#fop:foSerializer">fop:foSerializer</a></dt><dt>ftpClient, <a class="indexterm" href="#edt:ftpClient">edt:ftpClient</a></dt><dt>ftpDirectoryReader, <a class="indexterm" href="#edt:ftpDirectoryReader">edt:ftpDirectoryReader</a></dt><dt>ftpSink, <a class="indexterm" href="#edt:ftpSink">edt:ftpSink</a></dt><dt>ftpSource, <a class="indexterm" href="#edt:ftpSource">edt:ftpSource</a></dt></dl></div><div class="indexdiv"><h3>G</h3><dl><dt>groupBy, <a class="indexterm" href="#sx:groupBy">sx:groupBy</a></dt><dt>groupChoice, <a class="indexterm" href="#sx:groupChoice">sx:groupChoice</a></dt></dl></div><div class="indexdiv"><h3>I</h3><dl><dt>include, <a class="indexterm" href="#sx:include">sx:include</a></dt><dt>inlineSource, <a class="indexterm" href="#sx:inlineSource">sx:inlineSource</a></dt><dt>innerGroup, <a class="indexterm" href="#sx:innerGroup">sx:innerGroup</a></dt><dt>insertContent, <a class="indexterm" href="#sx:insertContent">sx:insertContent</a>, <a class="indexterm" href="#sx:nestedContent">sx:nestedContent</a></dt><dt>integerField, <a class="indexterm" href="#sx:integerField">sx:integerField</a></dt><dt>inverseRecordMapping, <a class="indexterm" href="#sx:inverseRecordMapping">sx:inverseRecordMapping</a></dt></dl></div><div class="indexdiv"><h3>J</h3><dl><dt>jdbcConnectionPool, <a class="indexterm" href="#sx:jdbcConnectionPool">sx:jdbcConnectionPool</a></dt></dl></div><div class="indexdiv"><h3>K</h3><dl><dt>key, <a class="indexterm" href="#sx:key">sx:key</a></dt><dt>keyField, <a class="indexterm" href="#sx:keyField">sx:keyField</a></dt></dl></div><div class="indexdiv"><h3>L</h3><dl><dt>lineNumber, <a class="indexterm" href="#sx:lineNumber">sx:lineNumber</a></dt><dt>log, <a class="indexterm" href="#sx:log">sx:log</a></dt></dl></div><div class="indexdiv"><h3>M</h3><dl><dt>mailAccount, <a class="indexterm" href="#jm:mailAccount">jm:mailAccount</a></dt><dt>mapXml, <a class="indexterm" href="#sx:mapXml">sx:mapXml</a></dt><dt>mergePhysicalSegments, <a class="indexterm" href="#sx:mergePhysicalSegments">sx:mergePhysicalSegments</a></dt><dt>message, <a class="indexterm" href="#jm:message">jm:message</a></dt><dt>metaRecord, <a class="indexterm" href="#sx:metaRecord">sx:metaRecord</a></dt><dt>modifyRecord, <a class="indexterm" href="#sx:modifyRecord">sx:modifyRecord</a></dt><dt>msvFilter, <a class="indexterm" href="#msv:msvFilter">msv:msvFilter</a></dt><dt>msvRecordFilter, <a class="indexterm" href="#msv:msvRecordFilter">msv:msvRecordFilter</a></dt></dl></div><div class="indexdiv"><h3>N</h3><dl><dt>nameDelimiter, <a class="indexterm" href="#sx:nameDelimiter">sx:nameDelimiter</a></dt><dt>newField, <a class="indexterm" href="#sx:newField">sx:newField</a></dt><dt>newRecord, <a class="indexterm" href="#sx:newRecord">sx:newRecord</a></dt></dl></div><div class="indexdiv"><h3>O</h3><dl><dt>onError, <a class="indexterm" href="#sx:onError">sx:onError</a></dt><dt>onRecord, <a class="indexterm" href="#sx:onRecord">sx:onRecord</a></dt><dt>onSubtree, <a class="indexterm" href="#sx:onSubtree">sx:onSubtree</a></dt><dt>or, <a class="indexterm" href="#sx:or">sx:or</a></dt><dt>otherwise, <a class="indexterm" href="#sx:otherwise">sx:otherwise</a></dt><dt>outerGroup, <a class="indexterm" href="#sx:outerGroup">sx:outerGroup</a></dt><dt>outputProperty, <a class="indexterm" href="#sx:outputProperty">sx:outputProperty</a></dt><dt>overpunchField, <a class="indexterm" href="#sx:overpunchField">sx:overpunchField</a></dt></dl></div><div class="indexdiv"><h3>P</h3><dl><dt>packedDecimalField, <a class="indexterm" href="#sx:packedDecimalField">sx:packedDecimalField</a></dt><dt>parameter, <a class="indexterm" href="#sx:parameter">sx:parameter</a></dt><dt>parameterReader, <a class="indexterm" href="#sx:parameterReader">sx:parameterReader</a></dt><dt>part, <a class="indexterm" href="#jm:part">jm:part</a></dt><dt>patternMatcher, <a class="indexterm" href="#sx:patternMatcher">sx:patternMatcher</a></dt><dt>positionalField, <a class="indexterm" href="#sx:positionalField">sx:positionalField</a></dt><dt>preserveMarkup, <a class="indexterm" href="#sx:preserveMarkup">sx:preserveMarkup</a></dt><dt>processRecord, <a class="indexterm" href="#sx:processRecord">sx:processRecord</a></dt><dt>processRecordFilter, <a class="indexterm" href="#sx:processRecordFilter">sx:processRecordFilter</a></dt><dt>processRecords, <a class="indexterm" href="#sx:processRecords">sx:processRecords</a></dt><dt>processSubtree, <a class="indexterm" href="#sx:processSubtree">sx:processSubtree</a></dt><dt>property, <a class="indexterm" href="#sx:property">sx:property</a></dt></dl></div><div class="indexdiv"><h3>Q</h3><dl><dt>quoteSymbol, <a class="indexterm" href="#sx:quoteSymbol">sx:quoteSymbol</a></dt></dl></div><div class="indexdiv"><h3>R</h3><dl><dt>raiseError, <a class="indexterm" href="#sx:raiseError">sx:raiseError</a></dt><dt>recordAggregator, <a class="indexterm" href="#sx:recordAggregator">sx:recordAggregator</a></dt><dt>recordContent, <a class="indexterm" href="#sx:recordContent">sx:recordContent</a></dt><dt>recordDelimiter, <a class="indexterm" href="#sx:recordDelimiter">sx:recordDelimiter</a></dt><dt>recordFilter, <a class="indexterm" href="#sx:recordFilter">sx:recordFilter</a></dt><dt>recordMapping, <a class="indexterm" href="#sx:recordMapping">sx:recordMapping</a></dt><dt>recordProjection, <a class="indexterm" href="#sx:recordProjection">sx:recordProjection</a></dt><dt>recordReader, <a class="indexterm" href="#sx:recordReader">sx:recordReader</a></dt><dt>recordRestriction, <a class="indexterm" href="#sx:recordRestriction">sx:recordRestriction</a></dt><dt>recordStream, <a class="indexterm" href="#sx:recordStream">sx:recordStream</a></dt><dt>recordSubtreeMap, <a class="indexterm" href="#sx:recordSubtreeMap">sx:recordSubtreeMap</a></dt><dt>recordTee, <a class="indexterm" href="#sx:recordTee">sx:recordTee</a></dt><dt>recordTest, <a class="indexterm" href="#sx:recordTest">sx:recordTest</a></dt><dt>recordValidator, <a class="indexterm" href="#sx:recordValidator">sx:recordValidator</a>, <a class="indexterm" href="#msv:recordValidator">msv:recordValidator</a></dt><dt>recordWriter, <a class="indexterm" href="#sx:recordWriter">sx:recordWriter</a></dt><dt>regexFieldCriteria, <a class="indexterm" href="#sx:regexFieldCriteria">sx:regexFieldCriteria</a></dt><dt>removeEmptyAttributes, <a class="indexterm" href="#sx:removeEmptyAttributes">sx:removeEmptyAttributes</a></dt><dt>removeEmptyElementFilter, <a class="indexterm" href="#sx:removeEmptyElementFilter">sx:removeEmptyElementFilter</a>, <a class="indexterm" href="#sx:removeEmptyElementFilter">sx:removeEmptyElementFilter</a></dt><dt>removeEmptyElements, <a class="indexterm" href="#sx:removeEmptyElements">sx:removeEmptyElements</a></dt><dt>reorderRecords, <a class="indexterm" href="#sx:reorderRecords">sx:reorderRecords</a></dt><dt>repeatDelimiter, <a class="indexterm" href="#sx:repeatDelimiter">sx:repeatDelimiter</a></dt><dt>repeatingField, <a class="indexterm" href="#sx:repeatingField">sx:repeatingField</a>, <a class="indexterm" href="#sx:repeatingNamedField">sx:repeatingNamedField</a></dt><dt>repeatingGroup, <a class="indexterm" href="#sx:nonrepeatingGroup">sx:nonrepeatingGroup</a>, <a class="indexterm" href="#sx:repeatingGroup">sx:repeatingGroup</a></dt><dt>replace, <a class="indexterm" href="#sx:replace">sx:replace</a></dt><dt>replaceRecord, <a class="indexterm" href="#sx:replaceRecord">sx:replaceRecord</a></dt><dt>replaceRecordFilter, <a class="indexterm" href="#sx:replaceRecordFilter">sx:replaceRecordFilter</a></dt><dt>resources, <a class="indexterm" href="#sx:resources">sx:resources</a></dt><dt>restrictField, <a class="indexterm" href="#sx:restrictField">sx:restrictField</a></dt><dt>restriction, <a class="indexterm" href="#sx:restriction">sx:restriction</a></dt><dt>restrictRecordFilter, <a class="indexterm" href="#sx:restrictRecordFilter">sx:restrictRecordFilter</a></dt><dt>restrictRecordType, <a class="indexterm" href="#sx:restrictRecordType">sx:restrictRecordType</a>, <a class="indexterm" href="#sx:restrictRecordType">sx:restrictRecordType</a></dt><dt>runService, <a class="indexterm" href="#sx:runService">sx:runService</a></dt></dl></div><div class="indexdiv"><h3>S</h3><dl><dt>saxFilter, <a class="indexterm" href="#sx:saxFilter">sx:saxFilter</a></dt><dt>saxReader, <a class="indexterm" href="#sx:saxReader">sx:saxReader</a></dt><dt>saxSink, <a class="indexterm" href="#sx:saxSink">sx:saxSink</a></dt><dt>saxSource, <a class="indexterm" href="#sx:saxSource">sx:saxSource</a></dt><dt>schemaValidator, <a class="indexterm" href="#msv:schemaValidator">msv:schemaValidator</a></dt><dt>segmentComposition, <a class="indexterm" href="#sx:segmentComposition">sx:segmentComposition</a></dt><dt>segmentDelimiter, <a class="indexterm" href="#sx:segmentDelimiter">sx:segmentDelimiter</a></dt><dt>segmentMapping, <a class="indexterm" href="#sx:segmentMapping">sx:segmentMapping</a></dt><dt>sender, <a class="indexterm" href="#jm:sender">jm:sender</a></dt><dt>sendMail, <a class="indexterm" href="#jm:sendMail">jm:sendMail</a></dt><dt>separator, <a class="indexterm" href="#sx:separator">sx:separator</a></dt><dt>serialize, <a class="indexterm" href="#sx:serialize">sx:serialize</a></dt><dt>service, <a class="indexterm" href="#sx:service">sx:service</a></dt><dt>shredXml, <a class="indexterm" href="#sx:shredXml">sx:shredXml</a></dt><dt>sizeFlatFileSignature, <a class="indexterm" href="#sx:sizeFlatFileSignature">sx:sizeFlatFileSignature</a></dt><dt>sort, <a class="indexterm" href="#sx:sort">sx:sort</a></dt><dt>sqlBatchWriter, <a class="indexterm" href="#sx:sqlBatchWriter">sx:sqlBatchWriter</a></dt><dt>sqlCommand, <a class="indexterm" href="#sx:sqlCommand">sx:sqlCommand</a></dt><dt>sqlConnectionPool, <a class="indexterm" href="#sx:sqlConnectionPool">sx:sqlConnectionPool</a></dt><dt>sqlPrepare, <a class="indexterm" href="#sx:sqlPrepare">sx:sqlPrepare</a></dt><dt>sqlQuery, <a class="indexterm" href="#sx:sqlQuery">sx:sqlQuery</a></dt><dt>sqlReader, <a class="indexterm" href="#sx:sqlReader">sx:sqlReader</a></dt><dt>sqlUpdate, <a class="indexterm" href="#sx:sqlUpdate">sx:sqlUpdate</a></dt><dt>sqlUpdateChoice, <a class="indexterm" href="#sx:sqlUpdateChoice">sx:sqlUpdateChoice</a></dt><dt>sqlUpdateDatabase, <a class="indexterm" href="#sx:sqlUpdateDatabase">sx:sqlUpdateDatabase</a></dt><dt>sqlUpdateDetail, <a class="indexterm" href="#sx:sqlUpdateDetail">sx:sqlUpdateDetail</a></dt><dt>sqlWriter, <a class="indexterm" href="#sx:sqlWriter">sx:sqlWriter</a></dt><dt>streamSink, <a class="indexterm" href="#sx:streamSink">sx:streamSink</a></dt><dt>streamSource, <a class="indexterm" href="#sx:streamSource">sx:streamSource</a></dt><dt>string, <a class="indexterm" href="#sx:string">sx:string</a></dt><dt>stringable, <a class="indexterm" href="#sx:stringable">sx:stringable</a></dt><dt>stringSource, <a class="indexterm" href="#sx:stringSource">sx:stringSource</a></dt><dt>style, <a class="indexterm" href="#sx:style">sx:style</a></dt><dt>subfieldDelimiter, <a class="indexterm" href="#sx:subfieldDelimiter">sx:subfieldDelimiter</a></dt><dt>subrecordMapping, <a class="indexterm" href="#sx:subrecordMapping">sx:subrecordMapping</a></dt><dt>subtreeFieldMap, <a class="indexterm" href="#sx:subtreeFieldMap">sx:subtreeFieldMap</a></dt><dt>subtreeFilter, <a class="indexterm" href="#sx:subtreeFilter">sx:subtreeFilter</a></dt><dt>subtreeRecordMap, <a class="indexterm" href="#sx:subtreeRecordMap">sx:subtreeRecordMap</a></dt><dt>subtreeRecordReader, <a class="indexterm" href="#sx:subtreeRecordReader">sx:subtreeRecordReader</a></dt><dt>sx:defaultFieldMapping, <a class="indexterm" href="#sx:defaultFieldMapping">sx:defaultFieldMapping</a></dt><dt>sx:escapeSubstitutions, <a class="indexterm" href="#sx:escapeSubstitutions">sx:escapeSubstitutions</a></dt><dt>systemProperty, <a class="indexterm" href="#sx:systemProperty">sx:systemProperty</a></dt></dl></div><div class="indexdiv"><h3>T</h3><dl><dt>tagDelimiter, <a class="indexterm" href="#sx:tagDelimiter">sx:tagDelimiter</a></dt><dt>tagTee, <a class="indexterm" href="#sx:tagTee">sx:tagTee</a></dt><dt>task, <a class="indexterm" href="#sx:task">sx:task</a></dt><dt>toString, <a class="indexterm" href="#sx:toString">sx:toString</a></dt><dt>transform, <a class="indexterm" href="#sx:transform">sx:transform</a></dt><dt>transformerSettings, <a class="indexterm" href="#sx:xsltConfiguration">sx:xsltConfiguration</a></dt><dt>transformRecord, <a class="indexterm" href="#sx:transformRecord">sx:transformRecord</a></dt></dl></div><div class="indexdiv"><h3>U</h3><dl><dt>unmatchedRecord, <a class="indexterm" href="#sx:unmatchedRecord">sx:unmatchedRecord</a></dt><dt>urlSource, <a class="indexterm" href="#sx:urlSource">sx:urlSource</a></dt></dl></div><div class="indexdiv"><h3>V</h3><dl><dt>validateField, <a class="indexterm" href="#sx:validateField">sx:validateField</a></dt><dt>validateRecord, <a class="indexterm" href="#sx:validateRecord">sx:validateRecord</a></dt><dt>validator, <a class="indexterm" href="#sx:validator">sx:validator</a></dt><dt>valueRestriction, <a class="indexterm" href="#sx:valueRestriction">sx:valueRestriction</a></dt><dt>vbsFlatRecordType, <a class="indexterm" href="#sx:vbsFlatRecordType">sx:vbsFlatRecordType</a></dt></dl></div><div class="indexdiv"><h3>W</h3><dl><dt>when, <a class="indexterm" href="#sx:when">sx:when</a></dt><dt>whitespaceSeparator, <a class="indexterm" href="#sx:whitespaceSeparator">sx:whitespaceSeparator</a></dt><dt>withParameters, <a class="indexterm" href="#sx:withParameters">sx:withParameters</a></dt><dt>wrap, <a class="indexterm" href="#sx:wrap">sx:wrap</a></dt><dt>writeRecords, <a class="indexterm" href="#sx:writeRecords">sx:writeRecords</a></dt></dl></div><div class="indexdiv"><h3>X</h3><dl><dt>xmlRecordReader, <a class="indexterm" href="#sx:xmlRecordReader">sx:xmlRecordReader</a></dt><dt>xquery, <a class="indexterm" href="#saxon:xquery">saxon:xquery</a></dt><dt>xslt, <a class="indexterm" href="#sx:xslt">sx:xslt</a></dt><dt>xsltSerializer, <a class="indexterm" href="#sx:xmlEmitter">sx:xmlEmitter</a>, <a class="indexterm" href="#sx:xsltSerializer">sx:xsltSerializer</a></dt></dl></div></div></div>

</div></body></html>