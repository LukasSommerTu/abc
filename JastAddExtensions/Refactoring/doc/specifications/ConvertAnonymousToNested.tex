\subsection{\refactoring{Convert Anonymous to Nested}}
This refactoring converts an anonymous class to a member class. Implemented in \sourcelink{TypePromotion/AnonymousClassToMemberClass.jrag}.

\begin{algorithm}
\caption{$\refactoring{Convert Anonymous to Nested}(A : \type{AnonymousClass}) : \type{MemberType}$}
\begin{algorithmic}[1]
\REQUIRE Java
\ENSURE Java
\medskip
\STATE $L \leftarrow \refactoring{Convert Anonymous to Local}(A)$
\RETURN $\refactoring{Convert Local to Member Class}(L)$
\end{algorithmic}
\end{algorithm}

We can implement this refactoring simply as the composition of \refactoring{Convert Anonymous to Local} and \refactoring{Convert Local to Member Class}. Note that this specification does not handle the special case where $A$ occurs in a field initialiser.
