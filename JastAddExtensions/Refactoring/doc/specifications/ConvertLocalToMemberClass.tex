\subsection{\refactoring{Convert Local to Member Class}}
This refactoring converts a local class to a member class. Implemented in \sourcelink{TypePromotion/LocalClassToMemberClass.jrag}.

\begin{algorithm}
\caption{$\refactoring{Convert Local to Member Class}(L : \type{LocalClass}) : \type{MemberType}$}
\begin{algorithmic}[1]
\REQUIRE Java
\ENSURE Java $\cup$ locked names, fresh variables
\medskip
\STATE $A \leftarrow \text{enclosing type of $L$}$
\STATE close $L$ over type variables
\STATE close $L$ over local variables
\IF{$L$ is in static context}
  \STATE make $L$ static
\ENDIF
\STATE $\util{lockNames}(\util{name}(L))$
\STATE lock all names in $L$
\STATE remove $L$ from its declaring method
\STATE $\refactoring{Insert Type}(A, L)$
\end{algorithmic}
\end{algorithm}

TODO: provide specification of close over type variables and close over local variables (implemented in TypePromotion/CloseOverVariables.jrag)
