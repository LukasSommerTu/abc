Running test 165: pureJava/nameConflicts/type and package name conflicts caught as errors (1)
Commandline: abc -d pureJava/nameConflicts pureJava/nameConflicts/p1/p2.java pureJava/nameConflicts/p1/Main1.java pureJava/nameConflicts/p1/Foo.java pureJava/nameConflicts/p1/p2/Foo.java 
Abc started on Tue Aug 31 02:16:36 BST 2004
Transforming p1.p2... 
Transforming p1.p2$Foo... 
Transforming p1.Main1... 
Transforming p1.Foo... 
Transforming p1.p2.Foo... 
Abc finished on Tue Aug 31 02:16:37 BST 2004. ( 0 min. 0 sec. )
================================================
Breakdown of abc phases  (total: 923 millisec.)
------------------------------------------------
[ 58.397% ] Init. of Soot:  539
[ 00.000% ] Loading Jars:  0
[ 00.108% ] Create polyglot compiler:  1
[ 15.710% ] Polyglot phases:  145
[ 15.818% ] Soot resolving:  146
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.000% ] Intertype Adjuster:  0
[ 00.542% ] Retrieving bodies:  5
[ 03.792% ] Update pattern matcher:  35
[ 00.108% ] Weave Initializers:  1
[ 00.000% ] Load shadow types:  0
[ 00.108% ] Compute advice lists:  1
[ 00.000% ] Add aspect code:  0
[ 00.108% ] Weaving advice:  1
[ 00.000% ] Exceptions check:  0
[ 00.000% ] Validate jimple:  0
[ 02.709% ] Soot Packs:  25
[ 02.600% ] Soot Writing Output:  24
================================================
Compilation succeeded but was expected to fail.
FAIL: Test 165: "pureJava/nameConflicts/type and package name conflicts caught as errors (1)" failed.


Running test 178: pureJava/nested finally blocks have interesting frame location problems
Commandline: abc -d pureJava pureJava/NestedFinally.java 
Abc started on Tue Aug 31 02:16:47 BST 2004
Compilation produced an unexpected number of errors: 1, should be 0
Actual errors found: 
Semantic Error at pureJava/NestedFinally.java:5,18-35: Missing return statement.
FAIL: Test 178: "pureJava/nested finally blocks have interesting frame location problems" failed.


Running test 418: new/join points exist in the execution of field initializers
Commandline: abc -d new new/FieldInitializerJoinPoints.java 
Abc started on Tue Aug 31 02:20:08 BST 2004
Transforming FieldInitializerJoinPoints... 
Transforming A... 
Abc finished on Tue Aug 31 02:20:09 BST 2004. ( 0 min. 1 sec. )
================================================
Breakdown of abc phases  (total: 1075 millisec.)
------------------------------------------------
[ 49.209% ] Init. of Soot:  529
[ 00.000% ] Loading Jars:  0
[ 00.000% ] Create polyglot compiler:  0
[ 16.465% ] Polyglot phases:  177
[ 16.186% ] Soot resolving:  174
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.000% ] Intertype Adjuster:  0
[ 01.674% ] Retrieving bodies:  18
[ 03.442% ] Update pattern matcher:  37
[ 00.000% ] Weave Initializers:  0
[ 00.000% ] Load shadow types:  0
[ 01.116% ] Compute advice lists:  12
[ 00.093% ] Add aspect code:  1
[ 00.093% ] Weaving advice:  1
[ 00.093% ] Exceptions check:  1
[ 00.000% ] Validate jimple:  0
[ 06.977% ] Soot Packs:  75
[ 04.651% ] Soot Writing Output:  50
================================================
Test failed, compiled class behaved incorrectly
Message: fail ncount: 0 < 1
org.aspectj.bridge.AbortException: ncount: 0 < 1
	at org.aspectj.bridge.MessageWriter.handleMessage(MessageWriter.java:47)
	at org.aspectj.testing.Tester.handle(Tester.java:963)
	at org.aspectj.testing.Tester.checkFailed(Tester.java:177)
	at org.aspectj.testing.Tester.checkEqual(Tester.java:462)
	at FieldInitializerJoinPoints.main(FieldInitializerJoinPoints.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at abc.testing.TestCase.runTest(TestCase.java:393)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
FAIL: Test 418: "new/join points exist in the execution of field initializers" failed.


Running test 472: new/primitive parameters coercable to Object just like return values are
Commandline: abc -d new new/ObjectForInt.java 
Abc started on Tue Aug 31 02:21:24 BST 2004
Transforming ObjectForInt... 
Transforming Test... 
Transforming A... 
Transforming Abc$proceed$A$around$1397... 
Abc finished on Tue Aug 31 02:21:25 BST 2004. ( 0 min. 0 sec. )
================================================
Breakdown of abc phases  (total: 954 millisec.)
------------------------------------------------
[ 57.547% ] Init. of Soot:  549
[ 00.000% ] Loading Jars:  0
[ 00.000% ] Create polyglot compiler:  0
[ 15.094% ] Polyglot phases:  144
[ 13.732% ] Soot resolving:  131
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.000% ] Intertype Adjuster:  0
[ 00.839% ] Retrieving bodies:  8
[ 03.564% ] Update pattern matcher:  34
[ 00.000% ] Weave Initializers:  0
[ 00.000% ] Load shadow types:  0
[ 00.524% ] Compute advice lists:  5
[ 00.000% ] Add aspect code:  0
[ 00.419% ] Weaving advice:  4
[ 00.000% ] Exceptions check:  0
[ 00.000% ] Validate jimple:  0
[ 04.822% ] Soot Packs:  46
[ 03.459% ] Soot Writing Output:  33
================================================
Test failed, compiled class behaved incorrectly
Message: fail Test.a: 4 < 10
org.aspectj.bridge.AbortException: Test.a: 4 < 10
	at org.aspectj.bridge.MessageWriter.handleMessage(MessageWriter.java:47)
	at org.aspectj.testing.Tester.handle(Tester.java:963)
	at org.aspectj.testing.Tester.checkFailed(Tester.java:177)
	at org.aspectj.testing.Tester.checkEqual(Tester.java:462)
	at ObjectForInt.main(ObjectForInt.java:6)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at abc.testing.TestCase.runTest(TestCase.java:393)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
FAIL: Test 472: "new/primitive parameters coercable to Object just like return values are" failed.


Running test 496: new/elaborated into testing of around on all join points
Commandline: abc -d new new/AroundAll.java 
Abc started on Tue Aug 31 02:21:55 BST 2004
Transforming AroundAll... 
Transforming C... 
Transforming SuperC... 
Transforming A... 
Transforming Abc$proceed$A$around$1601... 
Abc finished on Tue Aug 31 02:21:58 BST 2004. ( 0 min. 2 sec. )
================================================
Breakdown of abc phases  (total: 2676 millisec.)
------------------------------------------------
[ 21.300% ] Init. of Soot:  570
[ 00.000% ] Loading Jars:  0
[ 00.000% ] Create polyglot compiler:  0
[ 08.184% ] Polyglot phases:  219
[ 06.129% ] Soot resolving:  164
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.000% ] Intertype Adjuster:  0
[ 01.308% ] Retrieving bodies:  35
[ 01.981% ] Update pattern matcher:  53
[ 00.037% ] Weave Initializers:  1
[ 00.000% ] Load shadow types:  0
[ 01.009% ] Compute advice lists:  27
[ 00.037% ] Add aspect code:  1
[ 13.303% ] Weaving advice:  356
[ 00.112% ] Exceptions check:  3
[ 00.000% ] Validate jimple:  0
[ 37.070% ] Soot Packs:  992
[ 09.529% ] Soot Writing Output:  255
================================================
Test failed, compiled class behaved incorrectly
Message: fail steps expected array of length 114 got 126
org.aspectj.bridge.AbortException: steps expected array of length 114 got 126
	at org.aspectj.bridge.MessageWriter.handleMessage(MessageWriter.java:47)
	at org.aspectj.testing.Tester.handle(Tester.java:963)
	at org.aspectj.testing.Tester.checkFailed(Tester.java:177)
	at org.aspectj.testing.Tester.checkEqual(Tester.java:228)
	at A.checkLog(AroundAll.java:176)
	at AroundAll.abc$static$proceed$A$around$1601(AroundAll.java:9)
	at A.around$1601(AroundAll.java:199)
	at AroundAll.main(AroundAll.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at abc.testing.TestCase.runTest(TestCase.java:393)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
FAIL: Test 496: "new/elaborated into testing of around on all join points" failed.


Running test 555: new/accessing protected superclass members in and outside CCC from body of method introduction
Commandline: abc -d new new/SuperInIntroduction.java 
Abc started on Tue Aug 31 02:23:24 BST 2004
Transforming SuperInIntroduction... 
Transforming Super... 
Transforming Sub... 
Transforming ObjectSub... 
Transforming A... 
Abc finished on Tue Aug 31 02:23:25 BST 2004. ( 0 min. 1 sec. )
================================================
Breakdown of abc phases  (total: 1076 millisec.)
------------------------------------------------
[ 51.859% ] Init. of Soot:  558
[ 00.000% ] Loading Jars:  0
[ 00.093% ] Create polyglot compiler:  1
[ 16.543% ] Polyglot phases:  178
[ 10.037% ] Soot resolving:  108
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.093% ] Intertype Adjuster:  1
[ 01.952% ] Retrieving bodies:  21
[ 04.740% ] Update pattern matcher:  51
[ 00.093% ] Weave Initializers:  1
[ 00.000% ] Load shadow types:  0
[ 00.465% ] Compute advice lists:  5
[ 00.093% ] Add aspect code:  1
[ 00.093% ] Weaving advice:  1
[ 00.093% ] Exceptions check:  1
[ 00.000% ] Validate jimple:  0
[ 08.922% ] Soot Packs:  96
[ 04.926% ] Soot Writing Output:  53
================================================
InvocationTargetException while trying to run compiled class: java.lang.VerifyError: (class: A, method: getClone signature: (LObjectSub;)LObjectSub;) Bad access to protected data
java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at abc.testing.TestCase.runTest(TestCase.java:393)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
Caused by: java.lang.VerifyError: (class: A, method: getClone signature: (LObjectSub;)LObjectSub;) Bad access to protected data
	at Sub.getInt(SuperInIntroduction.java)
	at SuperInIntroduction.main(SuperInIntroduction.java:6)
	... 7 more
FAIL: Test 555: "new/accessing protected superclass members in and outside CCC from body of method introduction" failed.


Running test 64301: abctests/new/type pattern matching for inner classes (from Ken Horn)
Commandline: abc -d abctests/new abctests/new/test/TypePat.java 
Abc started on Tue Aug 31 02:25:10 BST 2004
Transforming test.TypePat... 
Transforming test.TypePat$1... 
Transforming test.TypePat$Inner... 
Transforming test.TypePat$InnerA... 
Transforming test.C... 
Transforming test.A... 
Abc finished on Tue Aug 31 02:25:12 BST 2004. ( 0 min. 1 sec. )
================================================
Breakdown of abc phases  (total: 1717 millisec.)
------------------------------------------------
[ 54.630% ] Init. of Soot:  938
[ 00.000% ] Loading Jars:  0
[ 00.000% ] Create polyglot compiler:  0
[ 11.881% ] Polyglot phases:  204
[ 08.154% ] Soot resolving:  140
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.000% ] Intertype Adjuster:  0
[ 01.223% ] Retrieving bodies:  21
[ 03.960% ] Update pattern matcher:  68
[ 00.058% ] Weave Initializers:  1
[ 00.000% ] Load shadow types:  0
[ 01.223% ] Compute advice lists:  21
[ 00.058% ] Add aspect code:  1
[ 00.932% ] Weaving advice:  16
[ 00.116% ] Exceptions check:  2
[ 00.000% ] Validate jimple:  0
[ 09.668% ] Soot Packs:  166
[ 08.096% ] Soot Writing Output:  139
================================================
Test failed, compiled class behaved incorrectly
Message: fail [ expected event "A.before2: C.foo()" not found]
org.aspectj.bridge.AbortException: [ expected event "A.before2: C.foo()" not found]
	at org.aspectj.bridge.MessageWriter.handleMessage(MessageWriter.java:47)
	at org.aspectj.testing.Tester.handle(Tester.java:963)
	at org.aspectj.testing.Tester.checkFailed(Tester.java:177)
	at org.aspectj.testing.Tester.check(Tester.java:204)
	at org.aspectj.testing.Tester.checkEqualIgnoreDups(Tester.java:702)
	at org.aspectj.testing.Tester.checkEqual(Tester.java:742)
	at org.aspectj.testing.Tester.checkEvents(Tester.java:922)
	at org.aspectj.testing.Tester.checkAndClearEvents(Tester.java:933)
	at test.TypePat.main(TypePat.java:42)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at abc.testing.TestCase.runTest(TestCase.java:393)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
FAIL: Test 64301: "abctests/new/type pattern matching for inner classes (from Ken Horn)" failed.


Running test 667: pureJava/assert coverage tests in one package [requires 1.4]
Commandline: abc -d pureJava -source 1.4 pureJava/AssertInOnePackage.java 
Abc started on Tue Aug 31 02:27:01 BST 2004
Unexpected exception while compiling: polyglot.util.InternalCompilerError: unhandled exception during compilation
polyglot.util.InternalCompilerError: unhandled exception during compilation
	at abc.main.Main.run(Main.java:557)
	at abc.testing.TestCase.runTest(TestCase.java:287)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
Caused by: java.util.NoSuchElementException: No such class: InnerStaticInitializerOnHelperI$11
	at abc.weaving.aspectinfo.AbcFactory.sootClassToClassType(AbcFactory.java:93)
	at abc.aspectj.visit.PCStructure.insertClassAndSuperclasses(PCStructure.java:163)
	at abc.aspectj.visit.PCStructure.updateWithAllSootClasses(PCStructure.java:178)
	at abc.aspectj.visit.PatternMatcher.updateWithAllSootClasses(PatternMatcher.java:125)
	at abc.main.Main.weave(Main.java:765)
	at abc.main.Main.run(Main.java:501)
	... 3 more
FAIL: Test 667: "pureJava/assert coverage tests in one package [requires 1.4]" failed.


Running test 752: bugs/problems with finalize call
Commandline: abc -d bugs bugs/Finalizer.java 
Abc started on Tue Aug 31 02:27:56 BST 2004
Transforming Finalizer... 
Transforming FinalizeContract... 
Transforming Abc$proceed$FinalizeContract$around$2595... 
Abc finished on Tue Aug 31 02:27:56 BST 2004. ( 0 min. 0 sec. )
================================================
Breakdown of abc phases  (total: 822 millisec.)
------------------------------------------------
[ 65.572% ] Init. of Soot:  539
[ 00.000% ] Loading Jars:  0
[ 00.000% ] Create polyglot compiler:  0
[ 20.073% ] Polyglot phases:  165
[ 00.122% ] Soot resolving:  1
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.122% ] Intertype Adjuster:  1
[ 00.487% ] Retrieving bodies:  4
[ 03.771% ] Update pattern matcher:  31
[ 00.122% ] Weave Initializers:  1
[ 00.000% ] Load shadow types:  0
[ 00.243% ] Compute advice lists:  2
[ 00.000% ] Add aspect code:  0
[ 00.243% ] Weaving advice:  2
[ 00.122% ] Exceptions check:  1
[ 00.000% ] Validate jimple:  0
[ 06.569% ] Soot Packs:  54
[ 02.555% ] Soot Writing Output:  21
================================================
Compilation succeeded but was expected to fail.
FAIL: Test 752: "bugs/problems with finalize call" failed.


Running test 77201: abctests/bugs/declare soft and throw statements
Commandline: abc -d abctests/bugs abctests/bugs/ConvertToUnchecked.java 
Abc started on Tue Aug 31 02:28:11 BST 2004
Compilation produced an unexpected number of errors: 1, should be 0
Actual errors found: 
Semantic Error at ConvertToUnchecked.java:44,2-11: The exception java.io.IOException must be either caught or declared to be thrown
FAIL: Test 77201: "abctests/bugs/declare soft and throw statements" failed.


Running test 979: abctests/bugs/pack1/packages in wrong place
Commandline: abc -d abctests/bugs/pack1 abctests/bugs/pack1/A/B.java 
Abc started on Tue Aug 31 02:32:58 BST 2004
Unexpected exception while compiling: polyglot.util.InternalCompilerError: exception while resolving C.B
polyglot.util.InternalCompilerError: exception while resolving C.B
	at abc.aspectj.visit.Jimplify$AbcClassSource.resolve(Jimplify.java:87)
	at soot.SootResolver.bringToHierarchy(SootResolver.java:147)
	at soot.SootResolver.bringToSignatures(SootResolver.java:168)
	at soot.SootResolver.bringToBodies(SootResolver.java:210)
	at soot.SootResolver.processResolveWorklist(SootResolver.java:102)
	at soot.SootResolver.resolveClass(SootResolver.java:88)
	at soot.Scene.loadClass(Scene.java:329)
	at abc.main.Main.compile(Main.java:714)
	at abc.main.Main.run(Main.java:497)
	at abc.testing.TestCase.runTest(TestCase.java:287)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1438)
	at java.lang.String.substring(String.java:1411)
	at soot.javaToJimple.InitialResolver.createClassToSourceMap(InitialResolver.java:173)
	at soot.javaToJimple.InitialResolver.resolveAST(InitialResolver.java:144)
	at abc.aspectj.visit.Jimplify$AbcClassSource.resolve(Jimplify.java:80)
	... 11 more
FAIL: Test 979: "abctests/bugs/pack1/packages in wrong place" failed.


Running test 980: abctests/bugs/binding of variables inside || pointcuts
Commandline: abc -d abctests/bugs abctests/bugs/BindProblem.java 
Abc started on Tue Aug 31 02:32:59 BST 2004
Transforming BindProblem... 
Transforming Aspect... 
Abc finished on Tue Aug 31 02:33:00 BST 2004. ( 0 min. 1 sec. )
================================================
Breakdown of abc phases  (total: 1339 millisec.)
------------------------------------------------
[ 70.052% ] Init. of Soot:  938
[ 00.000% ] Loading Jars:  0
[ 00.000% ] Create polyglot compiler:  0
[ 12.024% ] Polyglot phases:  161
[ 08.140% ] Soot resolving:  109
[ 00.000% ] Resolve class names:  0
[ 00.000% ] Declare Parents:  0
[ 00.000% ] Intertype Adjuster:  0
[ 00.373% ] Retrieving bodies:  5
[ 04.257% ] Update pattern matcher:  57
[ 00.000% ] Weave Initializers:  0
[ 00.000% ] Load shadow types:  0
[ 00.224% ] Compute advice lists:  3
[ 00.000% ] Add aspect code:  0
[ 00.075% ] Weaving advice:  1
[ 00.075% ] Exceptions check:  1
[ 00.000% ] Validate jimple:  0
[ 03.286% ] Soot Packs:  44
[ 01.494% ] Soot Writing Output:  20
================================================
Unexpected exception while trying to run compiled class: java.lang.VerifyError: (class: BindProblem, method: main signature: ([Ljava/lang/String;)V) Accessing value from uninitialized register 3
java.lang.VerifyError: (class: BindProblem, method: main signature: ([Ljava/lang/String;)V) Accessing value from uninitialized register 3
	at java.lang.Class.getDeclaredMethods0(Native Method)
	at java.lang.Class.privateGetDeclaredMethods(Class.java:1647)
	at java.lang.Class.getDeclaredMethod(Class.java:1254)
	at abc.testing.TestCase.runTest(TestCase.java:383)
	at abc.testing.Main.doCase(Main.java:282)
	at abc.testing.Main.main(Main.java:116)
FAIL: Test 980: "abctests/bugs/binding of variables inside || pointcuts" failed.


